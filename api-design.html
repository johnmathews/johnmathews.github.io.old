<!doctype html>
<html id="baz" class="" lang="en">
  <head>
        <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

      <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
      <!--[if lt IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
      <![endif]-->

      <title> How To Design An API -  JohnMathews.eu  </title>
      <meta name="title" content=" How To Design An API -  JohnMathews.eu  " />
      <meta property="og:title" content=" How To Design An API " />
      <meta property="twitter:title" content=" How To Design An API  " />

      <meta name="keywords" content="  " />
      <meta name="author" content="John Mathews" />
      <meta name="twitter:creator" content="@johnmathews" />

      <meta name="description" content=" Background It’s more of an art than a science: REpresentational State Transfer is an architectural style. SOAP (Simple Object Access Protocol) is a heavier style. GraphQL - doesnt overfetch. Graph... " />
      <meta name="twitter:description" content=" Background It’s more of an art than a science: REpresentational State Transfer is an architectural style. SOAP (Simple Object Access Protocol) is a heavier style. GraphQL - doesnt overfetch. Graph... " />
      <meta property="og:description" content=" Background It’s more of an art than a science: REpresentational State Transfer is an architectural style. SOAP (Simple Object Access Protocol) is a heavier style. GraphQL - doesnt overfetch. Graph... " />

      <meta property="og:url" content="https://johnmathews.eu/api-design.html" />
      <meta property="twitter:url" content="https://johnmathews.eu/api-design.html" />

      <meta name="twitter:image" content="https://johnmathews.eu/
" />
      <meta property="og:image" content="https://johnmathews.eu/
" />

      <meta property="twitter:card" content="  summary  " />
      <meta name="twitter:domain" content="https://johnmathews.eu" />

      <meta property="og:type" content=" article " />

      <link rel="icon" href="https://johnmathews.eu/favicon.png" />

        <script>
          window.ga = window.ga || function () {
                      (ga.q = ga.q || []).push(arguments);
                    };
                    ga.l = +new Date();
                    ga("create", "UA-82253540-1", "auto");
                    ga("send", "pageview");
        </script>
        <script async src="https://www.google-analytics.com/analytics.js"></script>

      <script async src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>

      <link href="https://johnmathews.eu/theme/css/styles.css" rel="stylesheet" media="print" onload="this.media='all'" />
      <link id="PygmentCSS" href="https://johnmathews.eu/theme/css/pygment-light.css" rel="stylesheet" media="print" onload="this.media='all'" />

        <script async>
          let theme = localStorage.getItem('theme');
        </script>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />

  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
  <style type="text/css">
      #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
      /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
         We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
  </style>
  </head>

  <body class="dark:bg-gray-800">
    <a class="pt-20 mt-20 " name="top"></a>
    <nav class="text-xl top-0 w-full lg:fixed flex flex-wrap items-center justify-between p-5 bg-gradient-to-r from-yellow-400 to-pink-400">
      <div>
        <a class="prose prose-xl text-gray-700 hover:text-white font-semibold block md:inline-block px-3 py-3" href="https://johnmathews.eu/blog">JohnMathews.eu</a>
      </div>
      <div class="flex md:hidden">
        <button id="hamburger" aria-label="Menu" >
          <img class="toggle rounded-xl block" src="https://img.icons8.com/fluent-systems-regular/2x/menu-squared-2.png" width="40" height="40" alt="open menu" />
          <img class="toggle rounded-xl hidden" src="https://img.icons8.com/fluent-systems-regular/2x/close-window.png" width="40" height="40" alt="close menu" />
        </button>
      </div>
      <div class="toggle hidden md:flex w-full md:w-auto text-right text-bold mt-5 -mb-2 md:mb-0 md:mt-0 border-t-2 border-blue-900 md:border-none">
        <a class="prose prose-xl text-gray-700 hover:text-white font-semibold block md:inline-block px-3 py-3 border-b-2 border-blue-900 md:border-none" href="https://johnmathews.eu/about">About</a>
        <a class="prose prose-xl text-gray-700 hover:text-white font-semibold block md:inline-block px-3 py-3 border-b-2 border-blue-900 md:border-none" href="https://johnmathews.eu/experience">Experience</a>
        <button class="pl-5 pr-3 pt-3 md:pt-0" id="theme-toggle" aria-label="themeToggle" onclick="modeSwitcher()">
          <div id="day" class="modeIcon -mb-0">
            <img src="https://johnmathews.eu/theme/images/sun.svg" type="image/svg+xml" width="30" height="30" alt="light mode">
          </div>
          <div id="night" class="modeIcon -mb-0 hidden">
            <img src="https://johnmathews.eu/theme/images/night.svg" type="image/svg+xml" width="25" height="25" alt="dark mode">
          </div>
        </button>
      </div>
    </nav>

    <main class="lg:mt-20 lg:pt-5">
  <div class="-ml-5 -mr-5 lg:mx-auto max-w-4xl px-10 my-4 py-6 rounded-lg shadow-md dark:bg-gray-700">

      <div class="markdown text-center dark:text-gray-200">
        <h1> How To Design An <span class="caps">API</span> </h1>
      </div>

      <div class="py-1 text-gray-700 font-bold text-center dark:text-gray-200">
        By John Mathews
      </div>

      <div class="py-1 text-gray-700 font-bold text-center dark:text-gray-200">
        Category:
          <a href="https://johnmathews.eu/category/technical/developer-tools.html">Developer Tools</a>
          
      </div>

      <div class="font-light text-gray-600 pb-5 text-center dark:text-gray-200">
        January 2021
      </div>


      <div class="markdown dark:text-gray-200">
        <h2>Background</h2>
<ul>
<li>It&#8217;s more of an art than a&nbsp;science:</li>
<li>REpresentational State Transfer is an architectural style.<ul>
<li><span class="caps">SOAP</span> (Simple Object Access Protocol) is a heavier&nbsp;style.</li>
<li><code>GraphQL</code> - doesnt overfetch. Graph query language made by&nbsp;Facebook.</li>
</ul>
</li>
<li><code>Django</code> model managers are an&nbsp;api</li>
<li>Exposes a databases to&nbsp;clients</li>
<li>A <span class="caps">URL</span> route (endpoint) that returns <span class="caps">JSON</span> or <span class="caps">XML</span>.</li>
<li><span class="caps">POST</span>, <span class="caps">GET</span>, <span class="caps">PUT</span>, <span class="caps">PATCH</span>, <span class="caps">DELETE</span> - <span class="caps">HTTP</span> methods. Correspond to <span class="caps">CRUD</span>, Create, Read, Update/Replace, Update/Modify,&nbsp;Delete</li>
<li><span class="caps">HTTP</span> <span class="caps">METHODS</span>:<ul>
<li><span class="caps">PUT</span> (create or update) is idempotent, <span class="caps">POST</span> is not idempotent (keep on creating,&nbsp;updating)</li>
<li><span class="caps">PATCH</span> - partial&nbsp;update</li>
<li><span class="caps">GET</span>, <span class="caps">HEAD</span>, <span class="caps">OPTIONS</span> and <span class="caps">TRACE</span> methods are idempotent cos they are only designed for retrieving&nbsp;data.</li>
<li><span class="caps">DELETE</span></li>
<li><span class="caps">HEAD</span> - almost identical to <span class="caps">GET</span>, but without any body. Good for checking what a request would return, i.e. Before downloading a large amount of&nbsp;data, </li>
<li><span class="caps">OPTIONS</span> - returns data describing what other methods and operations the server supports at the given <span class="caps">URL</span>. More loosely defined than other&nbsp;verbs. </li>
</ul>
</li>
</ul>
<h2>Advice</h2>
<ul>
<li>Use <span class="caps">HTTP</span> verbs to make requests more&nbsp;meaningful</li>
<li>Use sensible resource names<ul>
<li>Use identifiers in your URLs, not the query string.<ul>
<li><code>Good</code>:&nbsp;/users/12345</li>
<li><code>Poor</code>:&nbsp;/api?type=user&amp;id=23</li>
</ul>
</li>
</ul>
</li>
<li>Use the hierarchical structure of the <span class="caps">URL</span> to imply the structure of the <span class="caps">API</span>.</li>
<li>Design (names and structure of things) for the user/client, not for the database.<ul>
<li>Resource names should be nouns not&nbsp;verbs</li>
<li>Use plurals consistently, not collection verbiage. Good: customers/123 Bad:&nbsp;customer_list/123</li>
<li>Use&nbsp;case-insensitivity.</li>
<li>Use camel case or snake case&nbsp;consistency</li>
<li>Short is better than long, but be&nbsp;clear</li>
<li>Spend time on design before writing&nbsp;code</li>
</ul>
</li>
<li>Use <span class="caps">HTTP</span> response codes to indicate&nbsp;status</li>
<li>Prefer <span class="caps">JSON</span> over <span class="caps">XML</span>. (Hotline does <span class="caps">HTML</span>..)</li>
<li><span class="caps">XML</span> requires schemas for validation and namespaces. Don’t support this complexity at the beginning (or ever) unless required. If it is required, make the <span class="caps">XML</span> as similar to <span class="caps">JSON</span> as&nbsp;possible.</li>
<li>Put links in the <span class="caps">HTTP</span> link header, or use a <span class="caps">JSON</span> representation of&nbsp;this.</li>
<li>Use the <span class="caps">HTTP</span> location header to contain a link on resource creation, or for <span class="caps">GET</span> with pagination, use first, last, next,&nbsp;prev.</li>
<li>Connectedness - return links in the response which link to useful resources. At minimum, a link to show how the data was received, or&nbsp;posted.</li>
<li>Idempotence - clients making the same repeated requests create the same result on the server side. I.e. making repeated requests has the same result as making a similar request, server side. On the client side, a response code may change, of&nbsp;course. </li>
</ul>
      </div>

      <div class="border border-gray-300 mt-10 mb-10"></div>

        <div class="mb-10 text-lg dark:text-gray-200">
            <div class="flex flex-row">
              <div class="text-red-500 dark:text-red-500"> &#x2190;  </div>
              <a class=" dark:text-gray-200 px-1 hover:text-green-700 dark:hover:text-red-500" href="https://johnmathews.eu/principles-of-oop.html"> Principles Of Object Orientated&nbsp;Programming</a>
            </div>
        </div>

      <div class="text-left">
        <button id="signupButton" class="inline-flex items-center h-10 px-5 text-white dark:text-gray-700 transition-colors duration-150 bg-green-500 rounded-lg focus:shadow-outline hover:bg-gray-600 dark:hover:text-white">
          <span>Subscribe</span>
          <i class="py-2 pl-3 fas fa-lg fa-envelope"></i>
        </button>
      </div>

      <div class="hidden" id="subscribeBox" >
        <!-- Begin Mailchimp Signup Form -->
        <div id="mc_embed_signup">
          <form action="https://johnmathews.us15.list-manage.com/subscribe/post?u=293155ea06a261f5255378dc0&amp;id=38c1e277b4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate dark:bg-gray-700" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
              <div class="mc-field-group dark:text-gray-300">
                <label for="mce-EMAIL">Email Address </label>
                <input type="email" value="" name="EMAIL" class="required email dark:bg-gray-500" id="mce-EMAIL">
              </div>
              <div id="mce-responses" class="clear">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
              </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
              <div style="position: absolute; left: -5000px;" aria-hidden="true">
                <input type="text" name="b_293155ea06a261f5255378dc0_38c1e277b4" tabindex="-1" value="">
              </div>
              <div class="clear">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
              </div>
            </div>
          </form>
        </div>
        <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
        <!--End mc_embed_signup-->
      </div>

         <div class="mt-10" id="disqus_thread"></div>
          <script>
            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            var disqus_config = function () {
            this.page.url = "https://johnmathews.eu/api-design.html";  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = "api-design.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://johnmathews.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>
    </main>

    <div class="footer">
      <div class="text-center py-3 bg-gray-100 dark:bg-gray-800 dark:text-gray-100">
        <a href="https://johnmathews.eu/blog">Blog Posts</a> |
        <a href="#top">Back to top</a> |
        <a href="https://johnmathews.eu/categories">Categories</a> |
        <a href="feeds/all.atom.xml">RSS</a>
      </div>
    </div>

    <div>
          <script>
          document.getElementById("hamburger").onclick = function toggleMenu() {
            const navToggle = document.getElementsByClassName("toggle");
            for (let i = 0; i < navToggle.length; i++) {
              navToggle.item(i).classList.toggle("hidden");
            }
          };
        </script>

        <script>
          const light = "https://johnmathews.eu/theme/css/pygment-light.css"
          const dark = "https://johnmathews.eu/theme/css/pygment-dark.css"

          function changePygmentsCSS(existing, updated) {
            var PygmentCSS = document.getElementById("PygmentCSS");
            PygmentCSS.setAttribute("href", updated);
          }


          if (localStorage.getItem('theme') === "dark") {
            document.getElementById("baz").classList.add("dark");

            document.getElementById("day").classList.remove("hidden");
            document.getElementById("night").classList.add("hidden");

            changePygmentsCSS(light, dark);
          } else {
            document.getElementById("baz").classList.remove("dark");
            window.localStorage.setItem('theme', 'light');

            document.getElementById("day").classList.add("hidden");
            document.getElementById("night").classList.remove("hidden");
            changePygmentsCSS(dark, light);
          }

          function modeSwitcher() {
            if (localStorage.getItem('theme') === "dark") {
              window.localStorage.setItem('theme', 'light');
              $( "#baz" ).removeClass( "dark" );
              changePygmentsCSS(dark, light);

              document.getElementById("day").classList.add("hidden");
              document.getElementById("night").classList.remove("hidden");
            } else {
              window.localStorage.setItem('theme', 'dark');
              $( "#baz" ).addClass( "dark" );
              changePygmentsCSS(light, dark);

              document.getElementById("day").classList.remove("hidden");
              document.getElementById("night").classList.add("hidden");
            }

          }
        </script>

  <script>
    document.getElementById("signupButton").addEventListener("click", function(e) {
          $('#signupButton').removeClass('block').addClass('hidden')
          $('#subscribeBox').removeClass('hidden').addClass('block')
        });
  </script>
    </div>
  </body>

</html>