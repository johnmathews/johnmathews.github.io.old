<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>John Mathews</title><link href="https://johnmathews.eu/" rel="alternate"/><link href="https://johnmathews.eu/feeds/all.atom.xml" rel="self"/><id>https://johnmathews.eu/</id><updated>2021-04-25T22:39:05+02:00</updated><entry><title>where command</title><link href="https://johnmathews.eu/where-command.html" rel="alternate"/><published>2021-04-25T22:39:05+02:00</published><updated>2021-04-25T22:39:05+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-25:/where-command.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;where &lt;command/&gt;&lt;/code&gt; - shows all known locations of &lt;command/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;man where&lt;/code&gt; - show all builtin commands.&lt;/p&gt;</content><category term="snippet"/><category term="unix"/><category term="macOS"/><category term="cli"/><category term="bash"/></entry><entry><title>Reading - April 2021</title><link href="https://johnmathews.eu/reading-april-2021.html" rel="alternate"/><published>2021-04-21T12:55:20+02:00</published><updated>2021-04-21T12:55:20+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/reading-april-2021.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#the-architecture-behind-a-one-person-tech-startup"&gt;The Architecture Behind A One-Person Tech Startup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#boring-tech-behind-a-one-person-saas"&gt;Boring tech behind a one person SaaS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#djangos-place-in-a-web-development-world"&gt;Djangos place in a web development world&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cache-invalidation"&gt;&lt;s&gt;Cache invalidation&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vim-abbreviations"&gt;Vim abbreviations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#to-fix-the-social-sciences-look-to-the-dark-ages-of-medicine"&gt;&lt;s&gt;To fix the social sciences, look to the “dark ages” of medicine&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#emotional-resilience-in-leadership-report"&gt;Emotional resilience in leadership report&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-virtues-of-a-programmer"&gt;3 virtues of a programmer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#is-webassembly-magic-performance-pixie-dust"&gt;Is WebAssembly magic performance pixie dust?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#yamauchi-no10-family-office"&gt;Yamauchi No.10 Family Office&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#improve-and-extend-your-text-objects-with-targetsvim"&gt;Improve and Extend Your Text Objects With targets.vim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#a-vim-guide-for-adept-users"&gt;A Vim Guide for Adept Users&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#deep-dive-in-cors"&gt;Deep dive in &lt;span class="caps"&gt;CORS&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#the-tty-demystified"&gt;The &lt;span class="caps"&gt;TTY&lt;/span&gt; demystified&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;Articles and blog posts I saved to read later:&lt;/p&gt;
&lt;h1 id="the-architecture-behind-a-one-person-tech-startup"&gt;&lt;a href="https://anthonynsimon.com/blog/one-man-saas-architecture/"&gt;The Architecture Behind A One-Person Tech Startup&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;An article by &lt;a href="https://twitter.com/anthonynsimon"&gt;Anthony Najjar Simon&lt;/a&gt; about how he runs his one-man SaaS using Django.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Low stress, one-person company, run from a flat.&lt;/li&gt;
&lt;li&gt;Self-funded, taking things slow - &lt;em&gt;he likes taking things slow&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Grateful to be standing on the shoulders of the open source giants who went ahead and made the &lt;span class="caps"&gt;OSS&lt;/span&gt; stack we all enjoy and benefit from.&lt;/li&gt;
&lt;li&gt;Your own context matters when choosing a tech stack. There is no “holy grail”. I guess this means that you should use what you’re familiar with and what is &lt;em&gt;boring&lt;/em&gt; for you.&lt;/li&gt;
&lt;li&gt;Uses K8s on &lt;span class="caps"&gt;AWS&lt;/span&gt;. He says “dont fall into the trap of thinking you need to use it too” - expertise with these tools was learnt over several years fighting fires on the day job.&lt;/li&gt;
&lt;li&gt;Productive because he used the tools he is most familiar with and he can focus on shipping.&lt;/li&gt;
&lt;li&gt;Django, Celery, PostgreSQL, Python, &lt;span class="caps"&gt;AWS&lt;/span&gt;, Redis. - same as MoneyBar and PipPip.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="boring-tech-behind-a-one-person-saas"&gt;&lt;a href="https://www.listennotes.com/blog/the-boring-technology-behind-a-one-person-23/"&gt;Boring tech behind a one person SaaS&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;The tech-stack keeps evolving&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;“&lt;/span&gt;Boring” means “what I’m familiar with so that I can focus on the business”&lt;/li&gt;
&lt;li&gt;Most of his time is spent talking to people and thinking. He spends 15% of his time on engineering. Probably it was more when he was setting stuff up.&lt;/li&gt;
&lt;li&gt;The methods described in the post are &lt;strong&gt;definitely not the best way&lt;/strong&gt;. &lt;em&gt;It’s just one way of doing engineering in a very specific type of business. It’s not the only way.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Django, Celery, PostgreSQL, Python, &lt;span class="caps"&gt;AWS&lt;/span&gt;, Redis. - same as MoneyBar and PipPip.&lt;/li&gt;
&lt;li&gt;Uses Ansible for provisioning machines. - &lt;span class="caps"&gt;YAML&lt;/span&gt; files. Should look into this.&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;“&lt;/span&gt;Good enough for now”&lt;/li&gt;
&lt;li&gt;Doesn’t use &lt;span class="caps"&gt;CI&lt;/span&gt; tools, he uses Ansible with a shell script he wrote.&lt;/li&gt;
&lt;li&gt;Uses &lt;a href="https://www.datadoghq.com/"&gt;Datadog&lt;/a&gt; for monitoring and alerting, and PagerDuty.&lt;/li&gt;
&lt;li&gt;Uses &lt;a href="https://rollbar.com/"&gt;Rollbar&lt;/a&gt;, which seems similar to Sentry.&lt;/li&gt;
&lt;li&gt;Uses Slack, not to talk with humans, but integrations with Rollbar and Datadog, and also &lt;a href="https://api.slack.com/messaging/webhooks"&gt;slack incoming webhooks&lt;/a&gt; to be notified when someone signs up or does something interesting like deletes a thing.&lt;/li&gt;
&lt;li&gt;Make a “ding” sound whenever someone signs up.&lt;/li&gt;
&lt;li&gt;He’s &lt;em&gt;always very careful about operational stuff&lt;/em&gt; to prevent downtime and outages. Servers are over-provisioned to protect against spikes caused by sudden media interest.&lt;/li&gt;
&lt;li&gt;Avoids working from home or cafe cos its more productive in an office. Productivity is important - make every minute count. He doesn’t often work more than 8 hours/day.&lt;/li&gt;
&lt;li&gt;He optimizes for spending less time and making money instead of more time and saving money.&lt;/li&gt;
&lt;li&gt;Uses &lt;code&gt;Vagrant&lt;/code&gt; and &lt;code&gt;virtualbox&lt;/code&gt; on an &lt;span class="caps"&gt;MBP&lt;/span&gt; so that dev work is on the same systems as prod infra.&lt;/li&gt;
&lt;li&gt;Uses 1 monolithic repo. Likes this approach.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;He uses contractors&lt;/em&gt;!!&lt;/li&gt;
&lt;li&gt;Usually, the biggest obstacle to building and shipping things is overthinking. What if this, what if that. You are not important at all and no one cares. No one sees. Even if you screw up the initial product launch, no one will care because they’re not looking. Only when you’ve proved that you deserve their attention will you have any attention and visibility.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://hackernoon.com/think-big-start-small-act-fast-6fdab1f771ea"&gt;Think big, start small, act fast&lt;/a&gt;&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Use boring technology, or whatever tech you want. Just make sure you’re solving an actual problem.&lt;/li&gt;
&lt;li&gt;Ignore the &lt;a href="https://stevemcconnell.com/articles/cargo-cult-software-engineering/"&gt;cargo cult people&lt;/a&gt; and ignore the noise. Keep calm and carry on.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="djangos-place-in-a-web-development-world"&gt;&lt;a href="https://thenewstack.io/djangos-place-in-a-web-development-world-ruled-by-react/"&gt;Djangos place in a web development world&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Not everything needs to be an &lt;span class="caps"&gt;SPA&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Django is a back-end framework, it’ll work with an front-end framework, because separation of concerns.&lt;/li&gt;
&lt;li&gt;To use django with an &lt;span class="caps"&gt;SPA&lt;/span&gt;, you could use &lt;span class="caps"&gt;DRF&lt;/span&gt;, or just normal views that return &lt;span class="caps"&gt;JSON&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Reading this makes me want to check out React to see what all the fuss is about.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="cache-invalidation"&gt;&lt;s&gt;&lt;a href="https://yihui.org/en/2018/06/cache-invalidation/"&gt;Cache invalidation&lt;/a&gt;&lt;/s&gt;&lt;/h1&gt;
&lt;h1 id="vim-abbreviations"&gt;&lt;a href="https://jovica.org/posts/vim_abbreviations/"&gt;Vim abbreviations&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Cool and all, but not as powerful as snippets I think.&lt;/li&gt;
&lt;li&gt;Auto correcting typos: teh -&amp;gt; the&lt;/li&gt;
&lt;li&gt;Expanding phrases: kr -&amp;gt; kind regards&lt;/li&gt;
&lt;li&gt;Multi-line text expansion.&lt;/li&gt;
&lt;li&gt;It really seems similar to what I’m using UltiSnips for.&lt;/li&gt;
&lt;li&gt;I found &lt;a href="https://stackoverflow.com/questions/30266587/snippets-vs-abbreviations-in-vim"&gt;this&lt;/a&gt; question on &lt;span class="caps"&gt;SO&lt;/span&gt; comparing abbreviations and snippets. &lt;span class="caps"&gt;TLDR&lt;/span&gt;: It’s easier to add and maintain snippets than abbreviations, and you have less boilerplate with snippets than abbreviations, especially in complex cases.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="to-fix-the-social-sciences-look-to-the-dark-ages-of-medicine"&gt;&lt;s&gt;&lt;a href="https://thereader.mitpress.mit.edu/social-sciences-dark-ages/"&gt;To fix the social sciences, look to the “dark ages” of medicine&lt;/a&gt;&lt;/s&gt;&lt;/h1&gt;
&lt;h1 id="emotional-resilience-in-leadership-report"&gt;&lt;a href="https://docs.google.com/document/d/18FfZ86PGA_uSFf425EzKXAmiFQLFBPqjqPN7iu1TZRw/preview?pru=AAABdEZGCv8*_gdPBrQH8tAPyvMfLk6Unw"&gt;Emotional resilience in leadership report&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="3-virtues-of-a-programmer"&gt;&lt;a href="http://threevirtues.com/"&gt;3 virtues of a programmer&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Laziness - The quality that makes you go to great effort to reduce overall energy expenditure. It makes you write labor-saving programs that other people will find useful and document what you wrote so you don’t have to answer so many questions about it.&lt;/li&gt;
&lt;li&gt;Impatience - The anger you feel when the computer is being lazy. This makes you write programs that don’t just react to your needs, but actually anticipate them. Or at least pretend to.&lt;/li&gt;
&lt;li&gt;Hubris - The quality that makes you write (and maintain) programs that other people won’t want to say bad things about.&lt;/li&gt;
&lt;li&gt;Also, I read a quote somewhere saying the mark of a great program is having people use it in ways you didn’t expect, or something like that.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="is-webassembly-magic-performance-pixie-dust"&gt;&lt;a href="https://surma.dev/things/js-to-asc/"&gt;Is WebAssembly magic performance pixie dust?&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="yamauchi-no10-family-office"&gt;&lt;a href="https://y-n10.com/"&gt;Yamauchi No.10 Family Office&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;A beautifully designed website.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="improve-and-extend-your-text-objects-with-targetsvim"&gt;&lt;a href="https://www.barbarianmeetscoding.com/blog/exploring-vim-plugins-improve-and-extend-your-text-objects-with-targets-vim"&gt;Improve and Extend Your Text Objects With targets.vim&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="a-vim-guide-for-adept-users"&gt;&lt;a href="https://thevaluable.dev/vim-adept"&gt;A Vim Guide for Adept Users&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;How to manipulate multiple quickfix and location lists.&lt;/li&gt;
&lt;li&gt;What are digraphs and how to use them.&lt;/li&gt;
&lt;li&gt;Useful keystrokes in &lt;span class="caps"&gt;INSERT&lt;/span&gt; mode.&lt;/li&gt;
&lt;li&gt;Useful keystrokes in &lt;span class="caps"&gt;VISUAL&lt;/span&gt; mode.&lt;/li&gt;
&lt;li&gt;Vim regular expressions.&lt;/li&gt;
&lt;li&gt;Using shell commands in Vim.&lt;/li&gt;
&lt;li&gt;Folding content.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="deep-dive-in-cors"&gt;&lt;a href="https://ieftimov.com/post/deep-dive-cors-history-how-it-works-best-practices/"&gt;Deep dive in &lt;span class="caps"&gt;CORS&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="the-tty-demystified"&gt;&lt;a href="http://www.linusakesson.net/programming/tty/index.php"&gt;The &lt;span class="caps"&gt;TTY&lt;/span&gt; demystified&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ps 1&lt;/code&gt; - see which processes are running or sleeping. &lt;code&gt;WCHAN&lt;/code&gt; tells you which
    kernel event a waiting processing is awaiting.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Non-technical/Journal"/><category term="reading"/></entry><entry><title>Learning - April 2021</title><link href="https://johnmathews.eu/learning-april-2021.html" rel="alternate"/><published>2021-04-21T11:09:19+02:00</published><updated>2021-04-21T11:09:19+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/learning-april-2021.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#google-cloud-platform-service-accounts"&gt;Google Cloud Platform Service Accounts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible"&gt;Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ssh"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vagrant"&gt;Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="google-cloud-platform-service-accounts"&gt;&lt;a href="https://www.youtube.com/playlist?list=PLIivdWyY5sqIlPnZ7cvkg2Ck-8ZZ8TA5t"&gt;Google Cloud Platform Service Accounts&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;It seems like I’m looking for some general overview of how roles are managed,
viewed, compared, and inherited.&lt;/p&gt;
&lt;p&gt;How can you tell if a users (or a service accounts) roles are adequate, or
too much or too little for a particular task? And what’s the difference
between a user having some roles, and a user using a service account that
has those roles. &lt;/p&gt;
&lt;p&gt;It would also be nice to have some kind of adversarial test, that would
identify how/if users or service accounts can create identities with more
flexible permissions that their own.&lt;/p&gt;
&lt;p&gt;These short videos are good, but they’re not a complete solution. I’m not sure
where to look next.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/xXk1YlkKW_k" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;h1 id="ansible"&gt;&lt;a href="https://www.youtube.com/playlist?list=PL2_OBreMn7FplshFCWYlaN2uS8et9RjNG"&gt;Ansible&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Based on Jeff Geerlings book. There are 15 episodes. Jeff seems like a great
guy. I’m going to try listen to one of these each day.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/goclfp6a2IQ" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;h1 id="ssh"&gt;&lt;a href="https://www.youtube.com/watch?v=hQWRp-FdTpc&amp;amp;list=PLQGMHRkCCyDw5arrPInZT_T8TbDdzmeBp&amp;amp;index=4"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/hQWRp-FdTpc" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys"&gt;This&lt;/a&gt;
is also a very useful article. I made notes from it in another &lt;a href="https://johnmathews.eu/ssh-notes.html"&gt;post&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id="vagrant"&gt;&lt;a href="https://www.youtube.com/watch?v=vBrezgo&amp;amp;list=PLQGMHRkCCyDw5arrPInZT_T8TbDdzmeBp&amp;amp;index=2X"&gt;Vagrant&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/vBreXjkizgo" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Good for local development. (Especially when on aeroplanes?)&lt;/li&gt;
&lt;li&gt;Not as good for cloud providers as Terraform.&lt;/li&gt;
&lt;li&gt;No more snowflake servers.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Technical/Developer Tools"/><category term="learning"/><category term="youtube"/><category term="ansible"/><category term="ssh"/><category term="vagrant"/><category term="gcp"/><category term="service-accounts"/><category term="iam"/></entry><entry><title>Tweets - April 2021</title><link href="https://johnmathews.eu/tweets-april-2021.html" rel="alternate"/><published>2021-04-21T10:39:48+02:00</published><updated>2021-04-21T10:39:48+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/tweets-april-2021.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#front-end"&gt;Front-End&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#entrepreneurship"&gt;Entrepreneurship&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#mental-models"&gt;Mental Models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#agency"&gt;Agency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#razors"&gt;Razors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#crypto"&gt;Crypto&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="front-end"&gt;Front-End&lt;/h1&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt; 6 website for top landing page inspiration&lt;br/&gt;&lt;br/&gt;• onepagelove .com by &lt;a href="https://twitter.com/robhope?ref_src=twsrc%5Etfw"&gt;@robhope&lt;/a&gt; &lt;br/&gt;• lapa .ninja by &lt;a href="https://twitter.com/nguyendangtinh?ref_src=twsrc%5Etfw"&gt;@nguyendangtinh&lt;/a&gt; &lt;br/&gt;• landingfolio .com by &lt;a href="https://twitter.com/dannypostmaa?ref_src=twsrc%5Etfw"&gt;@dannypostmaa&lt;/a&gt;&lt;br/&gt;• saasframe .io by &lt;a href="https://twitter.com/AntoineMilkoff?ref_src=twsrc%5Etfw"&gt;@AntoineMilkoff&lt;/a&gt;&lt;br/&gt;• saaslandingpage .com by &lt;a href="https://twitter.com/Cruip_com?ref_src=twsrc%5Etfw"&gt;@Cruip_com&lt;/a&gt; &lt;br/&gt;• saaspages .xyz by &lt;a href="https://twitter.com/Versoly?ref_src=twsrc%5Etfw"&gt;@Versoly&lt;/a&gt;&lt;/p&gt;— Jim Raptis (@d__raptis) &lt;a href="https://twitter.com/d__raptis/status/1382240459288895491?ref_src=twsrc%5Etfw"&gt;April 14, 2021&lt;/a&gt; &lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;&lt;/p&gt;
&lt;h1 id="entrepreneurship"&gt;Entrepreneurship&lt;/h1&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;anyone interested in a fun &lt;a href="https://twitter.com/microacquire?ref_src=twsrc%5Etfw"&gt;@microacquire&lt;/a&gt; challenge?&lt;br/&gt;&lt;br/&gt;maybe 90 or 180 days from start to finish to build and sell a tiny company in public?&lt;br/&gt;&lt;br/&gt;would be really great M&amp;amp;A practice for my fellow founders&lt;/p&gt;— Jim Bisenius (@jim_bisenius) &lt;a href="https://twitter.com/jim_bisenius/status/1382169652403564546?ref_src=twsrc%5Etfw"&gt;April 14, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h2 id="mental-models"&gt;Mental Models&lt;/h2&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;Tobi's favorite example of &lt;span class="caps"&gt;FIRST&lt;/span&gt; &lt;span class="caps"&gt;PRINCIPLES&lt;/span&gt; is a Truck driver.&lt;br/&gt;&lt;br/&gt;His truck was sat still for 8 &lt;span class="caps"&gt;HOURS&lt;/span&gt; on &lt;span class="caps"&gt;THANKSGIVING&lt;/span&gt; waiting for his cargo to be unloaded when he realized…&lt;br/&gt;&lt;br/&gt;“Why not take the &lt;span class="caps"&gt;WHOLE&lt;/span&gt; trailer off the back of my ship rather than unloading + reloading each item?”&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1262509025515786248?ref_src=twsrc%5Etfw"&gt;May 18, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;&lt;span class="caps"&gt;LUTKE&lt;/span&gt; &lt;span class="caps"&gt;LEARNING&lt;/span&gt; 6 - &lt;span class="caps"&gt;TALENT&lt;/span&gt; &lt;span class="caps"&gt;STACK&lt;/span&gt; &lt;span class="caps"&gt;LED&lt;/span&gt; &lt;span class="caps"&gt;BY&lt;/span&gt; &lt;span class="caps"&gt;CURIOSITY&lt;/span&gt; &amp;gt; &lt;span class="caps"&gt;MBA&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;He didn't have an &lt;span class="caps"&gt;MBA&lt;/span&gt;. He didn't grind 100-hour workweeks. &lt;br/&gt;&lt;br/&gt;Instead, he played video games (which led to coding) and he snowboarded (which led to an online snowboarding store). &lt;br/&gt;&lt;br/&gt;This 'Talent Stack' led to Shopify.&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1262509059841953801?ref_src=twsrc%5Etfw"&gt;May 18, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;p&gt;A super long thread, worth reading it all:
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;Josh Waitzkin might be the most &lt;span class="caps"&gt;INTERESTING&lt;/span&gt; person alive.&lt;br/&gt;&lt;br/&gt;He doesn't have Twitter. And he barely uses the internet.&lt;br/&gt;&lt;br/&gt;I've compiled my favorite 5 &lt;span class="caps"&gt;MENTAL&lt;/span&gt; &lt;span class="caps"&gt;MODELS&lt;/span&gt; of his below.&lt;br/&gt;&lt;br/&gt;&lt;span class="caps"&gt;THREAD&lt;/span&gt;…&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1292206014746558471?ref_src=twsrc%5Etfw"&gt;August 8, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h2 id="agency"&gt;Agency&lt;/h2&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;1/ &lt;span class="caps"&gt;HIGH&lt;/span&gt; &lt;span class="caps"&gt;AGENCY&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;Once you &lt;span class="caps"&gt;SEE&lt;/span&gt; it - you can never &lt;span class="caps"&gt;UNSEE&lt;/span&gt; it. &lt;br/&gt;&lt;br/&gt;Arguedbly the most important personality trait you can foster. &lt;br/&gt;&lt;br/&gt;I've thought about this concept every week for the last two years since I heard &lt;a href="https://twitter.com/EricRWeinstein?ref_src=twsrc%5Etfw"&gt;@EricRWeinstein&lt;/a&gt; discuss it on &lt;a href="https://twitter.com/tferriss?ref_src=twsrc%5Etfw"&gt;@tferriss&lt;/a&gt;' podcast. &lt;br/&gt;&lt;br/&gt;&lt;span class="caps"&gt;THREAD&lt;/span&gt;…&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1068238562443841538?ref_src=twsrc%5Etfw"&gt;November 29, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h2 id="razors"&gt;Razors&lt;/h2&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;&lt;span class="caps"&gt;THREAD&lt;/span&gt;: 15 of the most useful razors and rules I've found.&lt;br/&gt;&lt;br/&gt;Rules of thumb that simplify decisions.&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1350513143387189248?ref_src=twsrc%5Etfw"&gt;January 16, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h1 id="crypto"&gt;Crypto&lt;/h1&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt; Now let’s compare this to the stock-to-flow model. Below I added in the &lt;span class="caps"&gt;S2F&lt;/span&gt; model, which is the aforementioned inflation rate regressed against price. /10 &lt;a href="https://t.co/eGRXIux6K2"&gt;pic.twitter.com/eGRXIux6K2&lt;/a&gt;&lt;/p&gt;— Jurrien Timmer (@TimmerFidelity) &lt;a href="https://twitter.com/TimmerFidelity/status/1382026424014548995?ref_src=twsrc%5Etfw"&gt;April 13, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;&lt;a href="https://twitter.com/hashtag/Bitcoin?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#Bitcoin&lt;/a&gt; is looking strong at &lt;span class="caps"&gt;RSI&lt;/span&gt; 92. Still not above &lt;span class="caps"&gt;RSI&lt;/span&gt; 95 like 2017, 2013 and 2011 bull markets. I calculated &lt;span class="caps"&gt;BTC&lt;/span&gt; price needed for &lt;span class="caps"&gt;RSI&lt;/span&gt; 95 at April close: $92K. Let's see what the Coinbase &lt;span class="caps"&gt;IPO&lt;/span&gt; will do today🚀 &lt;a href="https://t.co/UTvdFWFhDK"&gt;pic.twitter.com/UTvdFWFhDK&lt;/a&gt;&lt;/p&gt;— PlanB (@100trillionUSD) &lt;a href="https://twitter.com/100trillionUSD/status/1382282077429719040?ref_src=twsrc%5Etfw"&gt;April 14, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;</content><category term="Non-technical/Journal"/><category term="twitter"/></entry><entry><title>SSH-Notes</title><link href="https://johnmathews.eu/ssh-notes.html" rel="alternate"/><published>2021-04-21T10:21:15+02:00</published><updated>2021-04-21T10:21:15+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/ssh-notes.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#background"&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#authentication"&gt;Authentication&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#passwords-and-keys"&gt;Passwords and Keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#handshake"&gt;Handshake&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Secure Shell lets you securely connect to remote servers. You connect using
   an account that exists on the remote server. Once you’ve connected you’ll be
   dropped into a shell session.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The computer you connect from is the “local” or “client” computer. The
   computer you connect to is the “host” or the “server”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you’re connected to the server using &lt;span class="caps"&gt;SSH&lt;/span&gt;, any commands you input from
   the client are sent securely and privately (through a “tunnel”) to the remote
   computer, where the commands are executed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; is implemented using the client-server model. The server must be running
   a small app to listen for &lt;span class="caps"&gt;SSH&lt;/span&gt; connections. This kind of app is
   called a daemon (pronounced day-mon). For &lt;span class="caps"&gt;SSH&lt;/span&gt; to work, the host must be
   running the &lt;span class="caps"&gt;SSH&lt;/span&gt; daemon. The &lt;span class="caps"&gt;SSH&lt;/span&gt; daemon listens for connections on a specific
   port (22), authenticates connections requests, and (if the connection
   request is approved) it will spawn the correct environment. The correct
   environment is a terminal session.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The client (the computer you connect from) must be running an &lt;span class="caps"&gt;SSH&lt;/span&gt; client,
   which is a small app that can communicate using the &lt;span class="caps"&gt;SSH&lt;/span&gt; protocol. (A
   protocol is a set of rules.) It needs to be able to receive information
   about which host to connect to, which user to connect as and which
   credentials to use when trying to connect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="authentication"&gt;Authentication&lt;/h1&gt;
&lt;h2 id="passwords-and-keys"&gt;Passwords and Keys&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clients authenticate using passwords or keys. Passwords are less secure than
   keys. Keys are very secure. You can also connect using no authentication by
   specifying a particular &lt;span class="caps"&gt;IP&lt;/span&gt; address I think.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Passwords are encrypted, and are conceptually familiar, but can (and will)
   be brute forced. There are tools that will block repeated attempts or
   block/allow authentication attempts from particular &lt;span class="caps"&gt;IP&lt;/span&gt; addresses.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; keys using public and private (or secret) key pairs and are very secure.
   Keys are generated in pairs.  The public key can be shared freely without
   concern. The secret key must be kept as secure and secret as a password.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To authenticate using a key pair, the client must have both keys (a key
   pair) on their computer. The server must have the public key in a file
   called &lt;code&gt;authorized_keys&lt;/code&gt;. If the server has the private key then something
   has gone wrong and you should be alarmed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The server stores the public keys of users who can connect as a particular
   user in the file &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt;. The file contains a list of
   public keys, one public key on each row.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The default location to store the public key on the remote server is in the
   users home folder in a subdirectory called &lt;code&gt;.ssh/authorized_keys&lt;/code&gt;. The full
   path would be &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="handshake"&gt;Handshake&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When a client wants to connect to a server using &lt;span class="caps"&gt;SSH&lt;/span&gt;, it tells the server
   which public key to use. The server then checks in the &lt;code&gt;authorized_keys&lt;/code&gt; file
   for the public key. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A unique session &lt;span class="caps"&gt;ID&lt;/span&gt; is generated and shared between the client and server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the server has the same public key that the client sent when it  began
   the connection attempt, the server generates a random string and encrypts
   it using the public key. This random string can only be decrypted using the
   private (secret) key associated with the public key.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The server sends the encrypted string to the client. The client decrypts it
   using the secret key and combines the original random string with the
   session &lt;span class="caps"&gt;ID&lt;/span&gt;. The client then hashes the combined string and sends the hash
   back to the server. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The server already has the hash of the string combining the original random
   string and the session &lt;span class="caps"&gt;ID&lt;/span&gt;. If the hash from the client matches the hash on
   the server, the server can be sure that the client has the private key.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys"&gt;Source&lt;/a&gt;&lt;/p&gt;</content><category term="Technical/Developer Tools"/><category term="ssh"/><category term="linux"/><category term="security"/></entry><entry><title>alias to real</title><link href="https://johnmathews.eu/alias-real.html" rel="alternate"/><published>2021-04-20T22:40:09+02:00</published><updated>2021-04-20T22:40:09+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-20:/alias-real.html</id><summary type="html"/><content type="html">&lt;p&gt;make aliased files the real file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; f in &lt;span class="k"&gt;$(&lt;/span&gt;find . -type l -maxdepth &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;do&lt;/span&gt; cp --remove-destination &lt;span class="k"&gt;$(&lt;/span&gt;readlink &lt;span class="nv"&gt;$f&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;$f&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="macos"/><category term="linux"/><category term="cli"/><category term="bash"/></entry><entry><title>ChezMoi</title><link href="https://johnmathews.eu/chezmoi.html" rel="alternate"/><published>2021-04-20T11:46:46+02:00</published><updated>2021-04-20T11:46:46+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-20:/chezmoi.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#background"&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#razor"&gt;Razor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#one-question"&gt;One Question&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#command-reference"&gt;Command Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#links"&gt;Links&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;Chezmoi seems to be dotfiles management for power users. Until a few days ago,
when I realised I’d massively broken a lot of things, I’d been putting my
dotfiles in a version controlled directory and using a shell script to generate
symlinks in my home directory.&lt;/p&gt;
&lt;p&gt;This had worked really well for several years. It’s a great system for
maintaining dotfiles on a single machine. But it’s not robust or flexible enough
for managing multiple machines or multiple operating systems.&lt;/p&gt;
&lt;p&gt;Also, it’s not just files that sit in &lt;code&gt;$home&lt;/code&gt; anymore, I need to track
configuration files that live in other places too&lt;sup id="sf-chezmoi-1-back"&gt;&lt;a class="simple-footnote" href="#sf-chezmoi-1" title="For example, every file in $HOME/.vim/ftplugin/ should be version controlled."&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;I needed something more robust and flexible than generating symlinks from a
bash script.&lt;/p&gt;
&lt;h1 id="razor"&gt;Razor&lt;/h1&gt;
&lt;p&gt;I think I read somewhere that when purchasing a new appliance you should buy
the cheapest you think you can get away with, and if that doesn’t work then get
the best you can afford. Moving from a custom bash script to Chezmoi is an
example of this. My custom bash script was the most basic approach, and it
broke badly. Chezmoi seems like the most heavy duty tool for dotfiles management
I could find.&lt;/p&gt;
&lt;p&gt;For example, I think I’m able to encrypt my files using 1Password or similar.
I can use Jinja templates to create scripts for different scenarios. I
don’t even know what that means at the moment. I’ve only scratched the surface
but I’m happily managing dotfiles across different machines and
updating/modifying them safely. Chezmoi (aliased to cm) is free and &lt;span class="caps"&gt;OSS&lt;/span&gt; so I’m
confident it’ll be “my” tool for the next few decades. I’m happy to invest a
couple of hours to learn a few new habits and iron out a few
wrinkles&lt;sup id="sf-chezmoi-2-back"&gt;&lt;a class="simple-footnote" href="#sf-chezmoi-2" title="Happily, it seems like the amount of time required to learn or become familiar with a new tool is decreasing. I guess this is to be expected as experience increases but nonetheless it’s gratifying to realise.Dotfiles management was a fairly new and interesting concept when I first began symlinking into my home directory. It still feels amazing to bootstrap a fresh machine and have it feel like home in just a few minutes, but the technicalities of it are now familiar."&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h1 id="one-question"&gt;One Question&lt;/h1&gt;
&lt;p&gt;I don’t understand why &lt;code&gt;chezmoi cd&lt;/code&gt; creates a new shell in order to jump into the
Chezmoi directory. Why not simply &lt;code&gt;cd&lt;/code&gt; into the Chezmoi directory? What’s the
advantage/necessity of a new shell?&lt;/p&gt;
&lt;p&gt;You have to remember to &lt;code&gt;exit&lt;/code&gt; after you’ve done whatever you went there to do,
but my habit is to &lt;code&gt;cd&lt;/code&gt; or &lt;code&gt;z ..&lt;/code&gt;. I guess it’s nice to exit and then
immediately go back to where ever you were before, but there are other ways of
doing that - you could write the current directory to an environment variable.
It seems unnecessarily complex.&lt;/p&gt;
&lt;h1 id="command-reference"&gt;Command Reference&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Type &lt;code&gt;cm&lt;/code&gt; instead of &lt;code&gt;chezmoi&lt;/code&gt;: &lt;code&gt;alias cm="chezmoi"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Show which files have changed: &lt;code&gt;cm status&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start tracking a file: &lt;code&gt;cm add &lt;dir file=""&gt;&lt;/dir&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update a file, add the file again: &lt;code&gt;cm add ..&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit tracked version of file: &lt;code&gt;cm edit &lt;file&gt;&lt;/file&gt;&lt;/code&gt; - don’t think I’m going to
    use this, I’d rather edit the source file, test it, and then update using
    &lt;code&gt;cm add ..&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Differences between local version and tracked versions: &lt;code&gt;cm diff &lt;file&gt;&lt;/file&gt;&lt;/code&gt; -
    this tells me which files I need to &lt;code&gt;cm add&lt;/code&gt; again. This feels clunky and I
    suspect there is a better workflow. Parsing git style diff files is horrible.&lt;/li&gt;
&lt;li&gt;Clobber local version with the tracked version: &lt;code&gt;cm apply&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Dry run and see diff between local version and tracked version: &lt;code&gt;cm -nv apply&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Pull the latest changes from your repo and apply them: &lt;code&gt;cm update&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Remove a file:&lt;ul&gt;
&lt;li&gt;Create &lt;code&gt;.chezmoiremove&lt;/code&gt; in the source directory&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chezmoi apply --remove --dry-run --verbose&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;List of managed files: &lt;code&gt;cm managed&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;List of unmanaged files: &lt;code&gt;cm unmanaged&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="links"&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/twpayne/chezmoi"&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.chezmoi.io/"&gt;Project Site&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-chezmoi-1"&gt;For example, every file
in &lt;code&gt;$HOME/.vim/ftplugin/&lt;/code&gt; should be version controlled. &lt;a class="simple-footnote-back" href="#sf-chezmoi-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-chezmoi-2"&gt;Happily, it seems like the amount of time required to learn or
become familiar with a new tool is decreasing. I guess this is to be expected
as experience increases but nonetheless it’s gratifying to realise.&lt;br class="mb-3"/&gt;Dotfiles
management was a fairly new and interesting concept when I first began
symlinking into my home directory. It still feels amazing to bootstrap a fresh
machine and have it feel like home in just a few minutes, but the
technicalities of it are now familiar. &lt;a class="simple-footnote-back" href="#sf-chezmoi-2-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Developer Tools"/><category term="linux"/></entry><entry><title>tmux-window-reorg</title><link href="https://johnmathews.eu/tmux-window-reorg.html" rel="alternate"/><published>2021-04-19T22:42:42+02:00</published><updated>2021-04-19T22:42:42+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-19:/tmux-window-reorg.html</id><summary type="html"/><content type="html">&lt;p&gt;tmux reorganize windows:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;swap-window -s 3 -t 1&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="tmux"/><category term="macos"/><category term="linux"/><category term="cli"/></entry><entry><title>vim save sudo</title><link href="https://johnmathews.eu/vim-save-sudo.html" rel="alternate"/><published>2021-04-17T22:44:10+02:00</published><updated>2021-04-17T22:44:10+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-17:/vim-save-sudo.html</id><summary type="html"/><content type="html">&lt;p&gt;vim save a file with sudo when you opened it without sudo-ing:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;:w !sudo tee %&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/><category term="macos"/><category term="linux"/></entry><entry><title>climbing higher</title><link href="https://johnmathews.eu/climbing-higher.html" rel="alternate"/><published>2021-04-16T22:45:44+02:00</published><updated>2021-04-16T22:45:44+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-16:/climbing-higher.html</id><summary type="html"/><content type="html">&lt;p&gt;The trouble with climbing higher is that eventually you lose sight of the ground.&lt;/p&gt;</content><category term="snippet"/><category term="advice"/><category term="thoughts"/><category term="meta"/></entry><entry><title>I Leaked Credentials Onto A Public GitHub Repo</title><link href="https://johnmathews.eu/i-leaked-credentials-onto-a-public-github-repo.html" rel="alternate"/><published>2021-04-15T19:19:35+02:00</published><updated>2021-04-15T19:19:35+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-15:/i-leaked-credentials-onto-a-public-github-repo.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#dont-post-secrets-to-public-github-repositories"&gt;Don’t post secrets to public GitHub repositories.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#background"&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#the-hack"&gt;The hack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#remediation"&gt;Remediation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#questions"&gt;Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#study"&gt;Study&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="dont-post-secrets-to-public-github-repositories"&gt;Don’t post secrets to public GitHub repositories.&lt;/h1&gt;
&lt;p&gt;I made this mistake a while ago, and in the interests of openness and learning
from others, I’d like to describe what happened. Maybe it’ll help others avoid
the mistake, and maybe I’ll learn something from any conversation this article generates.&lt;/p&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;Using Google Cloud Platform (&lt;span class="caps"&gt;GCP&lt;/span&gt;), I’ve been doing some work across multiple
compute instances. Thankfully, the work wasn’t business critical or on
production systems.  My account was isolated  away from the rest of the business.&lt;/p&gt;
&lt;p&gt;As the number of servers I was working with increased, I realised I needed to
begin using some tools to automate server setup. This lead me to begin using
Ansible, and once I’d cobbled together a working playbook I pushed my Ansible
project to my GitHub account… And accidentally leaked the key for an
account I’d been using.&lt;/p&gt;
&lt;h1 id="the-hack"&gt;The hack&lt;/h1&gt;
&lt;p&gt;Within a couple of minutes of pushing the repository to GitHub I:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Made the repository private.&lt;/li&gt;
&lt;li&gt;Stopped tracking the keys in git and removed them from the cache &lt;code&gt;git rm -r --cached &lt;dir&gt;&lt;/dir&gt;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Received an email from Google saying they’d found leaked credentials.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class="caps"&gt;OK&lt;/span&gt;, close call. The secret was leaked for less than 5 minutes. On my obscure
personal GitHub.&lt;/p&gt;
&lt;p&gt;I thought there was nothing to worry about.. But then I noticed some activity
in the console.&lt;/p&gt;
&lt;p&gt;Compute instances were being created, I could see the list growing rapidly.
Over the next few minutes 195 compute instances and disks were being created,
each with a unique name in zones across the world. The format of the name was
&lt;code&gt;node-&lt;type&gt;-&lt;number&gt;&lt;/number&gt;&lt;/type&gt;&lt;/code&gt;. Where type was either application, backup, jenkins,
gke, prod, staging, worker, www, build, redis, or runner. Maybe some others
too. The number seemed to be 5 random digits.&lt;/p&gt;
&lt;p&gt;Some of the instances were ephemeral. They all had delete protection enabled. I
checked the details of a few of them and noticed some scripts that included
references to Monero.&lt;/p&gt;
&lt;p&gt;So I guess a Monero mining bot was being set up.&lt;/p&gt;
&lt;p&gt;The logs showed that &lt;span class="caps"&gt;GKE&lt;/span&gt; and networking resources had also been requested, but
the account which the stolen credentials belonged to didn’t have the necessary
permissions. Our project also maxed out its quota of compute instances in
multiple regions and zones.&lt;/p&gt;
&lt;h1 id="remediation"&gt;Remediation&lt;/h1&gt;
&lt;p&gt;I deleted the account that had been leaked, and began quantifying the
damage. I wanted to know exactly what permissions the key had, which
resources could be created, and could the leaked account be used to create
other accounts? No, it can’t.&lt;/p&gt;
&lt;p&gt;After looking around and becoming confident that it was &lt;em&gt;only&lt;/em&gt; 195 compute
instances with disks and delete protection that had been created, in regions
and zones across the globe, I began to remove them. No other resources had been provisioned.&lt;/p&gt;
&lt;p&gt;It took me 10 minutes and some googling to create the following workflow:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Get all the compute instances and dump them into a file. I expected to run a
   script that iterated through the file line by line, setting variables based
   on the content of the current line: &lt;code&gt;gcloud compute instances list --format 'csv[no-heading](name, zone)' &amp;gt; names.txt&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Vim, find the rows that contain the instances that I don’t want to
   delete, and remove these from the file. There are a handful of compute
   instances I want to keep, and 195 that I want to remove. &lt;code&gt;:v/node-&lt;/code&gt; shows
   any rows that &lt;em&gt;don’t&lt;/em&gt; include “node-”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Loop through the file and for each row, which contains the instance name and its zone,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Remove delete protection&lt;/li&gt;
&lt;li&gt;Delete the instance&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="nv"&gt;IFS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;, &lt;span class="nb"&gt;read&lt;/span&gt; -r name zone
  &lt;span class="k"&gt;do&lt;/span&gt; gcloud compute instances update &lt;span class="nv"&gt;$name&lt;/span&gt; --zone &lt;span class="nv"&gt;$zone&lt;/span&gt; --no-deletion-protection &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; gcloud compute instances delete &lt;span class="nv"&gt;$name&lt;/span&gt; --zone &lt;span class="nv"&gt;$zone&lt;/span&gt; --quiet
&lt;span class="k"&gt;done&lt;/span&gt; &amp;lt; names.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;--quiet&lt;/code&gt; flag is necessary because otherwise gcloud will ask me to confirm
that I want to delete the instance otherwise.&lt;/p&gt;
&lt;h1 id="questions"&gt;Questions&lt;/h1&gt;
&lt;p&gt;I’m surprised by the speed with which the attacker found the leaked
credentials. The repo did not belong to the clients account but my own, and I
assume that my account is obscure enough to not be on any interesting lists. If
my account is being scanned every few minutes, presumably all accounts are
being scanned regularly.&lt;/p&gt;
&lt;p&gt;How many resources are required to do that? I guess if one of these attacks
works you can use the stolen compute to scan more repositories for more leaked
credentials. It’s easy to imagine scenarios where large corporations that are
already running complicated cloud infrastructure deployments wouldn’t notice a
few (200?) unauthorized compute instances running.&lt;/p&gt;
&lt;h1 id="study"&gt;Study&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/playlist?list=PLIivdWyY5sqIlPnZ7cvkg2Ck-8ZZ8TA5t"&gt;Service accounts&lt;/a&gt; on Google Cloud Platform.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=goclfp6a2IQ&amp;amp;t=1962s"&gt;Ansible&lt;/a&gt; videos.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=hQWRp-FdTpc"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt; crash course.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://youtu.be/vBrezgoX"&gt;Vagrant&lt;/a&gt; crash course.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/26479562/what-does-ifs-do-in-this-bash-loop-cat-file-while-ifs-read-r-line-do/26480210"&gt;&lt;span class="caps"&gt;IFS&lt;/span&gt;=&lt;/a&gt; syntax explanation.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Technical/Developer Tools"/><category term="hack"/><category term="github"/><category term="service-account"/><category term="keys"/><category term="security"/></entry><entry><title>broot</title><link href="https://johnmathews.eu/broot.html" rel="alternate"/><published>2021-04-13T22:49:26+02:00</published><updated>2021-04-13T22:49:26+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-13:/broot.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;a href="https://dystroy.org/broot/"&gt;broot&lt;/a&gt; - I’d forgotten the name and tried to re-find it by googling, without success.&lt;/p&gt;</content><category term="snippet"/><category term="broot"/><category term="macos"/><category term="cli"/></entry><entry><title>adding keyboard navigation</title><link href="https://johnmathews.eu/adding-keyboard-navigation.html" rel="alternate"/><published>2021-04-12T22:50:48+02:00</published><updated>2021-04-12T22:50:48+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-12:/adding-keyboard-navigation.html</id><summary type="html"/><content type="html">&lt;p&gt;I added keyboard navigation to my blog and it works really well. Now I find
myself trying to use the same shortcuts on other sites. &lt;/p&gt;</content><category term="snippet"/><category term="blog"/><category term="jam-stack"/><category term="jquery"/></entry><entry><title>Ansible</title><link href="https://johnmathews.eu/ansible.html" rel="alternate"/><published>2021-04-12T11:40:41+02:00</published><updated>2021-04-12T11:40:41+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-12:/ansible.html</id><summary type="html"/><content type="html">&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;I’ve been spending a lot of time lately working on nodes for various blockchain
projects (Polkadot, Cardano, Tron, Binance Chain, Ethereum, …). The rosetta
api spec is super interesting, but like most things in crypto the documentation
is sometimes wrong or incomplete and there are bugs and undocumented features. &lt;/p&gt;
&lt;p&gt;Each of the nodes runs on a separate server, and we typically have one node for
mainnet and another for testnet.  I’m working across mutiple servers, doing
difficult stuff, and I want it to be as easy as possible.&lt;/p&gt;
&lt;p&gt;I need to reduce friction and cognitive load.&lt;/p&gt;
&lt;p&gt;Accessing the servers is easy - I use Tmux with the
&lt;a href="https://github.com/tmux-plugins/tmux-continuum"&gt;continuum&lt;/a&gt; and
&lt;a href="https://github.com/tmux-plugins/tmux-resurrect"&gt;resurrect&lt;/a&gt; plugins and
maintain different sessions for each type of server. This makes accessing
multiple servers during the same work day really simple and effortless. But
working on the servers is still awkward.&lt;/p&gt;
&lt;p&gt;On my dev machine I have &lt;code&gt;zsh&lt;/code&gt; with syntax highlighting, command completion,
and various tools, like &lt;a href="https://github.com/agkozak/zsh-z"&gt;z&lt;/a&gt; to make
navigation supper easy. I also have a lot of aliases defined. E.g. &lt;code&gt;..&lt;/code&gt; → &lt;code&gt;cd
..&lt;/code&gt;. Working on a remote server should be as convenient and familiar as working
on my local machine, so I want to find a way to configure a server the same way
as my laptop, and I want to do it automatically so that it can be done many
times, with no additional effort.&lt;/p&gt;
&lt;h1 id="ansible"&gt;Ansible&lt;/h1&gt;
&lt;p&gt;Ansible seems to be popular because:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It’s free&lt;/li&gt;
&lt;li&gt;It’s got all the features and capabilities you’re going to need&lt;/li&gt;
&lt;li&gt;It’s agentless - you don’t need to install anything on the machine you want
   to control - you can use Ansible with anything that you can ssh into.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I used the following resources to get started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;This &lt;a href="https://www.youtube.com/watch?v=w9eCU4bGgjQ"&gt;useful video&lt;/a&gt; gave me some
    orientation and helped me figure out what I was aiming for and how to get
    started. Before watching it, I didn’t know “which way was up”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This &lt;a href="http://matthieure.me/2018/12/31/ansible_inventory_plugin.html"&gt;blog
    post&lt;/a&gt; showed
    me how to create an inventory using the &lt;code&gt;gcp_compute&lt;/code&gt; plugin.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I spent a lot of time being unnecessarily confused about service accounts.
    I guess until you have 1 success at understanding something you don’t know
    if you’ve misunderstood by a little or a lot.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once you have an inventory of servers that you want to connect to, you
    still need to specify (and prepare for) how you will connect to them. I’d
    hoped that the &lt;code&gt;gcp_compute&lt;/code&gt; plugin would do some heavy lifting for me in
    this step, but it seems not. It &lt;em&gt;can&lt;/em&gt; do lots of useful stuff like
    creating instances and specifying disk space and networks, but it won’t
    really help you ssh into an instance. No matter though…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This &lt;a href="https://alex.dzyoba.com/blog/gcp-ansible-service-account/"&gt;blog post&lt;/a&gt;
    turned out to be just what I needed. I found it at the beginning of my
    search when I was trying to create an inventory, and discarded it as almost
    useful. Turns out that &lt;code&gt;OS Login&lt;/code&gt; is the best way to ssh into a &lt;span class="caps"&gt;GCE&lt;/span&gt;
    instance and once you’ve got your inventory taken care of, this blog post
    really helps.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When I was installing python modules, I had some errors about pyenv shims
being incorrect. The scripts were looking for versions that weren’t present.
Running &lt;code&gt;pyenv reshash&lt;/code&gt; fixed it. Kind of magically, but annoying.&lt;/p&gt;
&lt;p&gt;Setting up a service account and giving it the correct permissions took more
time and was more confusing than anything to do with Ansible.&lt;/p&gt;
&lt;p&gt;I found this &lt;a href="https://www.arthurkoziel.com/setting-up-vim-for-yaml/"&gt;blog post&lt;/a&gt;
about setting up vim for &lt;code&gt;yml&lt;/code&gt; files.&lt;/p&gt;
&lt;p&gt;The preferred way to install ansible on Mac is using &lt;code&gt;pip&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;When you use &lt;code&gt;OS Login&lt;/code&gt; the username you have when you ssh into the compute
instance will change. This &lt;a href="https://superuser.com/questions/1379434/google-compute-engine-ssh-different-username-after-switching-to-os-login"&gt;&lt;span class="caps"&gt;SO&lt;/span&gt;
question&lt;/a&gt;
explains why.&lt;/p&gt;
&lt;h1 id="commands"&gt;Commands&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;gcloud auth list&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible-config view|list|dump&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible-inventory -i inventory.compute.gcp.yml --graph&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible -i inventory.compute.gcp.yml all -m ping&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Technical/Developer Tools"/><category term="ansible"/><category term="servers"/><category term="ssh"/><category term="automation"/></entry><entry><title>github actions blog</title><link href="https://johnmathews.eu/github-actions-blog.html" rel="alternate"/><published>2021-04-10T22:53:39+02:00</published><updated>2021-04-10T22:53:39+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-10:/github-actions-blog.html</id><summary type="html"/><content type="html">&lt;p&gt;I should see if I can use GitHub actions to generate html from markdown and run
some shell and python scripts.&lt;/p&gt;</content><category term="snippet"/><category term="github"/><category term="blog"/></entry><entry><title>socially acceptable mistakes</title><link href="https://johnmathews.eu/socially-acceptable-mistakes.html" rel="alternate"/><published>2021-04-10T22:52:26+02:00</published><updated>2021-04-10T22:52:26+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-10:/socially-acceptable-mistakes.html</id><summary type="html"/><content type="html">&lt;p&gt;Its more socially acceptable to make mistakes and errors of omission than commission.&lt;/p&gt;</content><category term="snippet"/><category term="meta"/><category term="thinking"/><category term="advice"/></entry><entry><title>du command</title><link href="https://johnmathews.eu/du-command.html" rel="alternate"/><published>2021-04-07T22:55:19+02:00</published><updated>2021-04-07T22:55:19+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-07:/du-command.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;du&lt;/code&gt; is a tool for showing disk usage.
There is a similar tool, with a list of other similar tools at https://dev.yorhel.nl/ncdu`&lt;/p&gt;</content><category term="snippet"/><category term="cli"/><category term="unix"/><category term="macos"/></entry><entry><title>safe bash scripting</title><link href="https://johnmathews.eu/safe-bash-scripting.html" rel="alternate"/><published>2021-04-06T22:56:14+02:00</published><updated>2021-04-06T22:56:14+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-06:/safe-bash-scripting.html</id><summary type="html"/><content type="html">&lt;p&gt;safe, good, better bash shell script
&lt;a href="https://t.co/MRxnbHgryD?amp=1"&gt;here&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="bash"/></entry><entry><title>running a binary in debian</title><link href="https://johnmathews.eu/running-a-binary-in-debian.html" rel="alternate"/><published>2021-04-05T22:58:02+02:00</published><updated>2021-04-05T22:58:02+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-05:/running-a-binary-in-debian.html</id><summary type="html"/><content type="html">&lt;p&gt;Was running a binary in debian that was complaining about an environment
variable not existing. I moved the binary into a &lt;span class="caps"&gt;PATH&lt;/span&gt; dir and logged in as a
&lt;span class="caps"&gt;SU&lt;/span&gt;. problem solved. why? &lt;/p&gt;</content><category term="snippet"/><category term="debian"/><category term="binary"/><category term="path"/></entry><entry><title>Over-Engineering this blog</title><link href="https://johnmathews.eu/over-engineering-this-blog.html" rel="alternate"/><published>2021-04-05T11:54:00+02:00</published><updated>2021-04-05T11:54:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-05:/over-engineering-this-blog.html</id><summary type="html"/><content type="html">&lt;p&gt;Over the last few weeks I’ve spent an unreasonable amount of time and energy
making unnecessary improvements to this blog.&lt;/p&gt;
&lt;p&gt;Some of these improvements are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Adding keyboard shortcuts (type &lt;code&gt;?&lt;/code&gt; to find out which).&lt;/li&gt;
&lt;li&gt;&lt;a href="https://johnmathews.eu/Adding-search.html"&gt;Implementing&lt;/a&gt;, then
   &lt;a href="https://johnmathews.eu/fuse-search.html"&gt;reimplementing&lt;/a&gt;, and then optimizing client
   side fuzzy search.&lt;/li&gt;
&lt;li&gt;Using &lt;code&gt;src-set&lt;/code&gt; to serve responsive images
   (&lt;a href="https://github.com/pelican-plugins/image-process"&gt;Image-Process&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Lazy loading images to make this site load faster.&lt;/li&gt;
&lt;li&gt;Compressing page files using &lt;code&gt;brotli&lt;/code&gt; and also &lt;code&gt;gzip&lt;/code&gt;
   (&lt;a href="https://github.com/kurtmckee/pelican_precompress"&gt;Precompress&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Trying (and ultimately failing) to avoid a “white flash” when dark mode is
   chosen and a new page loads (&lt;a href="https://github.com/tailwindlabs/tailwindcss/discussions/3904"&gt;Github
   discussion&lt;/a&gt;).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I’m not really sure why I did it. It makes almost no difference to anyone but
me. It felt a bit compulsive.&lt;/p&gt;
&lt;p&gt;I like tinkering, and it’s nice to build something that will continue to work
with no maintenance. I tell myself that over the next few years I will gain the
benefits of these features even when I’ve forgotten I implemented them.&lt;/p&gt;
&lt;p&gt;It’s taught me a lot of JavaScript, which is a great language to be familiar
with - it’s everywhere. I would warmly encourage someone younger than myself to
pursue interests for the sake of curiosity and fun. And there is a very high
chance that even if no-one uses the shortcuts except me, my new javascript
skills will come in useful somewhere else.&lt;/p&gt;
&lt;p&gt;But even if they do I’m not sure its a good enough reason - things should be
built when they solve a present problem, not over-engineered for what-ifs and
maybes. &lt;a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it"&gt;&lt;span class="caps"&gt;YAGNI&lt;/span&gt;&lt;/a&gt;. I
wouldn’t let myself do this in a professional capacity. There is a tension
between being curious and being focussed.&lt;/p&gt;
&lt;p&gt;I’m not really sure that I need to justify myself. Its a hobby, I wanted to do
it, I enjoy tinkering with web technologies and learning new things.&lt;/p&gt;
&lt;p&gt;But also, I lost sleep over this - I stayed up too late, and let it put
pressure on other things.&lt;/p&gt;
&lt;p&gt;I know that being curious, and making room to play with interesting things, has
been one of the most useful approaches to personal development and up-skilling
myself. But there must be a limit..&lt;/p&gt;
&lt;p&gt;There is a tension between wasting my time and taking a risk, and it will take
a few years before I know for sure if these efforts were worthwhile, or not.&lt;/p&gt;
&lt;p&gt;If it’s not fun, don’t do it.&lt;/p&gt;
&lt;p&gt;Successful business owners seem to be very good at leaving things alone once
they’re “good enough”, and not being perfectionists. In fact, I think that
being a perfectionist is antithetical to being an entrepreneur. I am not a
perfectionist, I’m just really curious and have a big appetite for learning.&lt;/p&gt;
&lt;p&gt;But this “appetite for learning” stops me from focussing. I let myself become
distracted by adding new features to this blog, when instead I should zoom out
a bit and think about working towards a more substantial and meaningful goal,
to the exclusion of more minor goals.&lt;/p&gt;
&lt;p&gt;I think that good entrepreneurs are very focussed, to a fault. I am not that
focussed. I am too distracted by life.&lt;/p&gt;
&lt;p&gt;It’s a balancing act, there is a tension between being emotionally and
physically present with my family and friends, and ignoring as many things as
possible so that I can focus on doing something meaningful that is necessarily hard.&lt;/p&gt;</content><category term="Technical/Web"/><category term="blog"/><category term="javascript"/><category term="self-reflection"/></entry><entry><title>Fuse Search</title><link href="https://johnmathews.eu/fuse-search.html" rel="alternate"/><published>2021-04-05T10:45:00+02:00</published><updated>2021-04-05T10:45:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-05:/fuse-search.html</id><summary type="html"/><content type="html">&lt;h2 id="adding-search-made-the-site-feel-faster-and-more-accessible"&gt;Adding search made the site feel faster and more accessible&lt;/h2&gt;
&lt;p&gt;I’ve reimplemented search on this site using &lt;a href="https://fusejs.io/"&gt;fuse.js&lt;/a&gt;
instead of &lt;a href="https://github.com/tinysearch/tinysearch"&gt;tinySearch&lt;/a&gt;. You can read
about how I implemented tinysearch &lt;a href="https://johnmathews.eu/Adding-search.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When I first implemented search I was surprised how much faster and more accessible
the site began to feel. I could quickly access any content by typing a few
words, I didn’t need to scroll or follow a link.&lt;sup id="sf-fuse-search-1-back"&gt;&lt;a class="simple-footnote" href="#sf-fuse-search-1" title="It also immediately gave me the idea to add keyboard shortcuts. Type ? to see what happened"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;This means I can find content without having to think about how to get there -
I don’t need to break my flow or concentration. It might sound like a
trivially small consideration, but lowering friction or cognitive load in small
ways can make the difference between using or not using something when you’re
already working hard or concentrating on something else. &lt;/p&gt;
&lt;p&gt;For example, if I want to look up my notes about using the &lt;code&gt;nohup&lt;/code&gt; command, I
can quickly go to the site, type &lt;code&gt;/&lt;/code&gt; (the keyboard shortcut for search), type
“nohup” and hit enter. This is all muscle-memory level impulses. I don’t need
to think about the content, think about its category or when I posted it,
then scroll down and scan a list, or use a mouse to click on intermediate links.
Win. Working at the speed of thought rather than the speed of input is a big deal.&lt;/p&gt;
&lt;h2 id="why-i-switched-from-tinysearch-to-fusejs"&gt;Why I switched from tinySearch to Fuse.js&lt;/h2&gt;
&lt;p&gt;Before implementing &lt;code&gt;fuse.js&lt;/code&gt;, this site had a search feature powered by
TinySearch. I wouldn’t have had enough knowledge to implement fuse.js
if I hadn’t already learnt some JavaScript whilst setting-up tinySearch.&lt;/p&gt;
&lt;p&gt;TinySearch had an example for Pelican Blogs, and a simple and clear readme. By using
tinySearch first I saw an example of how to build the &lt;span class="caps"&gt;JSON&lt;/span&gt; array that becomes
the search index, and how to implement the javascript that’s required for
client side search.&lt;/p&gt;
&lt;p&gt;Also, in the course of developing and over-engineering this blog I’ve become
much more proficient and comfortable with JavaScript (and jQuery) in general. &lt;/p&gt;
&lt;p&gt;Fuse.js is really quite simple to set up once you’re familiar with JavaScript.
It’s much more flexible than tinySearch; you  can choose search
weights for different fields, accuracy thresholds, and some parameters for the
fuzzy search algorithm.&lt;/p&gt;
&lt;p&gt;The general approach is to instantiate an instance of &lt;code&gt;Fuse&lt;/code&gt; by calling Fuse
with a &lt;span class="caps"&gt;JSON&lt;/span&gt; array for it to parse, along with some options. You then give the
instance a string and get back an array of results which you can do whatever you
want with.&lt;/p&gt;
&lt;p&gt;The accuracy of the search results is higher with &lt;code&gt;fuse.js&lt;/code&gt; and the speed is
still acceptable. I did have to do some optimization of the search index that
Fuse generates, though.&lt;/p&gt;
&lt;h2 id="optimizing-the-search-index"&gt;Optimizing the search index&lt;/h2&gt;
&lt;p&gt;The “normal” search index that Fuse uses to return results is a &lt;span class="caps"&gt;JSON&lt;/span&gt; array of
all the content of all the articles that you want to be able to search. You can
generate it using a jinja template or any other way you want. (There simply
needs to be a &lt;span class="caps"&gt;JSON&lt;/span&gt; array that the browser downloads and does a fuzzy search
on). This gave me a file that was about &lt;span class="caps"&gt;4MB&lt;/span&gt;. Once I asked Fuse to search the
complete text of each article (not just the default first 600 chars, iirc) then
speed really suffered.&lt;/p&gt;
&lt;p&gt;I optimized the index file in the following three ways:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Removed any non-words. Some of my articles are jupyter notebooks that have
been converted to articles (the plugin to do this is one of the reasons why I
began using Pelican). When the index is built, lots of code and html gets
included, which isn’t helpful. Any “words” that are more than 20 chars I just delete.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Removed the 150 most common words. Any word that is in many articles is
not useful for distinguishing between different articles, so they can be
deleted from the index. They don’t add any meaning. I wrote a short pipeline of
shell commands using &lt;code&gt;tr&lt;/code&gt;, &lt;code&gt;sort&lt;/code&gt;, &lt;code&gt;uiq&lt;/code&gt; to generate a file with a list of the
most common words. I then wrote a python script to update the original search
index by removing all the common words.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shortened any long words by only keeping the first 12 characters. If a
word was 15 characters long, I simply removed that last 3 chars. I figured this
would work fine because matching the first 12 characters would already be quite
unique and give a good result.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Doing these 3 optimizations reduced the file size by about 90%. Compressing the
&lt;span class="caps"&gt;JSON&lt;/span&gt; using &lt;code&gt;gzip&lt;/code&gt; or &lt;code&gt;brotli&lt;/code&gt; makes the files even smaller, and now the amount
of data transferred to the client seems reasonably small. (This is a static
site, and therefore search has to happen client side.)&lt;/p&gt;
&lt;p&gt;The browser would still begin to lag as the search string length increased. It
takes more time to search for a 10 character string than for a 5 character
string, and initially fuse was doing a search every time a character was typed.&lt;/p&gt;
&lt;p&gt;I wanted the site to feel as fast as possible and thought that if search was
paused whilst typing and occurred a short time after the last key was pressed
this would be an improvement. I added a short delay of 200ms to the function
call, and typing during the delay time resets the time. This reduced the lag
and made the search tool feel responsive. I learnt that this is called “debouncing”.&lt;/p&gt;
&lt;p&gt;There was some further complexity when I wanted to debounce characters used for
searching, but not the navigation or keyboard shortcuts. Getting the
debounce function to only run on some key presses was surprisingly complex. It
taught me a lot of JavaScript though, and it’s satisfying to have made a useful
user interface.&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-fuse-search-1"&gt;It also immediately gave
me the idea to add keyboard shortcuts. Type &lt;code&gt;?&lt;/code&gt; to see what happened &lt;a class="simple-footnote-back" href="#sf-fuse-search-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Web"/><category term="Fuse"/><category term="Search"/><category term="Web"/></entry><entry><title>creating slowly</title><link href="https://johnmathews.eu/creating-slowly.html" rel="alternate"/><published>2021-04-01T23:02:09+02:00</published><updated>2021-04-01T23:02:09+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-01:/creating-slowly.html</id><summary type="html"/><content type="html">&lt;p&gt;As a hacker, or creator, or whatever the best label is, I always want to create
something (usually code) and have it finished.&lt;/p&gt;
&lt;p&gt;But a strange creativity and productivity boost comes from dabbling, dipping in
and out.&lt;/p&gt;
&lt;p&gt;I think that if the technical challenges aren’t too hard, then the main
criteria for success is creativity.&lt;/p&gt;
&lt;p&gt;Creativity needs time away from the project, and sleep, to bubble up and let
ideas grow.&lt;/p&gt;
&lt;p&gt;Ultimately, the most successful path is usually the most interesting, because
success has more consequences than failure. “Interesting” requires elements of
novelty and surprise, and without creativity these elements can’t flourish. 3/n&lt;/p&gt;
&lt;p&gt;Dabbling results in more creativity than 6+ hours of strenuous work, and is
more likely to give you satisfying results.&lt;/p&gt;</content><category term="snippet"/><category term="meta"/><category term="thinking"/><category term="advice"/></entry><entry><title>arrow syntax in bash</title><link href="https://johnmathews.eu/arrow-syntax-in-bash.html" rel="alternate"/><published>2021-04-01T22:59:00+02:00</published><updated>2021-04-01T22:59:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-01:/arrow-syntax-in-bash.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;bar &amp;lt;&amp;lt; foo&lt;/code&gt; bar will stop reading input when it reached “foo” (here-document)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bar &amp;lt;&amp;lt;&amp;lt; "foo"&lt;/code&gt; foo is all the input. bar wont run interactively. (here-string)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bar &amp;lt; &amp;lt;(foo:list)&lt;/code&gt; process subscription. kind of like piping in the output of multiple commands&lt;/p&gt;</content><category term="snippet"/><category term="bash"/><category term="syntax"/></entry><entry><title>pretty print json in typescript</title><link href="https://johnmathews.eu/pretty-print-json-in-typescript.html" rel="alternate"/><published>2021-03-31T23:04:25+02:00</published><updated>2021-03-31T23:04:25+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-31:/pretty-print-json-in-typescript.html</id><summary type="html"/><content type="html">&lt;p&gt;typescript: pretty print json stuff:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;http://console.info(`foo: &lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;JSON&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stringify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;`);
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="typescript"/><category term="json"/><category term="syntax"/></entry><entry><title>useful business</title><link href="https://johnmathews.eu/useful-business.html" rel="alternate"/><published>2021-03-30T23:07:07+02:00</published><updated>2021-03-30T23:07:07+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-30:/useful-business.html</id><summary type="html"/><content type="html">&lt;p&gt;analystsnow.com/# looks like a really useful business&lt;/p&gt;</content><category term="snippet"/><category term="entrepreneur"/><category term="saas"/></entry><entry><title>frantic distraction</title><link href="https://johnmathews.eu/frantic-distraction.html" rel="alternate"/><published>2021-03-30T23:05:59+02:00</published><updated>2021-03-30T23:05:59+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-30:/frantic-distraction.html</id><summary type="html"/><content type="html">&lt;p&gt;frantic distraction via productive procrastination is exhausting, and useful.&lt;/p&gt;</content><category term="snippet"/><category term="meta"/><category term="thinking"/></entry><entry><title>vim split rearranging</title><link href="https://johnmathews.eu/vim-split-rearranging.html" rel="alternate"/><published>2021-03-29T23:09:27+02:00</published><updated>2021-03-29T23:09:27+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-29:/vim-split-rearranging.html</id><summary type="html"/><content type="html">&lt;p&gt;Vim  split rearranging:&lt;/p&gt;
&lt;p&gt;&lt;c-w&gt;x swap buffers, but keep arrangement the same
&lt;c-w&gt;H (capital H) - make the current split cover the left of the screen. (J,
K, L covers the bottom, top, right of the screen) &lt;/c-w&gt;&lt;/c-w&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>pelican plugin guide</title><link href="https://johnmathews.eu/pelican-plugin-guide.html" rel="alternate"/><published>2021-03-29T23:07:52+02:00</published><updated>2021-03-29T23:07:52+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-29:/pelican-plugin-guide.html</id><summary type="html"/><content type="html">&lt;p&gt;Here is a guide about writing plugins for Pelican, a static site generator written in Python.&lt;/p&gt;
&lt;p&gt;https://blog.geographer.fr/pelican-plugins&lt;/p&gt;
&lt;p&gt;Thanks @geographeur&lt;/p&gt;</content><category term="snippet"/><category term="pelican"/><category term="plugin"/><category term="guide"/></entry><entry><title>read and write same file</title><link href="https://johnmathews.eu/read-and-write-same-file.html" rel="alternate"/><published>2021-03-24T23:11:55+01:00</published><updated>2021-03-24T23:11:55+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-24:/read-and-write-same-file.html</id><summary type="html"/><content type="html">&lt;p&gt;Tried to read and write the same file in a pipeline, and got caught out by a race condition (why is the file empty?!). Do this instead:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;some_script &amp;lt; file &amp;gt; smscrpt.&lt;span class="nv"&gt;$$&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mv smscrpt.&lt;span class="nv"&gt;$$&lt;/span&gt; file &lt;span class="o"&gt;||&lt;/span&gt; rm smscrpt.&lt;span class="nv"&gt;$$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;the last part removes the temporary file if it errors&lt;/p&gt;</content><category term="snippet"/><category term="shell"/><category term="pipe"/><category term="syntax"/><category term="bash"/></entry><entry><title>json tools</title><link href="https://johnmathews.eu/json-tools.html" rel="alternate"/><published>2021-03-24T23:10:45+01:00</published><updated>2021-03-24T23:10:45+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-24:/json-tools.html</id><summary type="html"/><content type="html">&lt;p&gt;json tools:&lt;/p&gt;
&lt;p&gt;jj - json stream editor https://github.com/tidwall/jj
jq - json processor 
python -m json.tool &lt;/p&gt;
&lt;p&gt;I like jq for pretty printing json output, jj for making json pretty or condensed&lt;/p&gt;</content><category term="snippet"/><category term="json"/></entry><entry><title>docker commands</title><link href="https://johnmathews.eu/docker-commands.html" rel="alternate"/><published>2021-03-17T23:14:43+01:00</published><updated>2021-03-17T23:14:43+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-17:/docker-commands.html</id><summary type="html"/><content type="html">&lt;p&gt;docker containers - foreground, background, attach, logs:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run -d ... 
docker logs -f &lt;id&gt;
docker run -it ...
docker run -itd 
docker container attach &lt;id&gt;
&lt;c-p&gt;&lt;c-q&gt; -&amp;gt; detach from container interactively
&lt;/c-q&gt;&lt;/c-p&gt;&lt;/id&gt;&lt;/id&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;https://stackoverflow.com/questions/34029680/docker-detached-mode&lt;/p&gt;</content><category term="snippet"/><category term="docker"/></entry><entry><title>Python Notes</title><link href="https://johnmathews.eu/python-notes-2.html" rel="alternate"/><published>2021-03-17T09:12:00+01:00</published><updated>2021-03-17T09:12:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-17:/python-notes-2.html</id><summary type="html"/><content type="html">&lt;h1 id="95_call__"&gt;__call__()&lt;/h1&gt;
&lt;p&gt;In Python, every time you call a function or method such as &lt;code&gt;my_function()&lt;/code&gt; or
&lt;code&gt;my_class.my_method()&lt;/code&gt; the interpreter will replace the &lt;code&gt;(&lt;/code&gt; with
&lt;code&gt;.__call__(&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;my_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;my_function&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Prefixer&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prefix&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;prefix&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
       &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prefix&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then use &lt;em&gt;prefixer&lt;/em&gt; like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span class="nv"&gt;simonsays&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; Prefixer&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Simon says: "&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt;&amp;gt;&amp;gt; simonsays&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"jump up high!"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="s1"&gt;'Simon says: jump up high!'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Every time you call a function or method, you’re really just calling a built in
&lt;code&gt;__call__&lt;/code&gt; method.&lt;/p&gt;
&lt;h1 id="there-should-be-one-and-preferably-only-one-obvious-way-to-do-something"&gt;There should be one, and preferably only one, obvious way to do something&lt;/h1&gt;
&lt;p&gt;It’s in the ‘zen of Python’, which is a set of guidelines that help make
design decisions. It’s a choice that Python made, and other languages do it differently.&lt;/p&gt;
&lt;p&gt;There are different
&lt;a href="https://johnmathews.eu/python-notes.html#levels-of-python-code"&gt;levels&lt;/a&gt; to
languages and this applies more to the idiom level than the design pattern
level. It applies even less at the architectural level where there can be
several equally good ways of organizing business logic and data representations.&lt;/p&gt;
&lt;p&gt;Perl has the “&lt;span class="caps"&gt;TMTOWTDI&lt;/span&gt;” (tim towtdi) principle - “There’s More Than One Way To Do
It”. Perl’s philosophy is to give users more than one way to do something.&lt;/p&gt;</content><category term="Technical/Developer Tools"/><category term="python"/><category term="learning notes"/></entry><entry><title>Adding Search</title><link href="https://johnmathews.eu/Adding-search.html" rel="alternate"/><published>2021-03-12T17:27:00+01:00</published><updated>2021-03-12T17:27:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-12:/Adding-search.html</id><summary type="html"/><content type="html">&lt;p&gt;I’ve added search to this blog. Results are generated as you type. Try it by
typing &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;cmd-k&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you look on the Pelican &lt;a href="https://github.com/pelican-plugins"&gt;plugins&lt;/a&gt; index
you’ll see that &lt;a href="https://github.com/pelican-plugins/tipue-search"&gt;Tipue search&lt;/a&gt;
is the only search tool with a ready-made Pelican plugin, but unfortunately the
project seems to have died and the projects &lt;a href="https://tipue.com/"&gt;website&lt;/a&gt; is
now something else.&lt;/p&gt;
&lt;p&gt;But searching a static site must be quite a common need and googling for
alternatives gave me a few choices. &lt;a href="https://lunrjs.com/"&gt;Lunr.js&lt;/a&gt; seems to be
the most popular, but it also seemed fairly complicated and like it was
probably more than I needed. I went with &lt;a href="https://github.com/tinysearch/tinysearch"&gt;Tiny
Search&lt;/a&gt; because it seemed to do what
I needed and was easy to setup. There’s even an example for
Pelican blogs.&lt;/p&gt;
&lt;p&gt;One hurdle to success was minimising the false positives. The default settings
seem to prioritise keeping the size of the index small (tiny) over giving a
good user experience. Maybe its because the amount of text on my site is
significanly less, or more, than the typical use case. Either way, after
checking the project’s issues on Github I found an issue that matched my
problem perfectly. The solution is to increase the tiny_magic variable at build time.&lt;/p&gt;
&lt;p&gt;According to the Readme, this requires using a container and building the index
using &lt;code&gt;docker run...&lt;/code&gt;. Unfortunately the Dockerfile wouldn’t complete without
errors. Checking the issues again and adding to the discussion resulted in an
alternative Dockerfile being suggested, which works. Woohoo! I could then build
the search index with a massive tiny_magic value (2048).&lt;/p&gt;
&lt;p&gt;Then something weird happened. I write in Vim and I use &lt;code&gt;fzf&lt;/code&gt; to find and open
files. I realised that &lt;code&gt;fzf&lt;/code&gt; had stopped working. After some investigating, I
realised it was only not working in the blog project, and that &lt;code&gt;fzf.vim&lt;/code&gt; calls
the &lt;code&gt;fzf&lt;/code&gt; &lt;span class="caps"&gt;CLI&lt;/span&gt; tool, which in turn calls the &lt;code&gt;ripgrep&lt;/code&gt; tool. The underlying
issue was that &lt;code&gt;ripgrep&lt;/code&gt;  wasn’t working, and after a few hours (sob) of
debugging, I found out that one of the things that makes &lt;code&gt;rg&lt;/code&gt; special is that
it ignores stuff in your .gitignore file. Sneakily, and without me  noticing,
the Docker image for constructing the tinysearch files had created a
.gitignore file with a single entry. The entry was *, which selects
everything. So &lt;code&gt;rg&lt;/code&gt; was ignoring everything, and giving no results. Which
meant I couldn’t find and open files.&lt;/p&gt;
&lt;p&gt;I still don’t know how (or which part of) the Dockerfile does this, so I’ve
created a .gitignore-master file which contains the correct content, and
after I generate a new search index I replace the new traitorous .gitignore
with the contents of .gitignore-master. I’ll come back to it later
when/if I have a better understanding of Dockerfile syntax, or Rust.&lt;/p&gt;
&lt;p&gt;Adding search to the site made the content feel a lot closer and more
accessible. Once it was working I immediately wanted to use some keyboard
shortcuts to open the search box and select results. Kind of like
&lt;a href="https://tailwindcss.com/"&gt;tailwindcss.com&lt;/a&gt; does it. It feels really fast and precise.&lt;/p&gt;
&lt;p&gt;Googling for some jquery packages, and also some vanilla javaScript showed me
enough to get things working. You can hit &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;ctrl-k&lt;/code&gt; or &lt;code&gt;cmd-k&lt;/code&gt; and bring up a search box
that populates results as you type!&lt;/p&gt;
&lt;p&gt;Only whole words are matched unfortunately, but its still a super useful
feature. The search index includes article content as well as article titles
and categories. I’d like to tweak a few of the keyboard shortcut behaviours,
and add the contents of various pages (which aren’t articles) to the search index.&lt;/p&gt;
&lt;h2 id="update"&gt;Update&lt;/h2&gt;
&lt;p&gt;I’ve reimplemented search using &lt;code&gt;fuse.js&lt;/code&gt;. You can read about it &lt;a href="https://johnmathews.eu/fuse-search.html"&gt;here&lt;/a&gt;&lt;/p&gt;</content><category term="Technical/Web"/><category term="blog"/><category term="search"/><category term="tinysearch"/><category term="web"/></entry><entry><title>pipe a script files into bash</title><link href="https://johnmathews.eu/pipe-a-script-files-into-bash.html" rel="alternate"/><published>2021-03-11T23:16:13+01:00</published><updated>2021-03-11T23:16:13+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-11:/pipe-a-script-files-into-bash.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;sh -s&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Pipe a script file into bash, probably one you just &lt;code&gt;curl&lt;/code&gt;-ed&lt;/p&gt;
&lt;p&gt;e.g:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl -sSfL https://example.com/install.sh &lt;span class="p"&gt;|&lt;/span&gt; sh -s
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="bash"/><category term="syntax"/><category term="shell"/></entry><entry><title>split long output onto multiple lines</title><link href="https://johnmathews.eu/split-long-output-onto-multiple-lines.html" rel="alternate"/><published>2021-03-10T23:19:12+01:00</published><updated>2021-03-10T23:19:12+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-10:/split-long-output-onto-multiple-lines.html</id><summary type="html"/><content type="html">&lt;p&gt;Split long output onto multiple lines (find and replace on output)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;tr&lt;/span&gt; &lt;span class="s1"&gt;':'&lt;/span&gt; &lt;span class="s1"&gt;'\n'&lt;/span&gt;

&lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;sed&lt;/span&gt; &lt;span class="s1"&gt;'s/:/\n/g'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="bash"/><category term="linux"/></entry><entry><title>ripgrep regret</title><link href="https://johnmathews.eu/ripgrep-regret.html" rel="alternate"/><published>2021-03-10T23:18:09+01:00</published><updated>2021-03-10T23:18:09+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-10:/ripgrep-regret.html</id><summary type="html"/><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Without noticing, create a .gitignore file with a single * in it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Spend a day trying to understand why ripgrep has stopped working for only 1 project.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sad face.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="snippet"/><category term="ripgrep"/><category term="fail"/></entry><entry><title>teaching kids about money</title><link href="https://johnmathews.eu/teaching-kids-about-money.html" rel="alternate"/><published>2021-03-05T23:23:46+01:00</published><updated>2021-03-05T23:23:46+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/teaching-kids-about-money.html</id><summary type="html"/><content type="html">&lt;p&gt;Teaching my kids about money and work is having an effect. &lt;/p&gt;
&lt;p&gt;Yesterday, my daughter made a painting for me and asked my to buy it using
pretend money.&lt;/p&gt;</content><category term="snippet"/><category term="parenting"/><category term="kids"/><category term="money"/><category term="teaching"/></entry><entry><title>stop prepending sudo to docker commands</title><link href="https://johnmathews.eu/stop-prepending-sudo-to-docker-commands.html" rel="alternate"/><published>2021-03-05T23:22:58+01:00</published><updated>2021-03-05T23:22:58+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/stop-prepending-sudo-to-docker-commands.html</id><summary type="html"/><content type="html">&lt;p&gt;Stop prepending docker commands with sudo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo groupadd docker -&amp;gt; make the group 
sudo gpasswd -a &lt;span class="nv"&gt;$USER&lt;/span&gt; docker -&amp;gt; add &lt;span class="nv"&gt;$USER&lt;/span&gt; to the docker group
newgrp docker -&amp;gt; activate the changes
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="sudo"/><category term="docker"/><category term="linux"/></entry><entry><title>cat and a new line</title><link href="https://johnmathews.eu/cat-and-a-new-line.html" rel="alternate"/><published>2021-03-05T23:21:43+01:00</published><updated>2021-03-05T23:21:43+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/cat-and-a-new-line.html</id><summary type="html"/><content type="html">&lt;p&gt;If you’re &lt;code&gt;cat&lt;/code&gt;-ing a file and the bash prompt doesn’t start on a new line (cos
the file you displayed using cat doesn’t end with a new line char) the
following will fix it:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat &lt;filename&gt; ; echo&lt;/filename&gt;&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="cat"/><category term="linux"/><category term="bash"/><category term="shell"/></entry><entry><title>Cardano: Generating Addresses</title><link href="https://johnmathews.eu/cardano-generating-addresses.html" rel="alternate"/><published>2021-03-05T16:14:00+01:00</published><updated>2021-03-05T16:14:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/cardano-generating-addresses.html</id><summary type="html"/><content type="html">&lt;p&gt;If many different customers are to deposit or send &lt;span class="caps"&gt;ADA&lt;/span&gt; (The unit of currency on the
Cardano blockchain) to a Cardano node, it will be necessary to determine which
customer is responsible for each transaction so that the correct customer
account can be updated.&lt;/p&gt;
&lt;p&gt;As with many things involving blockchains, this initially seemed like a simple
requirement but involved several hours of work. &lt;/p&gt;
&lt;p&gt;Cardano wallets are generated using a parameter called ADDRESS_POOL_GAP. The
default value is 20, and is the number of unused addresses that the node will
generate and return to a client using the &lt;span class="caps"&gt;REST&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt;. If one of the addresses is
used, the node will automatically generate another so that there are always 20
unused addresses.&lt;/p&gt;
&lt;p&gt;This is probably very convenient for personal use. If I want someone to send me
some funds, I can make a simple api call using cURL and get a fresh address.
But if you are running a service, weather its e-commerce or a financial
service, its not really good enough. Some advice on the forums says to generate
a wallet with a very large ADDRESS_POOL_GAP value such as 10,000 and just
generate a new wallet when you run out of fresh addresses, but it still
feels like a compromise.&lt;/p&gt;
&lt;p&gt;But lets explain our situation in more detail first. If a customer wants to
send us some &lt;span class="caps"&gt;ADA&lt;/span&gt;, we want to give them a fresh address that’s never been used
before and that only they have. Then we know that any funds that arrive to that
address are from a particular customer. However we don’t know if the customer
will actually use the address and transfer any funds. The address might remain
unused or it might not. Nevertheless, that address is now reserved for them,
and no one else can use it. &lt;/p&gt;
&lt;p&gt;In this way, we might need to generate and maintain a list of thousands of
addresses that are never used. Using ADDRESS_POOL_GAP for this seems like a bad solution. &lt;/p&gt;
&lt;p&gt;Fortunately,
&lt;a href="https://github.com/input-output-hk/cardano-addresses"&gt;Cardano-Addresses&lt;/a&gt; has
the answer, albeit in a fairly convoluted and obscured form. If you have the
mnemonic that was used to generate a wallet originally, you can generate 2^31
unique addresses like so:&lt;/p&gt;
&lt;p&gt;Clone the repo and build the docker image:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/input-output-hk/cardano-wallet 
docker build -t cardano-address .
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get the mnemonic and generate a file containing a list of space separated words on one row.&lt;/p&gt;
&lt;p&gt;Run the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;increment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;increment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;increment+1&lt;span class="o"&gt;))&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cat mnumonic.txt &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address key from-recovery-phrase Shelley &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address key child 1852H/1815H/0H/0/&lt;span class="nv"&gt;$increment&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address key public --with-chain-code  &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address address payment --network-tag testnet &amp;gt; payment.addr &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cat payment.addr &lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;</content><category term="Technical/Cryptocurrencies"/></entry><entry><title>creating users with sudo permissions</title><link href="https://johnmathews.eu/creating-users-with-sudo-permissions.html" rel="alternate"/><published>2021-03-04T23:25:50+01:00</published><updated>2021-03-04T23:25:50+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-04:/creating-users-with-sudo-permissions.html</id><summary type="html"/><content type="html">&lt;p&gt;Creating users with sudo permissions:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adduser -m &lt;username&gt;
usermod -aG sudo &lt;username&gt;
&lt;/username&gt;&lt;/username&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CentOS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adduser -m &lt;username&gt;
passwd &lt;username&gt;
usermod -aG wheel &lt;username&gt;
&lt;/username&gt;&lt;/username&gt;&lt;/username&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(wheel is a usergroup with sudo permissions)&lt;/p&gt;</content><category term="snippet"/><category term="sudo"/><category term="linux"/><category term="user"/><category term="admin"/></entry><entry><title>More VIM Notes</title><link href="https://johnmathews.eu/more-vim-notes.html" rel="alternate"/><published>2021-03-04T14:44:00+01:00</published><updated>2021-03-04T14:44:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-04:/more-vim-notes.html</id><summary type="html"/><content type="html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;q:&lt;/code&gt; - opens the command line window. Good for yanking and viewing previous commands&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;:UltiSnipsEdit&lt;/code&gt; - opens the ultiSnips file for the current buffers filetype.
    See which snippets are defined.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;&lt;a href="https://thevaluable.dev/vim-advanced/"&gt;The Valuable Dev&lt;/a&gt;&lt;/em&gt; has the following gems that I’d like to start using.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gf&lt;/code&gt; - edit the file at the file path under the cursor&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gx&lt;/code&gt; - open the file at the file path under the cursor&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;[m&lt;/code&gt;, &lt;code&gt;]m&lt;/code&gt; - move to the start or end of a method &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;@:&lt;/code&gt; - repeat the last command&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;:&lt;c-f&gt;&lt;/c-f&gt;&lt;/code&gt; - open command history list&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; will indent a line. &lt;code&gt;.&lt;/code&gt; will repeat the operation, so &lt;code&gt;&amp;gt;&amp;gt;..&lt;/code&gt; would indent
    a line 3 times.&lt;/p&gt;
&lt;p&gt;You can use this along with a count, which will do the indention for &lt;code&gt;n&lt;/code&gt; number
of lines (with the current line being the top line). &lt;code&gt;3&amp;gt;&amp;gt;..&lt;/code&gt; will indent 3
lines 3 blocks to the right.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&lt;c-y&gt;&lt;/c-y&gt;&lt;/code&gt; - moves screen up one line, and moves the cursor if it would go off
    the screen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&lt;c-e&gt;&lt;/c-e&gt;&lt;/code&gt; - moves the screen down one lines, and moves the cursor if the would
    go off screen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&lt;c-f&gt;&lt;/c-f&gt;&lt;/code&gt; - move screen down one page, with cursor at top of screen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&lt;c-b&gt;&lt;/c-b&gt;&lt;/code&gt; - move screen up one page, with cursor at bottom of screen&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;&lt;a href="https://www.vimfromscratch.com/articles/vim-for-python/"&gt;Vim for Python&lt;/a&gt;&lt;/em&gt; has some great notes on linting and code completion plugins that
I’ve either copied or was more or less doing already.&lt;/p&gt;</content><category term="Technical/Developer Tools"/><category term="tips"/><category term="vim"/></entry><entry><title>Two Years Of Vim</title><link href="https://johnmathews.eu/two-years-of-vim.html" rel="alternate"/><published>2021-03-04T10:44:00+01:00</published><updated>2021-03-04T10:44:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-04:/two-years-of-vim.html</id><summary type="html"/><content type="html">&lt;p&gt;I’ve been feeling very comfortable with my Vim + Tmux setup recently.
Navigating around shells and files isn’t taking much mental effort anymore. Wohoo!&lt;/p&gt;
&lt;p&gt;It’s taken about 2 years of working full time with vim to get to the stage
where the commands are so intuitive that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;I pepper text files outside of vim (email, notes, etc) with vim keys
     accidentally - &lt;code&gt;j&lt;/code&gt; &lt;code&gt;k&lt;/code&gt; &lt;code&gt;x&lt;/code&gt; etc&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I can’t remember what the command is to do something if I’m not actually
     doing it. When I need to do an action, I do it from muscle
     memory and I only pay attention to the underlying key press if something
     goes wrong.&lt;/p&gt;
&lt;p&gt;This is noticeable when trying to find an unbound key combination for some
 new action, or when reading an article about vim and thinking “that’s new”
 when actually I’ve been doing it without noticing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A pleasant surprise has been that it doesn’t take much effort to
     rebind a single command and retrain myself to use it. This is presumably
     because the mental effort for all the other commands has become negligible.
     In the early days, retraining a key combination took a lot more effort
     because I was already making an effort to get used to doing things in Vim.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I can work even when my vision is blurry (and my speech slurred and my head
     heavy) because I can use text objects and navigation commands to get to
     where I know text is. I’m not saying I &lt;em&gt;should&lt;/em&gt; work when I’m that tired,
     but I can, if I’m already familiar with the code/file.. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Technical/Developer Tools"/></entry><entry><title>disk full and usage commands</title><link href="https://johnmathews.eu/disk-full-and-usage-commands.html" rel="alternate"/><published>2021-03-03T23:27:11+01:00</published><updated>2021-03-03T23:27:11+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-03:/disk-full-and-usage-commands.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;df -h&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Show disk space&lt;/p&gt;
&lt;p&gt;&lt;code&gt;du -hs .&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See how big the current dir is&lt;/p&gt;</content><category term="snippet"/><category term="linux"/><category term="du"/><category term="df"/><category term="shell"/><category term="cli"/></entry><entry><title>cloning git repos using lfs</title><link href="https://johnmathews.eu/cloning-git-repos-using-lfs.html" rel="alternate"/><published>2021-03-03T23:24:35+01:00</published><updated>2021-03-03T23:24:35+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-03:/cloning-git-repos-using-lfs.html</id><summary type="html"/><content type="html">&lt;p&gt;Cloning large repos, or repos with large files in them, doesn’t work with &lt;code&gt;git
clone ...&lt;/code&gt; you need to use &lt;code&gt;git lfs clone ...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;So why is &lt;code&gt;git lfs clone&lt;/code&gt; deprecated? What’s the replacement? &lt;/p&gt;</content><category term="snippet"/><category term="git"/><category term="git-lfs"/></entry><entry><title>Binance-Chain: Running a node</title><link href="https://johnmathews.eu/binance-node-api.html" rel="alternate"/><published>2021-03-03T15:28:00+01:00</published><updated>2021-03-03T15:28:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-03:/binance-node-api.html</id><summary type="html"/><content type="html">&lt;p&gt;This week I’ve been setting up a binance-chain node. Unlike Polkadot or
Cardano, I’m not going to run it from a container until it’s working reliably.&lt;/p&gt;
&lt;p&gt;The Binance &lt;a href="https://docs.binance.org/guides/node/install.html"&gt;docs&lt;/a&gt; show a
couple of ways to install a node. I used the &lt;code&gt;install.sh&lt;/code&gt; script and went with
default values as much as possible.&lt;/p&gt;
&lt;h1 id="installation"&gt;Installation&lt;/h1&gt;
&lt;p&gt;My first attempts to sync a full node used the &lt;code&gt;install.sh&lt;/code&gt; script, but
the node wouldn’t sync completely, it would get stuck. I setup a new &lt;span class="caps"&gt;VM&lt;/span&gt; and did
a manual install (“Option Two”) and so far the node has been syncing without
any issues. You need to download the genesis file separately in this
case. Also, be sure to download the &lt;code&gt;node-binary&lt;/code&gt; repo using &lt;code&gt;git lfs&lt;/code&gt; and not
just &lt;code&gt;git&lt;/code&gt;. It will look like it worked but &lt;code&gt;bnbchaind&lt;/code&gt; wont have completely
downloaded unless you use &lt;code&gt;lfs&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It took me awhile to realise that the documentation assumes that you have an
environment variable called &lt;code&gt;BNCHOME&lt;/code&gt;. You can either create it using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;BNCHOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/path/to/.bnbchaind/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(like you would for any environment variable) or replace the environment
variable in the start node command with the file path:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nohup bnbchaind start --home BNCHOME &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: I’m not sure if the &lt;code&gt;bnbchaind&lt;/code&gt; needs the environment variable to be set
or not. It doesn’t give errors if it isn’t set, but I seem to be having more
success when &lt;code&gt;BNCHOME&lt;/code&gt; is defined.&lt;/p&gt;
&lt;h1 id="syncing-the-node"&gt;Syncing the node&lt;/h1&gt;
&lt;p&gt;There are &lt;a href="https://docs.binance.org/guides/node/synctypes.html"&gt;three ways&lt;/a&gt; to sync a node.&lt;/p&gt;
&lt;p&gt;Fast-sync isn’t the fastest way to sync your node, hot-sync is. Using
&lt;code&gt;install.sh&lt;/code&gt; &lt;em&gt;should&lt;/em&gt; put the correct default values in the
&lt;code&gt;$BNCHOME/config/config.toml&lt;/code&gt; file, but I needed to adjust &lt;code&gt;ping_interval&lt;/code&gt; and
&lt;code&gt;pong_timeout&lt;/code&gt; to the recommended values.&lt;/p&gt;
&lt;h1 id="surprises"&gt;Surprises&lt;/h1&gt;
&lt;p&gt;The documentation assumes you have familiarity with running tasks in the
background of a terminal session, and that you’re familiar with &lt;code&gt;nohup&lt;/code&gt;. I
wasn’t - I’d even forgotten what the &lt;code&gt;&amp;amp;&lt;/code&gt; symbol does&lt;sup id="sf-binance-node-api-1-back"&gt;&lt;a class="simple-footnote" href="#sf-binance-node-api-1" title="It starts a process in the background. You can move it to the foreground with fg or see a list of running jobs using jobs. You can move a running job to the background (like a vim session) using ctrl-z"&gt;1&lt;/a&gt;&lt;/sup&gt; so I did some research and wrote some
&lt;a href="https://johnmathews.eu/nohup-and-background-processes.html"&gt;notes&lt;/a&gt;&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-binance-node-api-1"&gt;It starts a process in
the background. You can move it to the foreground with &lt;code&gt;fg&lt;/code&gt; or see a list of
running jobs using &lt;code&gt;jobs&lt;/code&gt;. You can move a running job to the background (like a
vim session) using &lt;code&gt;ctrl-z&lt;/code&gt; &lt;a class="simple-footnote-back" href="#sf-binance-node-api-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Cryptocurrencies"/></entry><entry><title>nohup</title><link href="https://johnmathews.eu/nohup.html" rel="alternate"/><published>2021-03-02T23:30:02+01:00</published><updated>2021-03-02T23:30:02+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-02:/nohup.html</id><summary type="html"/><content type="html">&lt;p&gt;Use &lt;code&gt;nohup&lt;/code&gt; to keep a curl process running even when the terminal (tty?) session autocloses at 3am.&lt;/p&gt;</content><category term="snippet"/><category term="linux"/><category term="cli"/></entry><entry><title>shell comparisons</title><link href="https://johnmathews.eu/shell-comparisons.html" rel="alternate"/><published>2021-03-02T23:28:35+01:00</published><updated>2021-03-02T23:28:35+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-02:/shell-comparisons.html</id><summary type="html"/><content type="html">&lt;p&gt;zsh isn’t a superset of bash.&lt;/p&gt;
&lt;p&gt;bash is a superset of the bourne shell.&lt;/p&gt;
&lt;p&gt;You can group shells into groups:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ksh - korn shell and zshell&lt;/li&gt;
&lt;li&gt;sh - bourne shell and bash (the bourne again shell)&lt;/li&gt;
&lt;/ol&gt;</content><category term="snippet"/><category term="zsh"/><category term="bash"/><category term="bsh"/><category term="linux"/><category term="cli"/></entry><entry><title>nohup and Background Processes</title><link href="https://johnmathews.eu/nohup-and-background-processes.html" rel="alternate"/><published>2021-03-02T13:10:00+01:00</published><updated>2021-03-02T13:10:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-02:/nohup-and-background-processes.html</id><summary type="html"/><content type="html">&lt;h1 id="stop-stuff-from-stopping"&gt;Stop stuff from stopping&lt;/h1&gt;
&lt;p&gt;If you run a command in a terminal session and the terminal session is
disconnected, the processes running in it will also be terminated.&lt;/p&gt;
&lt;p&gt;I discovered this when I was trying to download a ~500gb database
overnight. I logged in the next morning expecting to see a completed download, but
found I only had half the file.&lt;/p&gt;
&lt;h1 id="use-nohup-to-ignore-hup-signals"&gt;Use &lt;code&gt;nohup&lt;/code&gt; to ignore &lt;code&gt;HUP&lt;/code&gt; signals&lt;/h1&gt;
&lt;p&gt;One solution to this seems to be to use &lt;code&gt;nohup&lt;/code&gt;, a command that
ignores the &lt;code&gt;HUP&lt;/code&gt; signal. It stops your programme from stopping if the terminal
session its running in is stopped.&lt;/p&gt;
&lt;p&gt;By convention, the &lt;code&gt;HUP&lt;/code&gt; signal is the method used by a terminal to warn
dependent processes that it is about to logout.&lt;/p&gt;
&lt;p&gt;You probably want to run &lt;code&gt;nohup&lt;/code&gt; in the background. You might want to prevent
it from creating &lt;code&gt;nohup.out&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id="close-or-redirect-fd0-fd2"&gt;Close or redirect fd0 - fd2&lt;/h1&gt;
&lt;p&gt;On Linux,  &lt;code&gt;nohup&lt;/code&gt; automatically closes &lt;code&gt;stdin&lt;/code&gt;. If you’re using MacOS or &lt;span class="caps"&gt;BSD&lt;/span&gt;
this doesn’t automatically happen, so you might want to redirect it yourself.
This is because if a background process tries to read anything from &lt;code&gt;stdin&lt;/code&gt;
then it will pause itself whilst it waits for you to bring it to the foreground
and type some input. This is probably a waste of time.&lt;/p&gt;
&lt;p&gt;If &lt;code&gt;nohup&lt;/code&gt; detects that you have redirected &lt;code&gt;stdout&lt;/code&gt; and &lt;code&gt;stderr&lt;/code&gt; then it won’t
create &lt;code&gt;nohup.out&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;As with all commands, if you put &lt;code&gt;&amp;amp;&lt;/code&gt; at the end of the command, it will run in
the background. You can bring it to the foreground by running &lt;code&gt;fg&lt;/code&gt;, or see a
list of jobs by running &lt;code&gt;jobs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you redirect input to /dev/null (&lt;code&gt;) you will stop the program
from receiving keyboard (stdin) input, but you won’t prevent it from accessing
the terminal directly. Also you haven’t removed the program from the shell’s
process group.&lt;/code&gt;&lt;/p&gt;
&lt;h1 id="stopping-signals-using-disown"&gt;Stopping signals using &lt;code&gt;disown&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;If you want to remove a program from the shell’s process group, then
immediately after you’ve run the command to start your programme, run &lt;code&gt;disown&lt;/code&gt;
with no arguments. This will make the background process no longer associated
with the shell job and it wont have any signals forwarded to it by the shell.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;disown&lt;/code&gt;ed process gets nothing (no signals) sent to it by the shell. But
without a &lt;code&gt;nohup&lt;/code&gt; it will still be sent a &lt;code&gt;HUP&lt;/code&gt; signal sent via other means,
such as a manual &lt;code&gt;kill&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;nohup&lt;/code&gt;ed process will ignore any and all &lt;code&gt;HUP&lt;/code&gt; signal, no matter how they
are sent.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/10408816/how-do-i-use-the-nohup-command-without-getting-nohup-out"&gt;Source&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="update-2021-03-31"&gt;Update (2021-03-31):&lt;/h1&gt;
&lt;p&gt;Use &lt;code&gt;w&lt;/code&gt; to see who is logged in and what they are doing. It’s summary of every
user logged into a computer, what each user is currently doing, and the
load all the current activity.&lt;/p&gt;
&lt;p&gt;It’s a combination of &lt;code&gt;who&lt;/code&gt;, &lt;code&gt;uptime&lt;/code&gt;, and &lt;code&gt;ps -a&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="process-groups"&gt;Process Groups&lt;/h2&gt;
&lt;p&gt;A collection of one or more processes. It’s used to control the distribution of
a signal. When a signal is directed to a process group, the signal is delivered
to each process that is a member of the group.&lt;/p&gt;
&lt;h2 id="sessions"&gt;Sessions&lt;/h2&gt;
&lt;p&gt;A collection of one or more process groups. A process may not create a process
group that belongs to another session. A process is not permitted
to join a process group that is a member of another session. A process
is not permitted to migrate from one session to another.&lt;/p&gt;</content><category term="Technical/Developer Tools"/></entry><entry><title>File Descriptors and /dev/null</title><link href="https://johnmathews.eu/file-descriptors.html" rel="alternate"/><published>2021-03-02T11:36:00+01:00</published><updated>2021-03-02T11:36:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-02:/file-descriptors.html</id><summary type="html"/><content type="html">&lt;h2 id="devnull"&gt;/dev/null&lt;/h2&gt;
&lt;p&gt;In Linux everything is a file, including virtual devices like keyboards. Processes
(programmes) can request access to or from these devices.&lt;/p&gt;
&lt;p&gt;The only difference between these virtual device “files” and real files, is
that for a virtual device the &lt;span class="caps"&gt;OS&lt;/span&gt; generates the data that goes into the file,
instead of reading the data from storage.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/dev/null&lt;/code&gt; is a virtual device that looks like a file and is used to write
output into a black hole that is discarded, lost forever and never seen. It
isn’t written to the terminal.&lt;/p&gt;
&lt;h2 id="file-descriptors"&gt;File Descriptors&lt;/h2&gt;
&lt;p&gt;File descriptors are integer values assigned to a file. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;stdin&lt;/strong&gt; has a file descriptor of 0&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;stdout&lt;/strong&gt; has a file descriptor of 1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;stderr&lt;/strong&gt; has a file descriptor of 2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Two outputs are generated whenever a &lt;span class="caps"&gt;CLI&lt;/span&gt; is run &lt;code&gt;stdout&lt;/code&gt; and
&lt;code&gt;stderr&lt;/code&gt;. By default, both these data streams are associated with the
terminal. You can use file descriptors to redirect them.&lt;/p&gt;
&lt;p&gt;If a command exits successfully, the exit status is 0.&lt;/p&gt;
&lt;p&gt;If it exits unsuccessfully, the exit status will be something else.&lt;/p&gt;
&lt;p&gt;If you don’t specify which file descriptor you want to use, bash will use
&lt;code&gt;stdout&lt;/code&gt; by default.&lt;/p&gt;
&lt;p&gt;The following redirects &lt;code&gt;stdout&lt;/code&gt; away from the terminal and into &lt;code&gt;/dev/null&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; “Hello World” &amp;gt; log.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will redirect &lt;code&gt;stderr&lt;/code&gt; into a file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ asdfadsa &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt; error.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you run a command that generates lots of error messages along with “good”
messages, you can redirect all the error messages (&lt;code&gt;stderr&lt;/code&gt;) into &lt;code&gt;/dev/null&lt;/code&gt;
so that you can only see the useful &lt;code&gt;stdout&lt;/code&gt; messages. e.g.:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ grep -r hello /sys/ &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt; /dev/null
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to run a command and only see the errors, (&lt;code&gt;stderr&lt;/code&gt;) then you can
filter out all the &lt;code&gt;stdout&lt;/code&gt; by redirecting the &lt;code&gt;stdout&lt;/code&gt; messages to
&lt;code&gt;/dev/null&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ ping google.com &lt;span class="m"&gt;1&lt;/span&gt;&amp;gt; /dev/null
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="redirect-all-output-into-devnull-if-you-want-a-command-to-run-quietly"&gt;Redirect all output into /dev/null if you want a command to run quietly,&lt;/h2&gt;
&lt;p&gt;Redirect all the output. The command below redirects &lt;code&gt;stdout&lt;/code&gt; to &lt;code&gt;/dev/null&lt;/code&gt;
(the default file descriptor is 1 if it isn’t specified) and then redirects
file descriptor 2 into file descriptor 1.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ grep -r hello /sys/ &amp;gt; /dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="read-input-from-a-file-instead-of-the-terminal"&gt;Read input from a file instead of the terminal&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;infile &lt;="" pre=""&gt;&lt;/infile&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="direct-stderr-to-append-to-a-particular-file"&gt;Direct stderr to append to a particular file&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&amp;gt;logfile
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="combining-file-descriptors"&gt;Combining file descriptors&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;2&amp;gt;&amp;amp;1&lt;/code&gt; means send &lt;code&gt;stderr&lt;/code&gt; wherever &lt;code&gt;stdout&lt;/code&gt; is going. This means that you’ve
combined &lt;code&gt;stdout&lt;/code&gt; and &lt;code&gt;stderr&lt;/code&gt; into one data stream and you can’t separate them
anymore. It also means you can pipe &lt;code&gt;stderr&lt;/code&gt; the same as you can &lt;code&gt;stdout&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id="input"&gt;Input&lt;/h1&gt;
&lt;p&gt;You can redirect &lt;code&gt;stdin&lt;/code&gt; similarly. If you run &lt;code&gt; then if the program
attempt to read from &lt;code&gt;stdin&lt;/code&gt; then it will get end-of-file. &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The merge (or redirect) syntax (for example &lt;code&gt;&amp;lt;&amp;amp;2&lt;/code&gt;) won’t work, because you can
only redirect in the same direction.&lt;/p&gt;</content><category term="Technical/Developer Tools"/></entry></feed>