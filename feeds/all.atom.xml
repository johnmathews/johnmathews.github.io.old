<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>John Mathews</title><link href="https://johnmathews.eu/" rel="alternate"/><link href="https://johnmathews.eu/feeds/all.atom.xml" rel="self"/><id>https://johnmathews.eu/</id><updated>2021-05-25T00:00:00+02:00</updated><entry><title>Modeling Credit Risk</title><link href="https://johnmathews.eu/credit-data.html" rel="alternate"/><published>2021-05-25T00:00:00+02:00</published><updated>2021-05-25T00:00:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-25:/credit-data.html</id><summary type="html">&lt;p&gt;This analysis was a technical exercise I completed as part of an application to join the &lt;a href="https://www.equalexperts.com/"&gt;Equal Experts&lt;/a&gt; network. &lt;p&gt;&lt;/p&gt; It&amp;rsquo;s a brief demonstration of some of my statistics and programming skills and was written in a Jupyter Notebook. This blog is generated using the &lt;a href="https://blog.getpelican.com/"&gt;Pelican&lt;/a&gt; blogging framework which makes it super easy to convert a notebook to a blog&amp;nbsp;post.&lt;/p&gt;</summary><content type="html">&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Data-Exploration-Exercise"&gt;Data Exploration Exercise&lt;a class="anchor-link" href="#Data-Exploration-Exercise"&gt;¶&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Using whichever methods and libraries you prefer, create a notebook with the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Data preparation and Data exploration&lt;/li&gt;
&lt;li&gt;Identify the three most significant data features which drive the credit risk&lt;/li&gt;
&lt;li&gt;Modeling the credit risk&lt;/li&gt;
&lt;li&gt;Model validation and evaluation using the methods that you find correct for the problem&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Your solution should have instructions and be self-contained. For instance, If your choice is a python notebook, your notebook should install all the required dependencies to run it.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Import-and-preparation--"&gt;Import and preparation  &lt;a class="anchor" id="import"&gt;&lt;/a&gt;&lt;a class="anchor-link" href="#Import-and-preparation--"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# display more than 1 output per cell&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;IPython.core.interactiveshell&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;InteractiveShell&lt;/span&gt;
&lt;span class="n"&gt;InteractiveShell&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ast_node_interactivity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"all"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%%capture&lt;/span&gt; 
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;executable&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;upgrade&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt;
&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;executable&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pandas&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt; &lt;span class="n"&gt;sklearn&lt;/span&gt; &lt;span class="n"&gt;matplotlib&lt;/span&gt; &lt;span class="n"&gt;seaborn&lt;/span&gt; &lt;span class="n"&gt;statsmodels&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max_columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt; &lt;span class="c1"&gt;# show all columns in a pandas dataframe&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'credit-g.csv'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;checking_status&lt;/th&gt;
&lt;th&gt;duration&lt;/th&gt;
&lt;th&gt;credit_history&lt;/th&gt;
&lt;th&gt;purpose&lt;/th&gt;
&lt;th&gt;credit_amount&lt;/th&gt;
&lt;th&gt;savings_status&lt;/th&gt;
&lt;th&gt;employment&lt;/th&gt;
&lt;th&gt;installment_commitment&lt;/th&gt;
&lt;th&gt;personal_status&lt;/th&gt;
&lt;th&gt;other_parties&lt;/th&gt;
&lt;th&gt;residence_since&lt;/th&gt;
&lt;th&gt;property_magnitude&lt;/th&gt;
&lt;th&gt;age&lt;/th&gt;
&lt;th&gt;other_payment_plans&lt;/th&gt;
&lt;th&gt;housing&lt;/th&gt;
&lt;th&gt;existing_credits&lt;/th&gt;
&lt;th&gt;job&lt;/th&gt;
&lt;th&gt;num_dependents&lt;/th&gt;
&lt;th&gt;own_telephone&lt;/th&gt;
&lt;th&gt;foreign_worker&lt;/th&gt;
&lt;th&gt;class&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;&amp;lt;0&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;critical/other existing credit&lt;/td&gt;
&lt;td&gt;radio/tv&lt;/td&gt;
&lt;td&gt;1169&lt;/td&gt;
&lt;td&gt;no known savings&lt;/td&gt;
&lt;td&gt;&amp;gt;=7&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;male single&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;real estate&lt;/td&gt;
&lt;td&gt;67&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;own&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;skilled&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;good&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;0&amp;lt;=X&amp;lt;200&lt;/td&gt;
&lt;td&gt;48&lt;/td&gt;
&lt;td&gt;existing paid&lt;/td&gt;
&lt;td&gt;radio/tv&lt;/td&gt;
&lt;td&gt;5951&lt;/td&gt;
&lt;td&gt;&amp;lt;100&lt;/td&gt;
&lt;td&gt;1&amp;lt;=X&amp;lt;4&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;female div/dep/mar&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;real estate&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;own&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;skilled&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;bad&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;no checking&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;critical/other existing credit&lt;/td&gt;
&lt;td&gt;education&lt;/td&gt;
&lt;td&gt;2096&lt;/td&gt;
&lt;td&gt;&amp;lt;100&lt;/td&gt;
&lt;td&gt;4&amp;lt;=X&amp;lt;7&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;male single&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;real estate&lt;/td&gt;
&lt;td&gt;49&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;own&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;unskilled resident&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;good&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;&amp;lt;0&lt;/td&gt;
&lt;td&gt;42&lt;/td&gt;
&lt;td&gt;existing paid&lt;/td&gt;
&lt;td&gt;furniture/equipment&lt;/td&gt;
&lt;td&gt;7882&lt;/td&gt;
&lt;td&gt;&amp;lt;100&lt;/td&gt;
&lt;td&gt;4&amp;lt;=X&amp;lt;7&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;male single&lt;/td&gt;
&lt;td&gt;guarantor&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;life insurance&lt;/td&gt;
&lt;td&gt;45&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;for free&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;skilled&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;good&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;&amp;lt;0&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;delayed previously&lt;/td&gt;
&lt;td&gt;new car&lt;/td&gt;
&lt;td&gt;4870&lt;/td&gt;
&lt;td&gt;&amp;lt;100&lt;/td&gt;
&lt;td&gt;1&amp;lt;=X&amp;lt;4&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;male single&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;no known property&lt;/td&gt;
&lt;td&gt;53&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;for free&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;skilled&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;none&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;bad&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;### overview of the dataset&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt; rows'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt; columns'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'class: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"class"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"good"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt; "good" rows'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'class: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"class"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"bad"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt; "bad" rows'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nunique&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# unique values per column&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1000 rows
21 columns
class: 700 "good" rows
class: 300 "bad" rows
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;checking_status             4
duration                   33
credit_history              5
purpose                    10
credit_amount             921
savings_status              5
employment                  5
installment_commitment      4
personal_status             4
other_parties               3
residence_since             4
property_magnitude          4
age                        53
 other_payment_plans        3
housing                     3
existing_credits            4
job                         4
num_dependents              2
own_telephone               2
 foreign_worker             2
class                       2
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Outcome-distribution"&gt;Outcome distribution&lt;a class="anchor-link" href="#Outcome-distribution"&gt;¶&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Ideally there would be an approximately equal number of outcome classes. In this dataset the split is 30% “bad” and 70% “good”. The low number of bad credit risk assessments may limit the models ability to accurately predict a bad credit assessment relative to good assessments because of the limited training examples. This could result in more False Positives than would typically be expected.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Data-formating"&gt;Data formating&lt;a class="anchor-link" href="#Data-formating"&gt;¶&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# remove whitespace around column names&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;col&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Categorical variables have a limited and usually fixed number of possible values.&lt;/span&gt;
&lt;span class="c1"&gt;# Categorical data might have an order (e.g. ‘strongly agree', ‘agree’, 'disagree', 'strongly disagree') &lt;/span&gt;

&lt;span class="n"&gt;unordered_category_cols&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="s1"&gt;'credit_history'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'purpose'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'personal_status'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'other_parties'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'property_magnitude'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'other_payment_plans'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'housing'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'job'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'own_telephone'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'foreign_worker'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'class'&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;col&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;unordered_category_cols&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'category'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;ordered_category_cols&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'checking_status'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"no checking"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"&amp;lt;0"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"0&amp;lt;=X&amp;lt;200"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"&amp;gt;=200"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'savings_status'&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="s1"&gt;'no known savings'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'&amp;lt;100'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'100&amp;lt;=X&amp;lt;500'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'500&amp;lt;=X&amp;lt;1000'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'&amp;gt;=1000'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'employment'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'unemployed'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'&amp;lt;1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'1&amp;lt;=X&amp;lt;4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'4&amp;lt;=X&amp;lt;7'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'&amp;gt;=7'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;col&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;ordered_category_cols&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Categorical&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ordered&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# convert categories to numnerical values, for SelectKBest&lt;/span&gt;
&lt;span class="n"&gt;cat_columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select_dtypes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'category'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cat_columns&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cat_columns&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;codes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# all columns are now either categorical and encoded as an int (ordered or unordered) or numerical.&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtypes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;checking_status            int8
duration                  int64
credit_history             int8
purpose                    int8
credit_amount             int64
savings_status             int8
employment                 int8
installment_commitment    int64
personal_status            int8
other_parties              int8
residence_since           int64
property_magnitude         int8
age                       int64
other_payment_plans        int8
housing                    int8
existing_credits          int64
job                        int8
num_dependents            int64
own_telephone              int8
foreign_worker             int8
class                      int8
dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# all columns except the "class" column&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# only the "class" columns&lt;/span&gt;

&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# as expected.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;checking_status&lt;/th&gt;
&lt;th&gt;duration&lt;/th&gt;
&lt;th&gt;credit_history&lt;/th&gt;
&lt;th&gt;purpose&lt;/th&gt;
&lt;th&gt;credit_amount&lt;/th&gt;
&lt;th&gt;savings_status&lt;/th&gt;
&lt;th&gt;employment&lt;/th&gt;
&lt;th&gt;installment_commitment&lt;/th&gt;
&lt;th&gt;personal_status&lt;/th&gt;
&lt;th&gt;other_parties&lt;/th&gt;
&lt;th&gt;residence_since&lt;/th&gt;
&lt;th&gt;property_magnitude&lt;/th&gt;
&lt;th&gt;age&lt;/th&gt;
&lt;th&gt;other_payment_plans&lt;/th&gt;
&lt;th&gt;housing&lt;/th&gt;
&lt;th&gt;existing_credits&lt;/th&gt;
&lt;th&gt;job&lt;/th&gt;
&lt;th&gt;num_dependents&lt;/th&gt;
&lt;th&gt;own_telephone&lt;/th&gt;
&lt;th&gt;foreign_worker&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;1169&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;67&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;48&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;5951&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2096&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;49&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;42&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;7882&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;45&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4870&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;53&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Check-for-multicoliniarity"&gt;Check for multicoliniarity&lt;a class="anchor-link" href="#Check-for-multicoliniarity"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Multicolinearity emerges when three or more model variables are highly correlated. Multicolinearity can emerge even when isolated pairs of variables are not colinear.&lt;/p&gt;
&lt;p&gt;The Variance Inflation Factor (&lt;span class="caps"&gt;VIF&lt;/span&gt;) is a measure of colinearity among predictor variables. It is calculated by dividing the variance of all model betas by the variane of a single beta.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;statsmodels.stats.outliers_influence&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;variance_inflation_factor&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;vif&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"VIF Factor"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;variance_inflation_factor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;
&lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"features"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;

&lt;span class="n"&gt;vif&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'VIF Factor'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[12]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;span class="caps"&gt;VIF&lt;/span&gt; Factor&lt;/th&gt;
&lt;th&gt;features&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;18&lt;/th&gt;
&lt;td&gt;2.11&lt;/td&gt;
&lt;td&gt;own_telephone&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;2.12&lt;/td&gt;
&lt;td&gt;checking_status&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;11&lt;/th&gt;
&lt;td&gt;2.50&lt;/td&gt;
&lt;td&gt;property_magnitude&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;td&gt;2.53&lt;/td&gt;
&lt;td&gt;savings_status&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;16&lt;/th&gt;
&lt;td&gt;3.56&lt;/td&gt;
&lt;td&gt;job&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;8&lt;/th&gt;
&lt;td&gt;3.59&lt;/td&gt;
&lt;td&gt;personal_status&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;4.41&lt;/td&gt;
&lt;td&gt;purpose&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;5.09&lt;/td&gt;
&lt;td&gt;credit_amount&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;14&lt;/th&gt;
&lt;td&gt;5.29&lt;/td&gt;
&lt;td&gt;housing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;13&lt;/th&gt;
&lt;td&gt;5.59&lt;/td&gt;
&lt;td&gt;other_payment_plans&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;5.85&lt;/td&gt;
&lt;td&gt;credit_history&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;6&lt;/th&gt;
&lt;td&gt;5.85&lt;/td&gt;
&lt;td&gt;employment&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;7.70&lt;/td&gt;
&lt;td&gt;duration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;15&lt;/th&gt;
&lt;td&gt;7.89&lt;/td&gt;
&lt;td&gt;existing_credits&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;10&lt;/th&gt;
&lt;td&gt;8.71&lt;/td&gt;
&lt;td&gt;residence_since&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;7&lt;/th&gt;
&lt;td&gt;9.77&lt;/td&gt;
&lt;td&gt;installment_commitment&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;17&lt;/th&gt;
&lt;td&gt;11.59&lt;/td&gt;
&lt;td&gt;num_dependents&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;12&lt;/th&gt;
&lt;td&gt;13.19&lt;/td&gt;
&lt;td&gt;age&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;9&lt;/th&gt;
&lt;td&gt;17.03&lt;/td&gt;
&lt;td&gt;other_parties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;19&lt;/th&gt;
&lt;td&gt;23.45&lt;/td&gt;
&lt;td&gt;foreign_worker&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The results show that there is a significant amount of multicoliniarity in the dataset.&lt;/p&gt;
&lt;p&gt;We are about to identify the factors that drive the credit risk decision the most, this will reduce colinearity, random noise and resource requirements.&lt;/p&gt;
&lt;p&gt;Once we know which subset of factors contribute most to the predictive value of the model we could check for colinearity within that subset.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Feature-Selection"&gt;Feature Selection&lt;a class="anchor-link" href="#Feature-Selection"&gt;¶&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Identify the three most significant features which drive credit risk&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# all columns except the "class" column&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# only the "class" columns&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.feature_selection&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SelectKBest&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;chi2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%%capture&lt;/span&gt;

&lt;span class="n"&gt;number_of_factors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;

&lt;span class="n"&gt;selector&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;SelectKBest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;score_func&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;chi2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;number_of_factors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;selector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;cols&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;selector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_support&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;indices&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;new_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;selector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scores_&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[16]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[('checking_status', 35.75895533038388),
 ('duration', 321.0307953062103),
 ('credit_history', 4.801154531213124),
 ('purpose', 24.92485450915428),
 ('credit_amount', 58262.49000691708),
 ('savings_status', 0.900360144057623),
 ('employment', 8.232742090124631),
 ('installment_commitment', 2.204619351945284),
 ('personal_status', 7.782240478726106),
 ('other_parties', 0.08584698616853026),
 ('residence_since', 0.0037660055234744255),
 ('property_magnitude', 3.2592592592592653),
 ('age', 30.200309190237782),
 ('other_payment_plans', 0.5672330606251323),
 ('housing', 0.09821706460361804),
 ('existing_credits', 0.49551561918299514),
 ('job', 0.7536816924572033),
 ('num_dependents', 0.0010307153164296021),
 ('own_telephone', 0.7925506836397938),
 ('foreign_worker', 0.24927063244820177)]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The three most significant features are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Credit Amount (58262)&lt;/li&gt;
&lt;li&gt;Duration (321)&lt;/li&gt;
&lt;li&gt;Checking Status (36)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The most significant feature (Credit amount) is ~180x more significant than the next most signifcant feature. This means that Credit Amount is a much better predictor of class than any other factor, and may even be the only factor required to create a data model.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;selected_features&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'credit_amount'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'duration'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'checking_status'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;selected_features&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;vif&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"VIF Factor"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;variance_inflation_factor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;
&lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"features"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;

&lt;span class="n"&gt;vif&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'VIF Factor'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;vif&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;span class="caps"&gt;VIF&lt;/span&gt; Factor&lt;/th&gt;
&lt;th&gt;features&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;1.69&lt;/td&gt;
&lt;td&gt;checking_status&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;3.84&lt;/td&gt;
&lt;td&gt;credit_amount&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;4.46&lt;/td&gt;
&lt;td&gt;duration&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Using an arbitrary but common &lt;span class="caps"&gt;VIF&lt;/span&gt; threshold value of 5, we see that none of the 3 most significant factors are colinear. Hoever &lt;code&gt;duration&lt;/code&gt; is close with a score of 4.46 and &lt;code&gt;credit_amount&lt;/code&gt; is second with 3.84. Intuitively, it seems reasonable that &lt;code&gt;credit_amount&lt;/code&gt; and &lt;code&gt;duration&lt;/code&gt; might have some colinearity, as they could be generally expected to be inversely correlated to each other. - You could borrow more for a short period of time than you could for a longer duration.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Optimize-the-number-of-features-to-use"&gt;Optimize the number of features to use&lt;a class="anchor-link" href="#Optimize-the-number-of-features-to-use"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;After an initial demonstration of the metrics used to assess model performance, the optimal number of features to use will be investigated.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# used later &lt;/span&gt;
&lt;span class="n"&gt;factors_scored&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;selector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scores_&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;factors_scored&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;reverse&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Modeling-Credit-Risk"&gt;Modeling Credit Risk&lt;a class="anchor-link" href="#Modeling-Credit-Risk"&gt;¶&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;We use logistic regression because this is a binary classification problem with multiple predictor variables that are mostly independent.&lt;/p&gt;
&lt;p&gt;Logistic Regression is a reasonable first choice of model type to use, but in a longer project we could use multiple model types and compare their performance against one another, then select the classifier which performs the best. Other types could include k-nearest neighbors, decision trees, or Support Vector Machines (SVMs).&lt;/p&gt;
&lt;p&gt;Logistic regression makes the following assumptions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;No multicollinearity among the independent variables. Multicollinearity can be tested using the Variance Inflation Factor (&lt;span class="caps"&gt;VIF&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;No influential outliers&lt;/li&gt;
&lt;li&gt;Independence of errors (residuals) or no significant autocorrelation. The residuals should not be correlated with each other. This can be tested using the Durbin-Watson test, but this is out of scope for this exercize.&lt;/li&gt;
&lt;li&gt;The sample size should be large (at least 50 observations per independent variables are recommended) -&amp;gt; 20 $\times$ 50 = 1000&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Splitting-the-data-into-training,-validation-and-testing-sets"&gt;Splitting the data into training, validation and testing sets&lt;a class="anchor-link" href="#Splitting-the-data-into-training,-validation-and-testing-sets"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A validation set is used in addition to training and testing. This is because I expect to optimize model parameters by comparing the performance of different models using a dataset they weren’t trained on. If this were the same dataset that the final performance metric was based on then the model would be implicitely overfitted.&lt;/p&gt;
&lt;p&gt;Instead, the performance of optimizations will be quantified using the validation set, and the optimal models performance will be quantified using the testing set.&lt;/p&gt;
&lt;p&gt;This gives better prediction of actual performance against new production data (outside the available dataset) than only using training and testing data sets.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.linear_model&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LogisticRegression&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 70% training, 15% validation, 15% testing is reasonable.&lt;/span&gt;

&lt;span class="c1"&gt;# use train_test_split twice, first to split out a testing set, then to split the remainder into validation and training&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_validation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.176&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_validation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'Training examples: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'Validation examples: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'Testing examples: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Training examples: 700
Validation examples: 150
Testing examples: 150
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;

&lt;span class="n"&gt;y_train_status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ratio&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y_train_status&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_train_status&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;y_train_status&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;"training set has &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;y_train_status&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; negative values and &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;y_train_status&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; positive values "&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;"result ratio is approximatley &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ratio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;:&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ratio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;training set has 222 negative values and 478 positive values 
result ratio is approximatley 32:68
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The training set has over twice as many positive values as negative values. This is similar to the complete data set which has 700 “good” credit class examples and 300 “bad” credit class examples.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Training-the-logistic-regression-model"&gt;Training the logistic regression model&lt;a class="anchor-link" href="#Training-the-logistic-regression-model"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The model is trained on the training dataset.&lt;/p&gt;
&lt;p&gt;In this simple first case, we evaluate performance (discussed below) using the test data set. After an initial discussion of the results, the performance of different models is evaluated using a validation data set.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [23]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;logreg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LogisticRegression&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;y_pred&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Model-evaluation"&gt;Model evaluation&lt;a class="anchor-link" href="#Model-evaluation"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A model could be evaluated in many different ways, each with different strengths and weaknesses depending on the characteristics of the data and the relevant domains.&lt;/p&gt;
&lt;p&gt;Where possible, its preferable to use only a single metric to quantify and compare model performance, because its simpler (and less error prone) than if there are multiple metrics to consider.&lt;/p&gt;
&lt;p&gt;There are 4 basic categories of results that the model could produce:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;True Positives (&lt;span class="caps"&gt;TP&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;False Positives (&lt;span class="caps"&gt;FP&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;True Negatives (&lt;span class="caps"&gt;TN&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;False Negatives (&lt;span class="caps"&gt;FN&lt;/span&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;These can be combined to calculate the model’s Precision and Recall:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Optimizing &lt;strong&gt;Precision&lt;/strong&gt; minimizes false positives but ignores false negatives. &lt;/li&gt;
&lt;li&gt;Optimizing &lt;strong&gt;Recall&lt;/strong&gt; minimizes false negatives but ignores false positives. &lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;P = True Positives / (True Positives + False Positives) -&amp;gt; if False Positives are 0, P=1
R = True Positives / (True Positives + False Negatives) -&amp;gt; if False Negatives are 0, R=1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Precision is a ratio of the number of true positives divided by the sum of the true positives and false positives. It describes how good a model is at predicting the positive class. It is the ability of the classifier not to label as positive a sample that is negative.&lt;/p&gt;
&lt;p&gt;High precision implies fewer false positives.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Precision = True Positives / (True Positives + False Positives)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Recall is calculated as the ratio of the number of true positives divided by the sum of the true positives and the false negatives. It quanitifies the ability of the model to find all the positive samples.&lt;/p&gt;
&lt;p&gt;High recall implies fewer false negatives.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Recall = True Positives / (True Positives + False Negatives)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;An ideal model will have good precision and recall. The F-Score provides a way to combine precision and recall into a single measure that captures both properties.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;F-Measure = (2 * Precision * Recall) / (Precision + Recall)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The influence of precision and recall relative to each other can be changed by adding a coefficient into the F-measure. Further discussion of this is outside the scope of this brief exercise except to say that F1 (above) has beta=1 and places equal weight on precision and recall. F2 (beta=2) places less weight on precision and more on recall, and F0.5 emphasizes precision over recall.&lt;/p&gt;
&lt;p&gt;Other metrics to consider include &lt;code&gt;Precision Recall curves&lt;/code&gt; and the &lt;code&gt;Receiver Operating Characteristic curve&lt;/code&gt; (&lt;span class="caps"&gt;ROC&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;ROC&lt;/span&gt; curves are more informative when evaluating datasets with equal proportion of positive and negative results. In a skewed dataset such as this, &lt;span class="caps"&gt;ROC&lt;/span&gt; can be overly optimistic and Precision-Recall curves are more reliable.&lt;/p&gt;
&lt;p&gt;Therefore after briefly demonstrating the confusion matrix we consider the average precision and recall instead of comparing the area under the &lt;span class="caps"&gt;ROC&lt;/span&gt; curve for different models.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Summary-of-results-with-the-3-most-significant-factors"&gt;Summary of results with the 3 most significant factors&lt;a class="anchor-link" href="#Summary-of-results-with-the-3-most-significant-factors"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;metrics&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;"Precision: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;precision_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;"Recall: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;recall_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;"F1: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;f1_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Precision: 0.789
Recall: 0.91
F1: 0.845
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Confusion-Matrix"&gt;Confusion Matrix&lt;a class="anchor-link" href="#Confusion-Matrix"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The confusion matrix simply shows the number of True Positives, True Negatives, False Positives and False Negatives that the model predicted.&lt;/p&gt;
&lt;p&gt;These results are based on the testing data set. This model was trained on the training dataset.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;matplotlib&lt;/span&gt; inline
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;class_names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# name  of classes&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;tick_marks&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;class_names&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tick_marks&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_names&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;yticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tick_marks&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_names&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cnf_matrix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;confusion_matrix&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;heatmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cnf_matrix&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;annot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"YlGnBu"&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'g'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_position&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Confusion matrix'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Actual label'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Predicted label'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea"&gt;
&lt;img src="data:image/png;base64,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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Precision-Recall-Curve"&gt;Precision-Recall Curve&lt;a class="anchor-link" href="#Precision-Recall-Curve"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Reviewing both precision and recall is useful in cases where there is an imbalance in the observations between the two classes. This is because the large number of class 1 (“good”) examples means we are less interested in the skill of the model at predicting this correctly, e.g. high true positives, and instead are more concerned with how the model can predict true negatives (where credit class is “bad”). The confusion matrix above shows that the largest error group is False Positives, which is expected because the model has relatively few examples of negative examples compared to positive. This is why the precision is lower than the recall.&lt;/p&gt;
&lt;p&gt;A no-skill classifier is one that cannot discriminate between the classes and would predict a random or constant class in all cases. This creates a minimum precision called the “no-skill” line. Its value is the ratio of positive cases in the dataset. For our training data set it is 0.687. (Note it is not 0.7, due to the random selection of the training set.)&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Precision Recall&lt;/code&gt; metric is a useful measure of success of prediction when the classes are very imbalanced, as they in this case. A precision-recall curve focuses on the performance of a classifier on the positive class.&lt;/p&gt;
&lt;p&gt;The precision-recall curve shows the tradeoff between precision and recall for different probability thresholds, which we refer to but do not investigate in detail in this limited exercise.&lt;/p&gt;
&lt;p&gt;The threshold is the probability at which a “good” or “bad” label is applied. The default threshold is 0.5, which means that if the model calculates the probability of an observation being “good” as more than 0.5 then it applies the label “good”, otherwise it applies the label “bad”. This threshold probability can be varied and the impact on model performance quantified.&lt;/p&gt;
&lt;p&gt;A high area under the curve represents both high recall and high precision. High scores for both show that the classifier is returning accurate results (high precision), as well as returning a majority of all positive results (high recall).&lt;/p&gt;
&lt;p&gt;A system with high recall but low precision returns many positive results, but most of its predicted labels are incorrect when compared to the training labels.&lt;/p&gt;
&lt;p&gt;A system with high precision but low recall is the opposite, returning very few positive results but most of them are correct. An ideal system with high precision and high recall will identify almost all positive cases, with all results labeled correctly.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;AP&lt;/span&gt; summarizes a precision-recall curve as the weighted mean of precisions achieved at each threshold, with the increase in recall from the previous threshold used as the weight.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.metrics&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;plot_precision_recall_curve&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;precision_recall_curve&lt;/span&gt;

&lt;span class="n"&gt;disp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot_precision_recall_curve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;no_skill&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# the proportion of results that are "good"&lt;/span&gt;
&lt;span class="n"&gt;disp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ax_&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;no_skill&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;no_skill&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'No Skill'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea"&gt;
&lt;img src="data:image/png;base64,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PJGJEyeyefNmAFasWMFnn33GypUradKkCRdeeCE33ngjb775Jps3b2bDhg2ccsop3HXXXbz99tuRflZRHXjggSxbtqxi+dFHH+WBBx5g2bJlLFu2jKVLlzJz5ky2bt0a6Xjf/OY3WbhwYcKv+OQAQd/CgAEDeOKJoElt8uTJDB48uMoxO3bsWHFH0pYtW3j99dc56KCDdor5/PPPr7LfRx99RM+ePSPFLblt3tK1zFu6liETXmPRqo30aNecx6/oWyeD9ylBpNnWrVvp0KFDxdfYsWOZPHkyN954I71792bhwoWMGDECgAcffJDLLruMPn36sGXLFlq0aFHleOPGjaNnz5707t2bhg0bcvLJJ9O7d28KCgo49NBDueuuu3ba/uabb2bdunX07NmTQw89lNmzZ1c5Zrt27Tj//PO59957ueeeeygpKaF379706NGD8ePHAzBy5EheeuklevbsyV//+lf2228/mjVrVuVYAwcOZOjQofTt25devXpx9tlns2nTJt59912OPPJI+vTpw6hRo7j55pvZtGkTgwYNonfv3hx99NGMHTu2yvGq+1lF0bRpU7p27crixYvZunUrL774IqeeeupO5UcffTTPPfdc5GPWxG9/+1vGjh1Lt27dWLNmDcOGDQNg2rRpFddx9dVXs3nzZg455BCOOOIILrnkEnr3Dpq8tmzZwsyZMyua0mK2b9/O4sWLKSoqSkvckr16tAtqDnXFfKfHD3JXUVGRl5SU7LTugw8+4OCDD85QRDW3efPmiucm7rjjDlatWsXdd9+d4agCX375JQUFBTRo0IDXXnuNq666qqJ2kc2efvppFixYsNOdTLnu6aef5s033+S2225LWJ5rf/eyaxc+ELQqpGsAPzNb4MGwRlWoDyKL/O1vf+P222+nrKyMTp06MWnSpEyHVGH58uWce+657Nixg0aNGqXkQbK6cMYZZ7BmzZpMh5FSZWVl/OxnP0u+oeSFTI7sqhqESJ7R373UxK5qEHnfB5EvCVAkCv29SyrldYIoLCxkzZo1+qeResHD+SCq3KIsspvyug+iQ4cOlJaWkmiuCJF8FJtRTiQV8jpBNGzYUDNriYjsprxuYhIRkd2nBCEiIgkpQYiISEJ58xyEma0GajMtWhvg8xSFkyvq2zXXt+sFXXN9UZtr7uTubRMV5E2CqC0zK6nuYZF8Vd+u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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Summary"&gt;Summary&lt;a class="anchor-link" href="#Summary"&gt;¶&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Using the 3 most signficant factors we have the following results:&lt;/p&gt;
&lt;p&gt;F1: 0.845
Precision-Recall &lt;span class="caps"&gt;AUC&lt;/span&gt;: 0.87&lt;/p&gt;
&lt;p&gt;The model could be improved by finding the optimal number of factors to consider.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Improving-the-model-by-optimizing-the-number-of-factors"&gt;Improving the model by optimizing the number of factors&lt;a class="anchor-link" href="#Improving-the-model-by-optimizing-the-number-of-factors"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The code below iterates through the available factors from most significant to least, adding an additional factor in each loop.&lt;/p&gt;
&lt;p&gt;Each loop generates a new logistic regression model and trains it on the same training data set. Its performance is evalulated using the same validation data set. The results are summarized in the “results” dataframe and discussed below.&lt;/p&gt;
&lt;p&gt;Due to the very small amount of data, changing the random_state value can produce results with different trends. Therefore the first recommendation to improve the model is to get more data. This is also discussed below.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%%capture&lt;/span&gt;

&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# start with all the factors&lt;/span&gt;

&lt;span class="n"&gt;max_factors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt; 

&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;max_factors&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# all columns except the "class" column&lt;/span&gt;
    
    &lt;span class="c1"&gt;# select the factors we want to use in the model&lt;/span&gt;
    &lt;span class="n"&gt;cols&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;factors_scored&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt; &lt;span class="c1"&gt;# factors_scored is sorted descending&lt;/span&gt;
    
    &lt;span class="c1"&gt;# remake the training sets with the correct factors&lt;/span&gt;
    &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# random state is specified, ensuring same groups for each test&lt;/span&gt;
    &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_validation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.176&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;logreg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LogisticRegression&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;y_pred&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;# use validation this time (not test) because we will compare different models&lt;/span&gt;
    
    &lt;span class="n"&gt;disp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot_precision_recall_curve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_validation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;fscore&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;disp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;precision&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;disp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;recall&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;disp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;precision&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;disp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;recall&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="n"&gt;lr_f1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;f1_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_validation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;'i'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'f1'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;lr_f1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'AUC'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;disp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;average_precision&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    
&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"i"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[29]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;f1&lt;/th&gt;
&lt;th&gt;&lt;span class="caps"&gt;AUC&lt;/span&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;i&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;0.852590&lt;/td&gt;
&lt;td&gt;0.740326&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0.850202&lt;/td&gt;
&lt;td&gt;0.810601&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;0.859438&lt;/td&gt;
&lt;td&gt;0.855195&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;0.832653&lt;/td&gt;
&lt;td&gt;0.826140&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;td&gt;0.825911&lt;/td&gt;
&lt;td&gt;0.873120&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;6&lt;/th&gt;
&lt;td&gt;0.825911&lt;/td&gt;
&lt;td&gt;0.874651&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;7&lt;/th&gt;
&lt;td&gt;0.811475&lt;/td&gt;
&lt;td&gt;0.876348&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;8&lt;/th&gt;
&lt;td&gt;0.832653&lt;/td&gt;
&lt;td&gt;0.878845&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;9&lt;/th&gt;
&lt;td&gt;0.826446&lt;/td&gt;
&lt;td&gt;0.889659&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;10&lt;/th&gt;
&lt;td&gt;0.825000&lt;/td&gt;
&lt;td&gt;0.881342&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Optimization-Results"&gt;Optimization Results&lt;a class="anchor-link" href="#Optimization-Results"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The results show that the highest F1 score (which places equal emphasis on Precision and Recall) of 0.859 is obtained using a logistic regression model that uses the three most significant factors (Credit Amount, Checking Status and Duration).&lt;/p&gt;
&lt;p&gt;Due to the small data sets (700 examples in the training set, 150 in each of the validation and testing sets) the results can vary significantly when a different random number seed is used to generate the 3 datasets.&lt;/p&gt;
&lt;p&gt;Whilst the table above shows that &lt;span class="caps"&gt;AUC&lt;/span&gt; increases with number of factors, the increase is small (0.9% from 5 to 10 factors) and sensitive to the random number seeds - if a different seed is used, the same trend is not observed. Therefore, whilst Recall-Precision curves are a useful tool in imbalanced datasets, the small size of the dataset being used in this analysis creates variation that wouldnt be observed in larger datasets.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Model-performance-using-Test-Data-Set"&gt;Model performance using Test Data Set&lt;a class="anchor-link" href="#Model-performance-using-Test-Data-Set"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We test the performance of the model chosen in the optimization stage. In this stage we use the testing dataset, because this provides a more reliable indication of how the model might perform with (new) production data compared to using the results from the validation dataset.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class="highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;cols&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'duration'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'checking_status'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'credit_amount'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cols&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# random state is specified, ensuring same groups for each test&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_validation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_validation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.176&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;logreg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LogisticRegression&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y_pred&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# use validation this time (not test) because we will compare different models&lt;/span&gt;
    
&lt;span class="n"&gt;disp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot_precision_recall_curve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logreg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#fscore = (2 * disp.precision * disp.recall) / (disp.precision + disp.recall)&lt;/span&gt;
&lt;span class="c1"&gt;#fscore&lt;/span&gt;

&lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;f1_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[30]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;LogisticRegression()&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[30]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0.8451882845188285&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea"&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYgAAAEGCAYAAAB/+QKOAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjQuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8rg+JYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAr20lEQVR4nO3deZhU1bX38e+yQUFkUtAgyCBqFAFRUUKQqxhFoiSoUVvQRA2OMWpUvDH3EhBNXjUxiEZywYGAJqJEo6JBkQg4JDI0pkHBGBEQG8iVyzw40LDeP86ptuiupk7TdbqG/n2eh6frzOs0UOvsvc/e29wdERGRyvbJdgAiIpKblCBERCQlJQgREUlJCUJERFJSghARkZQaZDuATGnVqpV37Ngx22GIiOSVBQsW/J+7t061rWASRMeOHSkpKcl2GCIiecXMPq5um6qYREQkJSUIERFJSQlCRERSUoIQEZGUlCBERCSl2BKEmU0ws0/N7L1qtpuZPWhmS81skZmdkLTtMjP7MPxzWVwxiohI9eIsQUwEBuxh+7eBI8M/VwP/A2BmBwIjgV7AycBIM2sZY5wiIpJCbP0g3P0NM+u4h10GAY97MN74HDNrYWZtgNOAGe6+HsDMZhAkmslxxTrqxcUsWb05Y+cb1KMtQ3q1z9j5RESyIZttEG2BT5KWy8J11a2vwsyuNrMSMytZu3ZtbIHWxJI1m3mhdFW2wxARqbW87knt7g8DDwP07Nlzr2c+GvmdYzMWU/H4tzN2LhGRbMpmCWIVcFjScrtwXXXrRUSkDmUzQUwFfhC+zfQNYJO7rwGmA/3NrGXYON0/XCciInUotiomM5tM0ODcyszKCN5Magjg7uOAacDZwFJgO3BFuG29md0FzA9PdWeiwVpEROpOnG8xDU6z3YHrq9k2AZgQR1wiIhKNelKLiEhKShAiIpKSEoSIiKSkBCEiIikpQYiISEpKECIikpIShIiIpKQEISIiKSlBiIhISkoQIiKSkhKEiIikpAQhIiIpKUGIiEhKShAiIpKSEoSIiKSkBCEiIikpQYiISEpKECIikpIShIiIpKQEISIiKSlBiIhISkoQIiKSkhKEiIikpAQhIiIpKUGIiEhKShAiIpKSEoSIiKSkBCEiIik1iLKTmR0M9AEOBT4D3gNK3H1XmuMGAA8ARcCj7n5Ppe0dgAlAa2A9cKm7l4XbdgLvhruudPfvRr0pERGpvT0mCDPrB9wOHAj8A/gUaAScC3Q2s2eA37j75hTHFgFjgTOBMmC+mU119yVJu90HPO7uk8zsdOBu4Pvhts/cvUct7k1ERGohXQnibOAqd19ZeYOZNQAGEiSAZ1McezKw1N2Xhfs/BQwCkhNEF+CW8PMs4PmaBC8iIvHZYxuEu9+WKjmE28rd/Xl3T5UcANoCnyQtl4Xrki0Ezg8/nwc0NbODwuVGZlZiZnPM7NxUFzCzq8N9StauXbunWxERkRra60ZqM7siA9cfBpxqZv8ATgVWATvDbR3cvScwBBhjZp0rH+zuD7t7T3fv2bp16wyEIyIiCbV5i2lUmu2rgMOSltuF6yq4+2p3P9/djwf+O1y3Mfy5Kvy5DJgNHF+LWEVEpIbSNVIvqm4TcEiac88HjjSzTgSJ4WKC0kDy+VsB68O3oX5G8EYTZtYS2O7uX4T79AF+leZ6IiKSQekaqQ8BzgI2VFpvwN/3dKC7l5vZj4HpBK+5TnD3xWZ2J8ErslOB04C7zcyBN4Drw8OPAcab2S6CUs49ld5+qteenLuSF0qDwtigHm0Z0qt9liMSkUKULkG8BBzg7qWVN5jZ7HQnd/dpwLRK60YkfX4GeCbFcX8HuqU7f331Qukqlqz56s1iJQgRicMeE4S7D93DtiHVbZPMSy41LFmzmS5tmmU5IhEpdBpqI08klxq6tGnGoB6V3xgWEcmsSENtSG7o0qYZT1/Tu2I5UaIQEYmDEkQOU7WSiGSTqphymKqVRCSbIpcgzOxhd7+6umWJR+VqJRGRulKTKqbxaZYlA1StJCK5InIVk7sv2NOyZIaqlUQkV6QbauNFwKvbrkl84qFqJRHJBemqmO6rkyikompJ1UoikivS9aR+PfHZzBoD7d39g9ijqoeSk4OqlUQkF0Sdk/o7BKWJfYFOZtYDuFNVTJmlqiURySVRG6nvIJhCdCNAOHhfp1giEhGRnBA1Qexw902V1lXbeC0iIvkvaj+IxWY2BCgysyOBG0kzH4Skpz4PIpLLopYgbgCOBb4AJgObgZ/EFFO9oT4PIpLLIpUg3H078N9mdm+w6FviDav+UMO0iOSqqG8xnUQwX3TTcHkT8EP1phapXnIVImh6WMk/UdsgHgN+5O5vApjZKcDvge5xBVao1O5Q+BJ/x3OXrwegV6cDK6oSlSAkn0RNEDsTyQHA3d8ys/KYYipoyR3i1O5QOJITf3JiSJQaise/nc3wRPZKurGYTgg/vm5m4wkaqB0oBmbHG1rhUrtDYaguKSQnBpF8lq4E8ZtKyyOTPqsfRB5I/hLTl1ZmJZcG6yIp6O9S6lq6sZj61VUgEo/kV2lBdeCZUHlgxThLg6lKKU0bBf9t9XcpcavJjHLnEPSFaJRY5+53xhGUZJYawmtvT20MdXWtxPWS34wSiVPU11zHAfsD/YBHgQuAeTHGVVDq+s0lvSmVGXXZxlCTaylBSF2JWoL4prt3N7NF7j7KzH4DvBxnYIWkrt9cSnU9falEU9cNz6leiVUjt+SKqAnis/DndjM7FFgHtIknpMJU128uVb6eEkQ0ddHwnO6VWJFcETVBvGRmLYBfA+8QvMH0aFxBSc2pWql24m54TiSC4vFvq7QgeSPqWEx3hR+fNbOXgEYphv+WLFIHvJqry4bnZEoKki/SdZQ7fw/bcPc/pzl+APAAUAQ86u73VNregWCMp9bAeuBSdy8Lt10GDA93/YW7T0pzL/WeOuCll63Obacc0QqAP1zZK5bzi8QhXQniO3vY5kC1CcLMioCxwJlAGTDfzKa6+5Kk3e4DHnf3SWZ2OnA38H0zO5CgU17P8DoLwmM3pL0jkT2o685tCUoMko/SdZS7ohbnPhlY6u7LAMzsKWAQkJwgugC3hJ9nAc+Hn88CZrj7+vDYGcAAgqE+8kbleu1MS67XVrtD9VK1z6ikJZJe5I5ye6Et8EnSchlQ+TFqIXA+QTXUeUBTMzuommOrVAyb2dXA1QDt2+defW5ycoi7XlvtDlWleoVUvyeR6OJMEFEMAx4ys8uBN4BVwM6oB7v7w8DDAD179szJsaHq4mk10+cvlHkMEglajcIieyfOBLEKOCxpuV24roK7ryYoQWBmBwDfc/eNZrYKOK3SsbNjjFWSJJd88m0eA1UniWROpDmpzWx/M/u5mT0SLh9pZgPTHDYfONLMOpnZvsDFwNRK521lZokYfkbwRhPAdKC/mbU0s5ZA/3Cd1JHEF2u+tWtonm+RzIlagvg9sABIPIqtAv4EvFTdAe5ebmY/JvhiLwImuPtiM7sTKHH3qQSlhLvNzAmqmK4Pj11vZncRJBmAOxMN1vKVxKuTmZDPHe1UahCJR9QE0dndi81sMIC7bzczS3eQu08DplVaNyLp8zPAM9UcO4GvShSSQiZfncy3jnbV9WfIh9jjUihtR5I7oiaIL82sMeEkQWbWGfgitqgkK/LpyTtb/RlyTXWJMt/ajiQ3RU0QdwCvAIeZ2R+BPsDlMcWU1/Ktb0LcfTUyrS4n68lVUcZ10hzYkglRx2J61cwWAN8ADLjJ3f8v1sgKQD5Ud9RlX41MyLd445aJ0pOmMpXqRJ0w6EXgSWCqu2+LN6TCkE9Ptrn+JK5G6N1lYlwnTWUqUUStYroPKAbuMbP5wFPAS+7+eWyRSWzy7Y2lfGtAj9veJgZNZSo1FbWK6XXg9XAAvtOBqwjeMMrtbxZJKR++cFVqyAxNZSq1EbkndfgW03cIShInABp+O4/l+hduPiSxXJZIBpqcSGojahvEFILRWV8BHgJed/ddcQYm9Y9KDZmnpCC1EbUE8Rgw2N0jD6QnuSUfXr9VqSHzlGClNtLNKHe6u88EmgCDKneeTjejnOSmXPvyVd+GzMvkMCxSf6UrQZwKzCT1zHJ7nFFOclMufvmqb0PmaQY7yYR0M8qNDD/e6e7Lk7eZWafYopKCp/YGkdwXtQ3iWYI3l5I9A5yY2XDyX64W7XMtLrU3iOS+dG0QRwPHAs3N7PykTc2ARnEGlq9ytWifi3Gp1CCS29KVIL4ODARasHs7xBaCznIikeVbD26R+i5dG8QLwAtm1tvdNTyk1IqqlfKT5pmov9JVMf2nu/8KGJKYLCiZu98YW2RSENQYnZ80z4RA+iqm98OfJXEHIoVJpYb8oXkmpLJ0VUwvhj8rxl0ys32AA9x9c8yxSYFQqSH/aIgOgehjMT0JXAvsBOYDzczsAXf/dZzBSf7Kt5nqJDPzTEhhidoPoou7bzazS4CXgduBBYAShKSk3tH5R4lBKouaIBqaWUPgXOAhd99hZh5fWFIIVLUkkt+iJojxwApgIfCGmXUA1AYhu1E/B5HCsk+Undz9QXdv6+5ne+BjoF/MsUmeSVQrQe6NGCsiNRe1kbo5MBL4j3DV68CdwKaY4pI8pWolkcIRtYppAvAecFG4/H3g98D51R4h9YKqlUQKV9QE0dndv5e0PMrMSmOIR/KMOsKJFK6oCeIzMzvF3d8CMLM+wGfxhSX5RNVKIoUpaoK4Fng8bIsA2ABclu4gMxsAPAAUAY+6+z2VtrcHJhGMFlsE3O7u08ysI8EwHx+Eu85x92sjxioxU7VS/ZU8HId6Whe+tAnCzHoARwAXA6sAogyzYWZFwFjgTKAMmG9mU919SdJuw4Ep7v4/ZtYFmAZ0DLd95O49It+J1BlVK4kG7asf0o3mOgK4lKDX9K+Au939kYjnPhlY6u7LwnM9BQwCkhOEE0w+BNAcWB09dMkmVSvVbyo11g/pShDFQA93325mBwGvAFETRFvgk6TlMqByX/47gFfN7AagCXBG0rZOZvYPgg55w939zcoXMLOrgasB2rfXk0zcNL6SJMZr2rFzV5YjkbqQrqPcF+6+HcDd10XYv6YGAxPdvR1wNvBEOFrsGqC9ux8P3AI8aWZVvpHc/WF37+nuPVu3bp3h0KQyja8kf7iyl8ZsqkfSlSAON7Op4WcDOict4+7f3cOxq4DDkpbbheuSDQUGhOd628waAa3c/VPgi3D9AjP7CDgKzUuRdapaEqk/0iWIQZWW76vBuecDR5pZJ4LEcDEwpNI+K4FvARPN7BigEbDWzFoD6919p5kdDhwJLKvBtUUkRslvM4GmIS1U6SYMen1vT+zu5Wb2Y2A6wSusE9x9sZndCZS4+1TgVuARM7uZoMH6cnd3M/sP4E4z2wHsAq519/V7G4vsveQvArU9SCp6o6lwpXuL6UXgYeAVd99RadvhwOXACnefkOp4d59G8Opq8roRSZ+XAH1SHPcs8Gy0W5C6orYHSUieXEjTkBaudFVMVxE0Eo8xs/XAWoJqoI7ARwRzQ7wQa4SSE9TuIMnUUF0/pKti+jfwn8B/hr2b2xAMsfGvxNtNIiJSmKIOtYG7ryCYNEjqkURVgojUP5EThNRPqkoQqb8y3fFNREQKhBKEiIikFHXK0T4E4yZ1CI8xwN398PhCExGRbIraBvEYcDPBqK474wtHRApF8rwh6mmdn6ImiE3u/nKskYhI3ktOCole+E0bBV8zShD5J2qCmGVmvwb+TDiIHoC7vxNLVCKSN5KHY0l87tXpQHp1OpBBPdpWJAzJP1ETROJdx55J6xw4PbPhiEg+SySF5NKCEkT+ipQg3L1f3IGISH7TcCyFJ+pbTM2BkcB/hKteB+50901xBSYi+UG97QtX1CqmCcB7wEXh8veB3wPnxxGUiOQP9bYvXFETRGd3/17S8igzK40hHhERyRFRe1J/ZmanJBbCjnOfxROSiIjkgqgliOuASWFbhAHrCSYLEhGRAhX1LaZS4DgzaxYub44zKBERyb50U45e6u5/MLNbKq0HwN1HxxibiIhkUboSRJPwZ9O4AxERkdySbsrR8eHPUXUTjoiI5IpIbzGZ2a/MrJmZNTSz18xsrZldGndwIiKSPVFfc+0fNkwPJJiX+gjgtriCEhGR7IuaIBJVUecAf9IQGyIihS9qP4iXzOyfBJ3jrjOz1sDn8YUlIiLZFqkE4e63A98Eerr7DmAbMCjOwEREJLvS9YM43d1nmtn5SeuSd/lzXIGJiEh2patiOhWYCXwnxTZHCUJEpGCl6wcxMvx5xd6c3MwGAA8ARcCj7n5Ppe3tgUlAi3Cf2919WrjtZ8BQYCdwo7tP35sYRERk70TtB/H/zKxF0nJLM/tFmmOKgLHAt4EuwGAz61Jpt+HAFHc/HrgY+F14bJdw+VhgAPC78HwiIlJHor7F9G13/6/EgrtvMLOzCb7gq3MysNTdlwGY2VMEDdtLkvZxoFn4uTmwOvw8CHjK3b8AlpvZ0vB8b0eMV0Ty0JNzV+42h3Xl+a2lbkVNEEVmtl/4hY2ZNQb2S3NMW+CTpOUyoPLUU3cAr5rZDQTjPp2RdOycSse2rXwBM7sauBqgfXv9IxLJdy+UrmLJms10adOMJWuCQaNzLUHUpyQWtaPcH4HXzGyomQ0FZhC0HdTWYGCiu7cDzgaeMLOoMeHuD7t7T3fv2bp16wyEIyLZ8OTclRSPf7siOTx9TW+6tGmW/sAsSCQxgCVrNu+WLApN1Pkg7jWzhXz1hH9XhEbjVcBhScvtwnXJhhK0MeDub5tZI6BVxGNFJI8lP4nPXb4egF6dDmRQjyqVBTkhEW9yEiseX9i13lGrmADeB8rd/a9mtr+ZNXX3LXvYfz5wpJl1IvhyvxgYUmmflcC3gIlmdgzQCFgLTAWeNLPRwKHAkcC8GsQqIjku+cs2kRj2tqomrmqffEtimRYpQZjZVQR1/QcCnQnaA8YRfLmn5O7lZvZjYDrBK6wT3H2xmd0JlLj7VOBW4BEzu5mgwfpyd3dgsZlNIWjQLgeud/ede3uTIpIbkr9wk5/EayuTbRfVJYVUSSyxPVGSKLT2iKgliOsJ3iKaC+DuH5rZwekOCvs0TKu0bkTS5yVAn2qO/SXwy4jxiUiOSv4STf7C7dKmWa2exKtLNntT7VOTpFCdXG1Ur42oCeILd/8yMcyGmTUgeOIXEYksk1VJ6ZJNTaqd9ra665QjWgHwhyt7FWR7RNQE8bqZ/RfQ2MzOBH4EvBhfWCJSaGpTlZT4so/ydJ/YJ3nf6p7uUzU818Qfrvzqzf1CrG6KmiB+ClwJvAtcQ1Bt9GhcQYlI4Ug8ZddG4ku8Jk/3yfsmP93XRcNzoVQ3pU0Q4RAXi939aOCR+EMSkUKS/JRdE8lP5DV5wk+u9kl1rr1tY4iqkF5/TZsg3H2nmX1gZu3dfWVdBCUikqwmDdrpElIcSQEyU1LKNVGrmFoSvHo6j2CyIADc/buxRCUi9V6qkkBtZeKV2upUV2LJ57aIqAni57FGISJSSSYTQ7ae7vO9LSLdjHKNgGuBIwgaqB9z9/K6CExEJFMymWyiSCSkHTt31el1My3dwHiTgJ4EyeHbwG9ij0hEJM/94cpedZ6U4pCuiqmLu3cDMLPH0HhIIiL1RroSxI7EB1UtiYjUL+lKEMeZ2ebwsxH0pN4cfnZ3z80B20VEpNb2mCDcXfNAi4jUU5FnbxMRkfpFCUJERFKqyYxyIiKyl+Ka9S5OKkGIiNSBxIi0EPSwTk4WuUoJQkQkJnOXr2fu8vVVRqTt0iY/XgBVghARqQO1nWI1G9QGISISkzhGpK1LShAiIjHJ18SQoComERFJSSUIEZE6ljyhEOTuK68qQYiIZFEuv/KqEoSISJY8fU3vilJELnakU4IQEaljyVOgJqqbEj97dTowZ6YqVYIQEaljqd5u6tXpwIpSQ6JUkW1KECIiWZSqr0SuNGLHmiDMbADwAFAEPOru91Tafj/QL1zcHzjY3VuE23YSzIUNsNLdvxtnrCIi2ZCur0Q2q5tiSxBmVgSMBc4EyoD5ZjbV3Zck9nH3m5P2vwE4PukUn7l7j7jiExHJVcmlimxWN8VZgjgZWOruywDM7ClgELCkmv0HAyMzGcCOHTsoKyvj888/z+RpRXJWo0aNaNeuHQ0bNsx2KFILudIDO84E0Rb4JGm5DEh512bWAegEzExa3cjMSoBy4B53f76mAZSVldG0aVM6duyImdX0cJG84u6sW7eOsrIyOnXqlO1wpADkSke5i4Fn3H1n0roO7t4TGAKMMbPOlQ8ys6vNrMTMStauXVvlpJ9//jkHHXSQkoPUC2bGQQcdpBKzZEycCWIVcFjScrtwXSoXA5OTV7j7qvDnMmA2u7dPJPZ52N17unvP1q1bpzyxkoPUJ/r3LpkUZ4KYDxxpZp3MbF+CJDC18k5mdjTQEng7aV1LM9sv/NwK6EP1bRciIhKD2BKEu5cDPwamA+8DU9x9sZndaWbJr6xeDDzl7p607higxMwWArMI2iDyMkEccMABtT5HSUkJN954Y7XbV6xYwZNPPhl5f4COHTvSrVs3unfvzqmnnsrHH39c6zgzZdy4cTz++OMZOdeaNWsYOHDgbut+8pOf0LZtW3bt2lWxbuLEibRu3ZoePXrQpUsXHnnkkVpfe/ny5fTq1YsjjjiC4uJivvzyyyr77Nixg8suu4xu3bpxzDHHcPfddwPwwQcf0KNHj4o/zZo1Y8yYMQAMGzaMmTNnVjmXSMa5e0H8OfHEE72yJUuWVFlX15o0aRL7NWbNmuXnnHNOjY7p0KGDr1271t3dR4wY4VdeeWWt49i1a5fv3Lmz1ufJpGHDhvnzzz9fsbxz505v37699+rVy2fOnFmx/ve//71ff/317u7+v//7v96qVSv/97//XatrX3jhhT558mR3d7/mmmv8d7/7XZV9/vjHP3pxcbG7u2/bts07dOjgy5cv322f8vJyP+SQQ3zFihXu7r5ixQo/88wzq71uLvy7l8y5aNzf/aJxf4/t/ECJV/O9Wm96Uo96cTFLVm/O6Dm7HNqMkd85tsbHlZaWcu2117J9+3Y6d+7MhAkTaNmyJfPnz2fo0KHss88+nHnmmbz88su89957zJ49m/vuu4+XXnqJ119/nZtuugkI6pvfeOMNbr/9dt5//3169OjBZZddxvHHH1+x/9atW7nhhhsoKSnBzBg5ciTf+973dound+/ePPjggwCsXbuWa6+9lpUrVwIwZswY+vTpw9q1axkyZAirV6+md+/ezJgxgwULFrB161bOOussevXqxYIFC5g2bRpTpkxhypQpfPHFF5x33nmMGjWKbdu2cdFFF1FWVsbOnTv5+c9/TnFxMbfffjtTp06lQYMG9O/fn/vuu4877riDAw44gGHDhlX7uzrttNPo1asXs2bNYuPGjTz22GP07du3yu/62Wef5Re/+EXF8uzZszn22GMpLi5m8uTJ9OvXr8oxBx98MJ07d+bjjz/mkEMOqfHfLwQPXjNnzqwo2V122WXccccdXHfddbvtZ2Zs27aN8vJyPvvsM/bdd1+aNdt9vuLXXnuNzp0706FDBwA6dOjAunXr+Pe//83Xvva1vYpPJIpceYupXvnBD37Avffey6JFi+jWrRujRo0C4IorrmD8+PGUlpZSVFSU8tj77ruPsWPHUlpayptvvknjxo2555576Nu3L6Wlpdx888277X/XXXfRvHlz3n33XRYtWsTpp59e5ZyvvPIK5557LgA33XQTN998M/Pnz+fZZ5/lyiuvBGDUqFGcfvrpLF68mAsuuKAigQB8+OGH/OhHP2Lx4sV88MEHfPjhh8ybN4/S0lIWLFjAG2+8wSuvvMKhhx7KwoULee+99xgwYADr1q3jueeeY/HixSxatIjhw4dH/l0BlJeXM2/ePMaMGbPb+oTly5fTsmVL9ttvv4p1kydPZvDgwZx33nn85S9/YceOHVWOW7ZsGcuWLeOII47YbX3lap/kPxs3btxt33Xr1tGiRQsaNAiewdq1a8eqVVXf0bjgggto0qQJbdq0oX379gwbNowDDzxwt32eeuopBg8evNu6E044gb/97W9Vzif1w5NzV1I8/u2KP6NeXBzLdepNCWJvnvTjsGnTJjZu3Mipp54KBE+WF154IRs3bmTLli307t0bgCFDhvDSSy9VOb5Pnz7ccsstXHLJJZx//vm0a9duj9f761//ylNPPVWx3LJly4rP/fr1Y/369RxwwAHcddddFfsvWfJVc8/mzZvZunUrb731Fs899xwAAwYM2O08HTp04Bvf+AYAr776Kq+++irHHx+8dLZ161Y+/PBD+vbty6233spPf/pTBg4cSN++fSkvL6dRo0YMHTqUgQMHVmkrqO53lXD++ecDcOKJJ7JixYoq975mzRqS32778ssvmTZtGqNHj6Zp06b06tWL6dOnV1z36aef5q233mK//fZj/PjxVb6ov/71r1NaWrqnX3eNzZs3j6KiIlavXs2GDRvo27cvZ5xxBocffnhFzFOnTq1om0g4+OCDWb16dUZjkdyXGBI8eeTXONWbBFEobr/9ds455xymTZtGnz59mD59+l6fa9asWbRo0YJLLrmEkSNHMnr0aHbt2sWcOXNo1KhR5PM0adKk4rO787Of/Yxrrrmmyn7vvPMO06ZNY/jw4XzrW99ixIgRzJs3j9dee41nnnmGhx56qEaNr4mSQVFREeXl5VW2N27ceLc+AdOnT2fjxo1069YNgO3bt9O4ceOKBFFcXMxD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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Recommendations"&gt;Recommendations&lt;a class="anchor-link" href="#Recommendations"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Obtain more training data, particularly examples with bad credit risk class.&lt;/p&gt;
&lt;p&gt;This will make the distribution of good and bad data classes more even and reduce the influence of randomness on the model scores.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use a credit score instead of just a “good” or “bad” decision.&lt;/p&gt;
&lt;p&gt;The “good” or “bad” status is probably the result of a threshold being applied to a metric. Accessing the underlying metric would provide more detail and help train a more reliable model.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider additional factors&lt;/p&gt;
&lt;p&gt;This would require domain expertise and additional context.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="Technical/Data"/><category term="Finance"/></entry><entry><title>Grep inside particular files only</title><link href="https://johnmathews.eu/grep-particular-files-only.html" rel="alternate"/><published>2021-05-18T13:11:15+02:00</published><updated>2021-05-18T13:11:15+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-18:/grep-particular-files-only.html</id><summary type="html"/><content type="html">&lt;h2 id="grep-a-subset-of-files-only"&gt;Grep a subset of files only&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grep -inr --include package.json &lt;span class="s1"&gt;'shortcut": {'&lt;/span&gt; . -A &lt;span class="m"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Its the &lt;code&gt;--include&lt;/code&gt; flag that does the important part.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-i&lt;/code&gt; → case insensitive&lt;br/&gt;
&lt;code&gt;-n&lt;/code&gt; → print line number&lt;br/&gt;
&lt;code&gt;-r&lt;/code&gt; → recursive from starting page&lt;br/&gt;
&lt;code&gt;.&lt;/code&gt; → start in current directory&lt;br/&gt;
&lt;code&gt;-A 3&lt;/code&gt; → print the 3 lines below the found line&lt;/p&gt;</content><category term="snippet"/><category term="grep"/><category term="linux"/></entry><entry><title>debug mappings in vim</title><link href="https://johnmathews.eu/vim-debug-mapping.html" rel="alternate"/><published>2021-05-18T10:37:17+02:00</published><updated>2021-05-18T10:37:17+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-18:/vim-debug-mapping.html</id><summary type="html"/><content type="html">&lt;h2 id="view-a-list-of-keyboard-mappings-in-vim"&gt;View a list of keyboard mappings in Vim&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;:map&lt;/code&gt; → show a list of the current keyboard mappings for &lt;em&gt;normal&lt;/em&gt;, &lt;em&gt;visual&lt;/em&gt;, &lt;em&gt;select&lt;/em&gt; and &lt;em&gt;operator pending&lt;/em&gt; modes.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;:map!&lt;/code&gt; → show a list of the current keyboard mappings for &lt;em&gt;insert&lt;/em&gt; and &lt;em&gt;command-line&lt;/em&gt; mode&lt;/p&gt;
&lt;p&gt;Top put all the mappings into a convenient text file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;redir&lt;/span&gt;&lt;span class="p"&gt;!&lt;/span&gt; &lt;span class="p"&gt;&amp;gt;&lt;/span&gt; vim_maps.txt
&lt;span class="p"&gt;:&lt;/span&gt;map
&lt;span class="p"&gt;:&lt;/span&gt;map&lt;span class="p"&gt;!&lt;/span&gt;
&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;redir&lt;/span&gt; END
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/2483849/detect-if-a-key-is-bound-to-something-in-vim"&gt;source&lt;/a&gt;
&lt;a href="https://vi.stackexchange.com/questions/7722/how-to-debug-a-mapping"&gt;another source&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>Note taking and knowledge systems</title><link href="https://johnmathews.eu/note-taking-and-knowledge-systems.html" rel="alternate"/><published>2021-05-18T10:25:52+02:00</published><updated>2021-05-18T10:25:52+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-18:/note-taking-and-knowledge-systems.html</id><summary type="html"/><content type="html">&lt;h2 id="note-taking"&gt;Note taking&lt;/h2&gt;
&lt;p&gt;This &lt;a href="https://macwright.com/2019/01/02/paper-notes.html"&gt;blog post&lt;/a&gt; arrives at
the conclusion that the only way to take good paper notes is to organise them
chronologically, and only summarise the content once the notebook is full.&lt;/p&gt;
&lt;p&gt;Keep it simple, trust your intuitions.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;simple&lt;/code&gt; → &lt;code&gt;robust&lt;/code&gt; → &lt;code&gt;reliable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Also, it links to &lt;a href="https://zettelkasten.de/the-archive/"&gt;zettelkasten.de/the-archive&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="zettelkasten"/><category term="notes"/><category term="knowledge-system"/></entry><entry><title>Building A Story Brand</title><link href="https://johnmathews.eu/building-a-story-brand.html" rel="alternate"/><published>2021-05-17T13:15:07+02:00</published><updated>2021-05-17T13:15:07+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-17:/building-a-story-brand.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;span class="caps"&gt;WIP&lt;/span&gt; - I’m still reading this book and editing these notes.&lt;/p&gt;
&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#premise"&gt;Premise&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#stories"&gt;Stories&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#hero"&gt;Hero&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#problem"&gt;Problem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#guide"&gt;Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#plan"&gt;Plan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#a-call-to-action"&gt;A Call To Action&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#what-is-at-stake"&gt;What is at stake?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#avoid-failure"&gt;Avoid Failure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#end-with-success"&gt;End with Success&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#people-want-your-brand-to-participate-in-their-transformation"&gt;People want your brand to participate in their transformation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="premise"&gt;Premise&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;People want to &lt;strong&gt;survive and thrive&lt;/strong&gt;. They are their own protagonist and they
   have problems. They don’t want to waste energy figuring out if you can help them.&lt;/li&gt;
&lt;li&gt;Good marketing makes the &lt;strong&gt;benefit obvious&lt;/strong&gt;. How does your product improve
   someones ability to “survive and thrive”?&lt;/li&gt;
&lt;li&gt;Cut through noisy and challenging world by having a super &lt;strong&gt;quick and easy to
   understand message&lt;/strong&gt;. Don’t be clever, be clear. Don’t make the customer spend
   calories trying to figure out how they will benefit from your product.&lt;/li&gt;
&lt;li&gt;Stories are a great way to combat noise and get the attention because they
   organise information in an intuitive way. People are compelled to &lt;strong&gt;pay
   attention until all the “story gaps” have been closed&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Could a caveman look at your website and answer these questions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;What do you &lt;strong&gt;offer&lt;/strong&gt;?&lt;/li&gt;
&lt;li&gt;How will it &lt;strong&gt;improve&lt;/strong&gt; my life?&lt;/li&gt;
&lt;li&gt;What are the &lt;strong&gt;next steps&lt;/strong&gt;?&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Story Gaps&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A gap between a character and what they want. Will they find their way to success, overcome their challenges, etc.&lt;/li&gt;
&lt;li&gt;Cadence and momentum are defined by the creation and fulfillment of story gaps.&lt;/li&gt;
&lt;li&gt;If you fail to define something that the customer wants, you fail to open a story gap.&lt;/li&gt;
&lt;li&gt;This makes the story uninteresting because there isn’t a question that requires an answer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Story gaps work because we want things to resolve. It’s like singing twinkle
twinkle little star but stopping before the “are” on the last line. You need to
hear the last note of the melody for the tune to feel complete.&lt;/p&gt;
&lt;p&gt;Pare down the customers desire to a single focus. Make your brand known for
single specific desire and helping people get it.&lt;/p&gt;
&lt;p&gt;Don’t clutter the story by diluting the hero’s desire with other desires. You
can eventually develop subplots.&lt;/p&gt;
&lt;h3&gt;Apple&lt;/h3&gt;
&lt;p&gt;When Apple released the Lisa computer in 1983, Jobs bought a 9 page ad in the
New York times listing the computers features. When jobs returned to Apple
after being fired, (and after partly founding Pixar, which tells stories) apple
became a customer centric company, and their marketing was about the customers.
9 pages became 2 words - “think different”. A message about their customers, and
their customers need to survive and thrive.&lt;/p&gt;
&lt;p&gt;Apple isn’t the hero in the “think different” brand. The customer is. It’s the
same with Nike. Apple plays a role more like Q in James Bond, giving the hero
what they need to win.&lt;/p&gt;
&lt;h1 id="stories"&gt;Stories&lt;/h1&gt;
&lt;p&gt;a &lt;strong&gt;Hero&lt;/strong&gt; → has a &lt;strong&gt;Problem&lt;/strong&gt; → and meets a &lt;strong&gt;Guide&lt;/strong&gt; → who gives them a &lt;strong&gt;Plan&lt;/strong&gt; → and calls them to &lt;strong&gt;Action&lt;/strong&gt; → that ends in &lt;strong&gt;Success&lt;/strong&gt; → and helps them avoid &lt;strong&gt;Failure&lt;/strong&gt;.  &lt;/p&gt;
&lt;p&gt;&lt;img alt="story stages" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/building-a-story-brand/derivatives/article-inline-image/800w/7storystages.png" srcset="https://johnmathews.eu/images/building-a-story-brand/derivatives/article-inline-image/300w/7storystages.png 300w, https://johnmathews.eu/images/building-a-story-brand/derivatives/article-inline-image/600w/7storystages.png 600w, https://johnmathews.eu/images/building-a-story-brand/derivatives/article-inline-image/800w/7storystages.png 800w, https://johnmathews.eu/images/building-a-story-brand/derivatives/article-inline-image/1600w/7storystages.png 1600w" style="margin-left: 0;"/&gt;&lt;/p&gt;
&lt;h1 id="hero"&gt;Hero&lt;/h1&gt;
&lt;p&gt;The customer, not you. You are the guide. The customer is the main character in
their life and is battling internal and external adversity it order to survive
and thrive. Heroes have weaknesses, the guide is usually the strongest character.&lt;/p&gt;
&lt;p&gt;A story starts with a character who wants to  overcome external challenges that
pose internal and philosophical problems.&lt;/p&gt;
&lt;p&gt;Your first task is to create the story gap “Will they get what they want?” You
need to define the characters ambition in the opening section, so that the
reader knows what is at stake and what kind of a story it is.&lt;/p&gt;
&lt;h1 id="problem"&gt;Problem&lt;/h1&gt;
&lt;p&gt;If you identify a customers problem then you show that you understand them. This
is a hook into the story because they relate to your narrative.&lt;/p&gt;
&lt;p&gt;The more we talk about the problems our customers are experiencing, the more
interest they will have in our brand.&lt;/p&gt;
&lt;p&gt;Every story needs a villain, which is the personified problem. The germs are
personified, envy is personified, etc. The diminished social status is
personified by someone with more status being villainized.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;villain&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;should be &lt;strong&gt;relatable&lt;/strong&gt; - readers should recognize that the villain should be disdained.&lt;/li&gt;
&lt;li&gt;should be a &lt;strong&gt;root source&lt;/strong&gt; - frustration is what the villain makes us feel. High taxes are the cause, and are therefore the villain.&lt;/li&gt;
&lt;li&gt;should be &lt;strong&gt;singular&lt;/strong&gt; - just one villain, keep it simple to cut through the noise.&lt;/li&gt;
&lt;li&gt;should be &lt;strong&gt;real&lt;/strong&gt; - don’t be a fear monger. Fight a real problem on behalf of your customers.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are three types of &lt;strong&gt;problem&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;External&lt;/strong&gt; - A barrier to stability that must be removed - My business isn’t growing fast enough, profits are too small.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Internal&lt;/strong&gt; - I have self-doubt. Do I have what it takes to succeed?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Philosophical&lt;/strong&gt; - I deserve to be successful, my hard work should be rewarded. Failure would be unjust.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The &lt;strong&gt;villain&lt;/strong&gt; initiates an &lt;strong&gt;external&lt;/strong&gt; problem that causes the &lt;strong&gt;hero&lt;/strong&gt; to encounter an &lt;strong&gt;internal&lt;/strong&gt; problem that is &lt;strong&gt;philosophically wrong&lt;/strong&gt; or unjust.&lt;/p&gt;
&lt;p&gt;The purpose of the (story specific) external problem is to manifest the (relatable by the audience) internal problem.&lt;/p&gt;
&lt;p&gt;Customers are much more motivated to solve internal problems than they are external.&lt;/p&gt;
&lt;p&gt;Choose a &lt;strong&gt;desire relevant to their survival&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Conserving or accumulating resources (financial or time)&lt;/li&gt;
&lt;li&gt;Gaining status or building a social network&lt;/li&gt;
&lt;li&gt;Being generous - Most people are not as Darwinian as we’ve been led to believe they want to be empathetic and caring&lt;/li&gt;
&lt;li&gt;The desire for meaning - Give customers an opportunity to be generous and participate in something greater than themselves (“the chief desire of man is not pleasure, but meaning”).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Translate the &lt;strong&gt;external problem&lt;/strong&gt; into several survival categories - put your solution in
the context of a type of survival they they want. Otherwise there isn’t a story gap.&lt;/p&gt;
&lt;p&gt;The only reason that customers buy is because the external problem being solved
is causing an &lt;strong&gt;internal frustration&lt;/strong&gt;. If you identify that frustration, put it into
words and verbally offer to solve it along with the original problem then you
bond with your customer because you’ve positioned yourself more deeply into
their internal narrative.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Philosophical problems&lt;/strong&gt; are important because people want to be involved in
something larger than themselves. It adds depth and meaning. Representing (and
solving) a philosophical problem gives customers a way of expressing their
values that they wouldn’t otherwise have.&lt;/p&gt;
&lt;p&gt;If you can &lt;strong&gt;resolve all three problems in one shot&lt;/strong&gt;, then the audience experiences
a wave of relief and pleasure, and they will love the story. Like when Anakin
Skywalker blows up the Deathstar by aiming the perfect shot, he defeats the
external problem (the enemy army), his internal problem (no more self doubt) and
the philosophical problem (justice is served)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; Frame your &lt;span class="caps"&gt;CTA&lt;/span&gt; as the action that must be taken to close the final story gap&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Is there a &lt;strong&gt;single villain&lt;/strong&gt; that your brand stands against?&lt;/li&gt;
&lt;li&gt;What &lt;strong&gt;external problem&lt;/strong&gt; is that villain causing?&lt;/li&gt;
&lt;li&gt;How is the external problem making your customer feel?&lt;/li&gt;
&lt;li&gt;Why is it unjust for people to suffer because of that villain?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Our hero is being challenged - will they be able to solve their problem? The
only way to find out is to engage with the brand.&lt;/p&gt;
&lt;h1 id="guide"&gt;Guide&lt;/h1&gt;
&lt;p&gt;Customers aren’t looking for another hero, they’re looking for a guide who can
help them.&lt;/p&gt;
&lt;p&gt;A persons life is made up of many acts - doorways of no return. And whilst each
life is unique, we all have common chapters. We are all on transformational
journeys with common elements. In stories, events mark the beginning and end of
chapters. In stories, these events are instigated by external actors called guides.&lt;/p&gt;
&lt;p&gt;Heroes need a guide who is &lt;strong&gt;trustworthy&lt;/strong&gt; and earns &lt;strong&gt;respect&lt;/strong&gt;. If they didn’t
need a hero their wouldn’t be a story. Everyone is looking for a guide to help
them solve their problems.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Just like in stories, humans wake up each morning self-identifying as a hero.
They are troubled by internal, external and philosophical issues. And they know
they can’t solve their issues on their own.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This insight has consequences, it means the story isn’t about us but about
others. We can aspire to be guides for others, but not the hero to others. It
shows why the search for meaning is innate, but can only be resolved by
unbecoming a hero. Stop losing sleep over the success of your company and start
losing sleep over the success of your customers.&lt;/p&gt;
&lt;p&gt;In stories, heroes are not the strongest characters, they have self-doubt and are
often ill-equipped. They are often reluctant, and are thrown into the story by
outside events.&lt;/p&gt;
&lt;p&gt;The guide has already “been there and done that” and has conquered the hero’s
internal and philosophical challenges in their own backstory.&lt;/p&gt;
&lt;p&gt;The guide is the one with authority. Much more authority than the hero. But the
main character is the hero.&lt;/p&gt;
&lt;p&gt;Those who realize that the epic story of life is not about them end up winning
in the end. This is paradoxical. Those who think they are a hero and win usually
end up being remembered as a villain.&lt;/p&gt;
&lt;h3&gt;Characteristics of a guide&lt;/h3&gt;
&lt;p&gt;Empathy and Authority are a precise one-two punch.&lt;/p&gt;
&lt;h4&gt;1. Empathy&lt;/h4&gt;
&lt;p&gt;When we empathise with customers we show that we understand them, and
understanding produces trust.&lt;/p&gt;
&lt;p&gt;People want to be &lt;em&gt;seen, heard and understood&lt;/em&gt;. This is the essence of empathy.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;we understand how it feels to …&lt;/em&gt;&lt;br/&gt;
&lt;em&gt;no-one should have to experience …&lt;/em&gt;&lt;br/&gt;
&lt;em&gt;like you, we are frustrated by …&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Expressing empathy isn’t difficult. Once you’ve identified your customers
internal problem, let them know that you understand and would like to help them
find a resolution.&lt;/p&gt;
&lt;p&gt;Brains like to conserve calories, energy, effort, time, so when a customer
realises they have a lot in common with a brand, they fill in any gaps with
trust. A customer will “batch” their thoughts, which means they are thinking in
chunks rather than in details. Commonality, whether in music taste or values, is
a powerful marketing tool.&lt;/p&gt;
&lt;h4&gt;2. Authority&lt;/h4&gt;
&lt;p&gt;No one likes a know-it-all and no one wants to be preached at… But people &lt;em&gt;do&lt;/em&gt;
want you to establish &lt;strong&gt;competence&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;When looking for a guide, a hero trusts someone who has &lt;em&gt;demonstrable competence&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The guide should have some serious experience helping other heroes win their day.&lt;/p&gt;
&lt;p&gt;The guide doesn’t need to be perfect.&lt;/p&gt;
&lt;p&gt;There are four ways to add authority (competence) to your marketing without
being arrogant:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Testimonials&lt;/li&gt;
&lt;li&gt;Logos&lt;/li&gt;
&lt;li&gt;Statistics&lt;/li&gt;
&lt;li&gt;Awards&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;A good first impression&lt;/h4&gt;
&lt;p&gt;Meeting a brand is like meeting a person,&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Can you help them live a &lt;strong&gt;better life&lt;/strong&gt;?&lt;/li&gt;
&lt;li&gt;Can they &lt;strong&gt;associate their identity&lt;/strong&gt; with your brand?&lt;/li&gt;
&lt;li&gt;Can I &lt;strong&gt;respect&lt;/strong&gt; this brand?&lt;/li&gt;
&lt;li&gt;Can I &lt;strong&gt;trust&lt;/strong&gt; this brand?&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="plan"&gt;Plan&lt;/h1&gt;
&lt;p&gt;The story was started be identifying something that the hero wants.&lt;br/&gt;
Then intrigue was created by defining their problem. The audience want to know
if we can help them overcome their problem.
Then we introduced ourself as the guide, and established authority and empathy
and trust.&lt;/p&gt;
&lt;p&gt;Making a purchase is a characteristic of a committed relationship. The
commitment means there is a potential downside, they could waste their time and
money and feel foolish.&lt;/p&gt;
&lt;p&gt;Imagine a customer trying to cross a river to get to their purchase. They can
hear the sound of a waterfall downstream. If they try to cross, by making a
purchase, there is a chance that something bad could happen. Put stones in the
river so they know how to cross, step by step.&lt;/p&gt;
&lt;p&gt;The stones are the plan.&lt;/p&gt;
&lt;p&gt;In a movie, the guide gives the hero a plan. The plan tightens the focus of
the movie and creates a “path of hope” for the hero that might, possibly, lead
to the resolution of the hero’s problems. It creates a story gap.&lt;/p&gt;
&lt;p&gt;All effective plans do one of two things:  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;remove a sense of risk&lt;/li&gt;
&lt;li&gt;clarify how to do business&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If we don’t guide customers, they experience a little bit of confusion and use
that confusion as an excuse to not purchase.&lt;/p&gt;
&lt;p&gt;Even though the setup or purchase or after-purchase steps are obvious to us,
they are not obvious to customers. Give them a plan and they will feel more
confident about purchasing.&lt;/p&gt;
&lt;h3&gt;Process Plan&lt;/h3&gt;
&lt;p&gt;The minimal (3 - 6) steps required to buy &lt;em&gt;or&lt;/em&gt; get benefit from the
product after purchase, or a mixture of both. E.g.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make an appointment.&lt;/li&gt;
&lt;li&gt;Allow us to create a customized plan.&lt;/li&gt;
&lt;li&gt;Let’s execute the plan together.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;A process plan removes confusion from the customers journey. When they see the
plan they think “oh that’s not difficult, I can do that” and then they purchase.&lt;/p&gt;
&lt;p&gt;A post-purchase process plan would alleviate confusion about how the customer
would &lt;em&gt;use&lt;/em&gt; the product.&lt;/p&gt;
&lt;h3&gt;Agreement Plan&lt;/h3&gt;
&lt;p&gt;Agreement plans are about alleviating fears. It’s a list of agreements you make
with the customer that are designed to alleviate their fears of doing business
with you.&lt;/p&gt;
&lt;p&gt;An agreement plan can also work to highlight shared values.&lt;/p&gt;
&lt;p&gt;Give the agreement plan a good name and it can increase the perceived value of
your product. “the easy-installation plan”, “your best nights sleep ever”, etc.&lt;/p&gt;
&lt;p&gt;Agreement plans can work in the background, they don’t have to be on the landing
page, though they could be.&lt;/p&gt;
&lt;p&gt;Make an agreement plan by creating a list of all the things a customer could be
fearful about when doing business with you (haggling for price, interacting with
a pushy salesman, buying a lemon/defective product) and then create an promise
that would nullify that fear.&lt;/p&gt;
&lt;p&gt;Customers want to know where you can take them. Unless you can take them
somewhere they want to go, why would they listen?&lt;/p&gt;
&lt;p&gt;The marketing goal is that every potential customer knows where we want to take
them. Define a desire for your customer, and your marketing story will have a
powerful hook.&lt;/p&gt;
&lt;p&gt;Heroes trust a guide who has a plan.&lt;/p&gt;
&lt;p&gt;People are looking for a philosophy then can embody, or a series of steps they
can take to solve their problems.&lt;/p&gt;
&lt;h3&gt;Two kinds of plan&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Agreement Plan&lt;/li&gt;
&lt;li&gt;Process Plan&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Both types work by earning trust and offer the custom a clear path to stability.&lt;/p&gt;
&lt;h1 id="a-call-to-action"&gt;A Call To Action&lt;/h1&gt;
&lt;p&gt;So far, we’ve defined a &lt;strong&gt;desire&lt;/strong&gt;, identified their &lt;strong&gt;challenges&lt;/strong&gt;,
&lt;strong&gt;empathized&lt;/strong&gt; with them, established our &lt;strong&gt;competency&lt;/strong&gt; and given them a
&lt;strong&gt;plan&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;In stories, characters never take action on their own, there is always an
outside force (the guide) challenges them to make a change.&lt;/p&gt;
&lt;p&gt;Heroes need to be challenged by external forces. Calls to action should be
clear, and should be repeated over and over. Above the fold, in the center of
the page. Also in the navbar. And also repeatedly as they scroll down the page.&lt;/p&gt;
&lt;p&gt;Customers are bombarded with adverts and calls-to-action all day every day. They
are ignoring things and filtering out noise all the time. So don’t be shy or
subtle. Be very clear. Make it very simple. If you have confidence in your
product, make confident calls to action.&lt;/p&gt;
&lt;h3&gt;Direct Calls&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;buy now&lt;/li&gt;
&lt;li&gt;schedule an appointment&lt;/li&gt;
&lt;li&gt;order now&lt;/li&gt;
&lt;li&gt;call today&lt;/li&gt;
&lt;li&gt;Register today&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Repeat the same (singular, simple) call to action again and again down the page.&lt;/p&gt;
&lt;h3&gt;Transitional Calls&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Download our free &lt;span class="caps"&gt;PDF&lt;/span&gt; guide to growing your business&lt;/li&gt;
&lt;li&gt;Free information - advice, guides, whitepapers, reports&lt;/li&gt;
&lt;li&gt;Giving something away for free&lt;/li&gt;
&lt;li&gt;Testimonials&lt;/li&gt;
&lt;li&gt;Samples&lt;/li&gt;
&lt;li&gt;Free-trials&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A good transitional &lt;span class="caps"&gt;CTA&lt;/span&gt; does three things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Establish expertise and authority, and positions you as a leader&lt;/li&gt;
&lt;li&gt;Create reciprocity&lt;/li&gt;
&lt;li&gt;Positions you as a guide&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Use both kinds in your messaging, and customers will understand (without burning
calories) what you (the guide) want them to do (the plan) to solve their problem.&lt;/p&gt;
&lt;p&gt;Heroes don’t take action by themselves, they &lt;em&gt;must&lt;/em&gt; be challenged. It’s just not
interesting if the hero can solve their own problems without an externality,
this is just how stories (and humans) work.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Characters only take action when challenged by an outside force.&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id="what-is-at-stake"&gt;What is at stake?&lt;/h1&gt;
&lt;p&gt;Stories live and die by a single question; “What is at stake?” If nothing can be
gained or lost then nobody cares. If there is nothing at stake in the story then
there is no story, it’s just not interesting.&lt;/p&gt;
&lt;p&gt;If there is no benefit to buying the product, then why buy it?&lt;/p&gt;
&lt;p&gt;You have to show the customer the cost of &lt;em&gt;not buying&lt;/em&gt; the product.&lt;/p&gt;
&lt;h1 id="avoid-failure"&gt;Avoid Failure&lt;/h1&gt;
&lt;p&gt;The story remains intersting as long as the hero is teeting on the edge between
success and failure. A hero in a story only ever has 2 motivations - to escape
pain or experience something good. Life is like that too, our desire to avoid
pain motivates us to make a change.&lt;/p&gt;
&lt;p&gt;There needs to be meaninful consequential stakes in the story, otherwise it isnt
interesting. Each scene needs to move the hero either closer to or further from
their tragic external threat.&lt;/p&gt;
&lt;p&gt;A brand needs to answer the “what if I don’t buy” question because otherwise the
customer can ask “so what?” - the stakes need to be clearly, simply, concisely
communicated. Probably stake, not stakes.&lt;/p&gt;
&lt;p&gt;You can do it humorously. and only lights - it is salt to add flavor, not a
main-serving of fear. Compare the fear to the peace and stability that could be
achieved. If you show the pain “before” and contrast it to peace and stability
“after” then you’ve also opened and closed a story loop.&lt;/p&gt;
&lt;p&gt;Blog titles, email subjects, headlines, can all contain elements of potential
failure to convey a sense of urgency. Bring up the negative stakes a bit.&lt;/p&gt;
&lt;p&gt;People fear losing \&lt;span class="math"&gt;\(100 more than they desire gaining \\)&lt;/span&gt;100 - loss and pain is
more motivating than reward and peace.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Let the reader know they are vulnerable to a threat. “X% of Y get W”&lt;/li&gt;
&lt;li&gt;Let the reader know that since they &lt;em&gt;are&lt;/em&gt; vulnerable, they should take action
   to reduce their vulnerability. “Make sure this doesnt happen and protect yourself”&lt;/li&gt;
&lt;li&gt;Give the customer a clear, concise simple plan to reduce their
   vulnerability. “We offer the thing you need”&lt;/li&gt;
&lt;li&gt;Challenge people to take the next step right now. the &lt;span class="caps"&gt;CTA&lt;/span&gt;. “Call us today to
   arrange an appointment”&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Agitate a bit of fear, and then return the reader to peace and prosperity, all
within 1 or 2 paragraphs.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What are you helping your customers avoid?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It’s only a little salt to add flavor. If its too little, customers wont know
why your product is important. If its too strong it’ll be off-putting.&lt;/p&gt;
&lt;h1 id="end-with-success"&gt;End with Success&lt;/h1&gt;
&lt;p&gt;People want to change their lives and be taken into a new reality. Tell them how
their lives are going to improve - peace, status, confidence, abilities, preparedness.&lt;/p&gt;
&lt;p&gt;People want a vision of a happy ending.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="dquo"&gt;“&lt;/span&gt;We’re going to put a man on the moon”&lt;/em&gt; vs &lt;em&gt;“We would like a highly competitive and successful space program”&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Answer each of these questions with a “before your brand” column and an “after your brand” column:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;What do they have?&lt;/li&gt;
&lt;li&gt;What are they feeling?&lt;/li&gt;
&lt;li&gt;What’s an average day like?&lt;/li&gt;
&lt;li&gt;What is their status?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This will show you how your customers lives will change and give lots of good
copy for your marketing.&lt;/p&gt;
&lt;p&gt;Talk about the end vision really clearly. And use images of
happy/successful/powerful people enjoying the benefits of your product. Say the
benefits loudly, confidently, clearly, simply, repeatedly.&lt;/p&gt;
&lt;p&gt;Talk about your end-vision for their lives once theyve benefited from your service.&lt;/p&gt;
&lt;p&gt;Show the customer a vision of how great their life will be if they do business
with you.&lt;/p&gt;
&lt;p&gt;Ultimately, the end of the story should be a list of resolutions to your
customers problems. How do they feel and how have philosophical/justice
questions been resolved?&lt;/p&gt;
&lt;p&gt;Stories usually end in 1 of three ways:
1. The hero gains some status or power
    * Offer access - get a free coffee.
    * Offer a premium - skip the line.
    * Create scarcity - write “limited” on it.
    * Identity association - wear a Rolex and be associated with what Rolex stands for.
2. The hero has become unified with someone that makes them whole
    * The hero needed something they couldn’t get themselves, and external provision has saved them.
    * Reduced anxiety.
    * Reduces effort.
    * More time.
3. The hero has some internal realisation (coming of age) that gives them
   confidence to overcome their shortcomings and become “whole” and wise.
   They can achieve inner-peace and know that they have reached their potential
    * inspiration - chariots of fire - you can also run really fast
    * acceptance - fashion brands doing positive body image
    * transcendence - greater purpose and meaning - fair-trade coffee&lt;/p&gt;
&lt;p&gt;Humans are looking for resolution to their external, internal and philosophical
problems. They can achieve this though (among other things) status,
self-realization, self-acceptance, and transcendence.&lt;/p&gt;
&lt;p&gt;If you product or service can help people achieve this then it should be a
central part of your brand promise.&lt;/p&gt;
&lt;h1 id="people-want-your-brand-to-participate-in-their-transformation"&gt;People want your brand to participate in their transformation&lt;/h1&gt;
&lt;p&gt;They are looking for a guide. Everybody wants to change either into someone
better or someone more self-accepting. You are helping them become wiser,
fitter, more equipped, accepted or peaceful.&lt;/p&gt;
&lt;p&gt;What does the customer want to become? What is their aspirational identity? What
kind of person do they want to be? How do they want their friends to talk about them?&lt;/p&gt;
&lt;p&gt;Readers needs to be told very clearly how much the hero has changed and how far
they’ve come. Usually, the hero is deeply flawed right up until the final
climactic scene.&lt;/p&gt;
&lt;p&gt;A hero needs someone else to step into their life, tell them they are different
and special and better. That someone is a guide, that’s you.&lt;/p&gt;
&lt;p&gt;Offering an aspirational identity to our customers adds a lot of value to our
products and services. Realise that your customers want to transform and improve themselves.&lt;/p&gt;
&lt;p&gt;Not all elements of a story should be used evenly.&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="Non-technical/Learning"/><category term="reading"/><category term="marketing"/><category term="communication"/><category term="book"/></entry><entry><title>Trainging Knowledge Confidence Victory</title><link href="https://johnmathews.eu/trainging-knowledge-confidence-victory.html" rel="alternate"/><published>2021-05-14T16:25:06+02:00</published><updated>2021-05-14T16:25:06+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-14:/trainging-knowledge-confidence-victory.html</id><summary type="html"/><content type="html">&lt;h2 id="training-knowledge-confidence-victory"&gt;Training → Knowledge → Confidence → Victory&lt;/h2&gt;
&lt;p&gt;&lt;span class="dquo"&gt;“&lt;/span&gt;Without training, they lacked knowledge. Without knowledge, they lacked
confidence. Without confidence, they lacked victory.”&lt;/p&gt;
&lt;p&gt;- Julius Caesar&lt;/p&gt;</content><category term="snippet"/><category term="quote"/><category term="caesar"/><category term="wisdom"/></entry><entry><title>email forwarding</title><link href="https://johnmathews.eu/email-forwarding.html" rel="alternate"/><published>2021-05-14T13:44:11+02:00</published><updated>2021-05-14T13:44:11+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-14:/email-forwarding.html</id><summary type="html"/><content type="html">&lt;h2 id="forward-email"&gt;Forward Email&lt;/h2&gt;
&lt;p&gt;I know about &lt;a href="https://improvmx.com/"&gt;ImprovMX&lt;/a&gt;, which used to be great because you could do a lot for
free, but now you only get 1 domain for free.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://forwardemail.net"&gt;ForwardEmail&lt;/a&gt; are 3 times cheaper than ImprovMX, and
I have 2 domains forwarding email. It’s not particularly private, but I can send
and recieve from a domain, for free.&lt;/p&gt;</content><category term="snippet"/><category term="email"/></entry><entry><title>modifying vim colorschemes correctly</title><link href="https://johnmathews.eu/modifying-vim-colorschemes-correctly.html" rel="alternate"/><published>2021-05-13T14:12:00+02:00</published><updated>2021-05-13T14:12:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-13:/modifying-vim-colorschemes-correctly.html</id><summary type="html"/><content type="html">&lt;h2 id="nested-auto-commands-for-overriding-colorschemes"&gt;Nested Auto Commands for Overriding Colorschemes&lt;/h2&gt;
&lt;p&gt;A &lt;a href="https://gist.github.com/romainl/379904f91fa40533175dfaec4c833f2f"&gt;snippet&lt;/a&gt;
detailing how to use nested auto commands to apply custom modifications when a
colorscheme is loaded. Perhaps this will stop me &lt;code&gt;:e&lt;/code&gt;-ing so frequently.&lt;/p&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>Vim Snippets</title><link href="https://johnmathews.eu/vim-snippets.html" rel="alternate"/><published>2021-05-13T13:04:09+02:00</published><updated>2021-05-13T13:04:09+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-13:/vim-snippets.html</id><summary type="html"/><content type="html">&lt;h2 id="vim-snippets"&gt;Vim Snippets&lt;/h2&gt;
&lt;p&gt;A useful collection of
&lt;a href="https://gist.github.com/romainl/4b9f139d2a8694612b924322de1025ce"&gt;gists&lt;/a&gt; by
&lt;a href="https://gist.github.com/romainl"&gt;Romain Lafourcade&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A &lt;a href="https://gist.github.com/t-mart/610795fcf7998559ea80"&gt;gist&lt;/a&gt; about &lt;code&gt;netrw&lt;/code&gt;.&lt;/p&gt;</content><category term="snippet"/><category term="vim"/><category term="netrw"/></entry><entry><title>Where was a setting set?</title><link href="https://johnmathews.eu/where-was-a-setting-set-.html" rel="alternate"/><published>2021-05-12T11:17:45+02:00</published><updated>2021-05-12T11:17:45+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-12:/where-was-a-setting-set-.html</id><summary type="html"/><content type="html">&lt;h2 id="see-where-vim-is-setting-an-option"&gt;See where Vim is setting an option&lt;/h2&gt;
&lt;p&gt;See where an option was set in vim using the following command:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;:verbose set textwidth?&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>My Life Expectancy</title><link href="https://johnmathews.eu/my-life-expectancy.html" rel="alternate"/><published>2021-05-12T10:59:32+02:00</published><updated>2021-05-12T10:59:32+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-12:/my-life-expectancy.html</id><summary type="html"/><content type="html">&lt;h1 id="key-points"&gt;Key points:&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Weight doesn’t matter.&lt;/li&gt;
&lt;li&gt;Be in “excellent” health.&lt;/li&gt;
&lt;li&gt;Workout 3 or 4 times a week.&lt;/li&gt;
&lt;li&gt;Drink liquor (or red wine) 3 or 4 times a week (after each workout).&lt;/li&gt;
&lt;li&gt;Try to be happy, optimistic and relaxed. What are you working so hard for
   anyway? You need something to do, someone to love, something to hope for.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="longevity-calculations"&gt;Longevity Calculations&lt;/h1&gt;
&lt;p&gt;I was playing with the life expectancy calculator at &lt;a href="https://www.blueprintincome.com/tools/life-expectancy-calculator-how-long-will-i-live/"&gt;blueprintincome&lt;/a&gt;&lt;sup id="sf-my-life-expectancy-1-back"&gt;&lt;a class="simple-footnote" href="#sf-my-life-expectancy-1" title="There is also a more detailed calculator at projectbiglife, its calibrated for Canadian citizens."&gt;1&lt;/a&gt;&lt;/sup&gt; and was surprised to find that their regression technique gives me
a 50% chance of living to 95! I’d expected a result closer to 80.&lt;/p&gt;
&lt;p&gt;After printing out a &lt;a href="https://johnmathews.eu/90-year-life-calendar.jpg"&gt;90 year calendar&lt;/a&gt;, my next
thought was to play with the calculator to find the maximum age I could have a 50% chance of reaching.&lt;/p&gt;
&lt;p&gt;Doing the factors below would apparently give me:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;75% chance of living to 92&lt;/li&gt;
&lt;li&gt;50% change of living to 101&lt;/li&gt;
&lt;li&gt;25% chance of living to 107&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dont-workout-every-day"&gt;Don’t workout every day&lt;/h2&gt;
&lt;p&gt;There is no additional benefit from working out more than 4 times a week.
Once you’re fit and working out 4 times a week it doesn’t matter if you do
more exercise.&lt;/p&gt;
&lt;p&gt;Being in “excellent” health is better than being in “very good” health though,
so make the workouts count. I guess if it didn’t make a difference then it
wouldn’t be excellent in the first place.&lt;/p&gt;
&lt;h2 id="drink-more-alcohol"&gt;Drink more alcohol&lt;/h2&gt;
&lt;p&gt;I was surprised that having 3-4 drinks each week increases your life
expectancy. I thought that it was best to not drink any alcohol at all.&lt;/p&gt;
&lt;p&gt;I should be drinking red wine or liquor 3 or 4 times each week. Liquor increases
longevity in men, but reduces longevity for women. Red wine increases longevity in
women, but has no effect in men&lt;sup id="sf-my-life-expectancy-2-back"&gt;&lt;a class="simple-footnote" href="#sf-my-life-expectancy-2" title="Alcohol consumption in later life and reaching longevity: the Netherlands Cohort Study "&gt;2&lt;/a&gt;&lt;/sup&gt;. I guess I
should drink some rum after each workout.&lt;/p&gt;
&lt;h2 id="weight-doesnt-make-a-different"&gt;Weight doesn’t make a different&lt;/h2&gt;
&lt;p&gt;According to their regression, my expected longevity is unchanged within a
weight range of 78kg - 90kg. I guess it’s much more important that I’m in
“excellent” health, working out 4 times a week and having some wine, rum, or
whiskey after each workout.&lt;/p&gt;
&lt;h1 id="but-its-just-statistics"&gt;But it’s just statistics&lt;/h1&gt;
&lt;p&gt;The calculator only asks for quantifiable or physical attributes. It doesn’t
consider emotional, relational or spiritual factors.&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-my-life-expectancy-1"&gt;There is also a more detailed
calculator at &lt;a href="https://www.projectbiglife.ca/life-expectancy-calculator"&gt;projectbiglife&lt;/a&gt;, its calibrated for Canadian citizens. &lt;a class="simple-footnote-back" href="#sf-my-life-expectancy-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-my-life-expectancy-2"&gt;&lt;a href="https://academic.oup.com/ageing/article/49/3/395/5730334"&gt;Alcohol consumption in later life and
reaching longevity: the Netherlands Cohort Study
&lt;/a&gt; &lt;a class="simple-footnote-back" href="#sf-my-life-expectancy-2-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Non-technical/Journal"/><category term="regression"/><category term="statistics"/><category term="life-expectancy"/><category term="death"/></entry><entry><title>Globbing</title><link href="https://johnmathews.eu/globbing.html" rel="alternate"/><published>2021-05-10T16:12:25+02:00</published><updated>2021-05-10T16:12:25+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-10:/globbing.html</id><summary type="html"/><content type="html">&lt;h2 id="globbing"&gt;Globbing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;????&lt;/code&gt; → 4 chars&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; → any number of chars&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:upper:]&lt;/code&gt; ⇔ &lt;code&gt;[A-Z]&lt;/code&gt; same for &lt;code&gt;[:lower:]&lt;/code&gt; and &lt;code&gt;[:digit:]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:alpha:]&lt;/code&gt; ⇔ &lt;code&gt;[a-zA-Z]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;[:alnum:]&lt;/code&gt; ⇔ &lt;code&gt;[a-zA-Z0-9]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ls -l [a-d]&lt;/code&gt; → part of a range&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;^ and $ works like in regex&lt;/li&gt;
&lt;li&gt;&lt;code&gt;la a*.{doc,docx}&lt;/code&gt; → &lt;span class="caps"&gt;OR&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ls a*.(doc|docx)&lt;/code&gt; → &lt;span class="caps"&gt;OR&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="linux"/></entry><entry><title>More VIM Notes</title><link href="https://johnmathews.eu/more-vim-notes.html" rel="alternate"/><published>2021-05-10T10:44:00+02:00</published><updated>2021-05-10T10:44:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-10:/more-vim-notes.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;&lt;/ul&gt;
&lt;/div&gt;
&lt;h3&gt;Quickfix list&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A quickfix list is a set of positions in one or more files&lt;/li&gt;
&lt;li&gt;A quckfix list is global. Not local to a particular buffer.&lt;/li&gt;
&lt;li&gt;A quickfix list is &lt;em&gt;not&lt;/em&gt; the quickfix window. The window can show the list. The list is a datastructure.&lt;/li&gt;
&lt;li&gt;A changelist is local to its buffer.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Registers&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt; contains the content of the last yank&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;1&lt;/code&gt;-&lt;code&gt;9&lt;/code&gt; contains the content you’ve deleted or changed&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;_&lt;/code&gt; blackhole register - send something here and it wont change any other register.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&lt;/code&gt; contains any deleted or changed content smaller than 1 row.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%&lt;/code&gt; contains the name of the current file.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Expression register&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;In insert mode, &lt;code&gt;&lt;c-r&gt;=&lt;/c-r&gt;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Type any valid vimscript.&lt;/li&gt;
&lt;li&gt;The output is inserted into the buffer.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Substitutions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;:&amp;amp;&amp;amp;&lt;/code&gt; → repeat the last substitution command with its flags&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:~&lt;/code&gt; → repeat the lat substitution with the same replacement, but with the last used search pattern&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Command line&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;q:&lt;/code&gt; - opens the command line window. Good for yanking and viewing previous commands&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:&lt;c-f&gt;&lt;/c-f&gt;&lt;/code&gt; - open command history list&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:UltiSnipsEdit&lt;/code&gt; - opens the ultiSnips file for the current buffers filetype. See which snippets are defined.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Delete stuff without leaving insert mode:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&lt;c-h&gt;&lt;/c-h&gt;&lt;/code&gt; - same as backspace&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-w&gt;&lt;/c-w&gt;&lt;/code&gt; - delete previous word&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-u&gt;&lt;/c-u&gt;&lt;/code&gt; - delete everything before cursor (on same row)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-d&gt;&lt;/c-d&gt;&lt;/code&gt; or &lt;code&gt;&lt;c-t&gt;&lt;/c-t&gt;&lt;/code&gt; - (un)indent a row&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-e&gt;&lt;/c-e&gt;&lt;/code&gt; - delete next word&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Text objects&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;gf&lt;/code&gt; - edit the file at the file path under the cursor (useful for netrw?)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gx&lt;/code&gt; - open the file at the file path under the cursor (useful for netrw?)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[m&lt;/code&gt;, &lt;code&gt;]m&lt;/code&gt; - move to the start or end of a method &lt;/li&gt;
&lt;li&gt;&lt;code&gt;@:&lt;/code&gt; - repeat the last command&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; will indent a line. &lt;code&gt;.&lt;/code&gt; will repeat the operation, so &lt;code&gt;&amp;gt;&amp;gt;..&lt;/code&gt; would indent
    a line 3 times.&lt;/p&gt;
&lt;p&gt;You can use this along with a count, which will do the indention for &lt;code&gt;n&lt;/code&gt; number
of lines (with the current line being the top line). &lt;code&gt;3&amp;gt;&amp;gt;..&lt;/code&gt; will indent 3
lines 3 blocks to the right.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Screen Movement&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&lt;c-y&gt;&lt;/c-y&gt;&lt;/code&gt; - up one line, and moves the cursor if it would go off the screen&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-e&gt;&lt;/c-e&gt;&lt;/code&gt; - down one line, and moves the cursor if it would go off screen&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-f&gt;&lt;/c-f&gt;&lt;/code&gt; - down one page, with cursor at top of screen&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-b&gt;&lt;/c-b&gt;&lt;/code&gt; - up one page, with cursor at bottom of screen&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Sources&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;&lt;a href="https://thevaluable.dev/vim-advanced/"&gt;The Valuable Dev&lt;/a&gt;&lt;/em&gt; has a lot of great tips.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href="https://www.vimfromscratch.com/articles/vim-for-python/"&gt;Vim for Python&lt;/a&gt;&lt;/em&gt; has some great notes on linting and code completion plugins that I’ve either copied or was more or less doing already.&lt;/li&gt;
&lt;/ol&gt;</content><category term="Technical/Developer Tools"/><category term="tips"/><category term="vim"/></entry><entry><title>Create Custom Functions in Vim</title><link href="https://johnmathews.eu/create-custom-functions-in-vim.html" rel="alternate"/><published>2021-05-05T18:06:15+02:00</published><updated>2021-05-05T18:06:15+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-05:/create-custom-functions-in-vim.html</id><summary type="html"/><content type="html">&lt;h2 id="vimscript-functions"&gt;Vimscript functions&lt;/h2&gt;
&lt;p&gt;Create a custom command and function to create a new file in vim.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;command&lt;span class="p"&gt;!&lt;/span&gt; &lt;span class="p"&gt;-&lt;/span&gt;nargs&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; Ms &lt;span class="k"&gt;call&lt;/span&gt; s:NewFile&lt;span class="p"&gt;(&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;q&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt;args&lt;span class="p"&gt;&amp;gt;)&lt;/span&gt;`

&lt;span class="k"&gt;function&lt;/span&gt;&lt;span class="p"&gt;!&lt;/span&gt; s:NewFile&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;echom&lt;/span&gt; &lt;span class="k"&gt;a&lt;/span&gt;:&lt;span class="nb"&gt;fp&lt;/span&gt;
  execute &lt;span class="s2"&gt;"e "&lt;/span&gt; . &lt;span class="s2"&gt;"~/foo/bar/"&lt;/span&gt; . &lt;span class="k"&gt;a&lt;/span&gt;:&lt;span class="nb"&gt;fp&lt;/span&gt; . &lt;span class="s2"&gt;".ext"&lt;/span&gt;
&lt;span class="k"&gt;endfunction&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Useful help:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;:h %:h&lt;/code&gt; → filename modifiers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:h expand()&lt;/code&gt; → expand wildcards, including filename modifiers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/54354220/trying-to-create-a-vimscript-function-that-creates-a-new-file"&gt;question on &lt;span class="caps"&gt;SO&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>Vim Text Objects</title><link href="https://johnmathews.eu/vim-text-objects.html" rel="alternate"/><published>2021-05-05T18:04:40+02:00</published><updated>2021-05-05T18:04:40+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-05:/vim-text-objects.html</id><summary type="html"/><content type="html">&lt;h2 id="better-text-objects-in-vim"&gt;Better text objects in Vim&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;target function arguments&lt;/li&gt;
&lt;li&gt;more types of object&lt;/li&gt;
&lt;li&gt;consistent searching/jumping if you’re not inside the thing you’re targeting&lt;/li&gt;
&lt;li&gt;jump forward or backward&lt;/li&gt;
&lt;li&gt;look for the nth occurrance&lt;/li&gt;
&lt;li&gt;select white space around/inside object&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://github.com/wellle/targets.vim"&gt;github&lt;/a&gt;
&lt;a href="https://www.barbarianmeetscoding.com/blog/exploring-vim-plugins-improve-and-extend-your-text-objects-with-targets-vim"&gt;article about a plugin&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>Delete from vim insert mode</title><link href="https://johnmathews.eu/delete-from-vim-insert-mode.html" rel="alternate"/><published>2021-05-05T18:03:07+02:00</published><updated>2021-05-05T18:03:07+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-05:/delete-from-vim-insert-mode.html</id><summary type="html"/><content type="html">&lt;h2 id="delete-stuff-in-vim-without-leaving-insert-mode"&gt;Delete stuff in Vim without leaving insert mode:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&lt;c-h&gt;&lt;/c-h&gt;&lt;/code&gt; - same as backspace&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-w&gt;&lt;/c-w&gt;&lt;/code&gt; - delete previous word&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-u&gt;&lt;/c-u&gt;&lt;/code&gt; - delete everything before cursor (on same row)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-d&gt;&lt;/c-d&gt;&lt;/code&gt; or &lt;code&gt;&lt;c-t&gt;&lt;/c-t&gt;&lt;/code&gt; - (un)indent a row&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-e&gt;&lt;/c-e&gt;&lt;/code&gt; - delete next word (create a mapping in vimrc)&lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>Global Aliases</title><link href="https://johnmathews.eu/global-aliases.html" rel="alternate"/><published>2021-05-05T18:02:11+02:00</published><updated>2021-05-05T18:02:11+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-05:/global-aliases.html</id><summary type="html"/><content type="html">&lt;h2 id="alias-function-arguments"&gt;Alias function arguments&lt;/h2&gt;
&lt;p&gt;If you want to alias a bunch of arguments for a command, use global aliases&lt;/p&gt;
&lt;p&gt;&lt;code&gt;alias -g foo="some complicated options"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;then
&lt;code&gt;grep some complicated options&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;becomes:
&lt;code&gt;grep foo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.thorsten-hans.com/5-types-of-zsh-aliases/"&gt;https://www.thorsten-hans.com/5-types-of-zsh-aliases/&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="alias"/><category term="linux"/></entry><entry><title>Vim yanked text buffer</title><link href="https://johnmathews.eu/vim-yanked-text-buffer.html" rel="alternate"/><published>2021-05-05T18:00:44+02:00</published><updated>2021-05-05T18:00:44+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-05:/vim-yanked-text-buffer.html</id><summary type="html"/><content type="html">&lt;h2 id="vim-register-for-yanked-text"&gt;Vim register for yanked text&lt;/h2&gt;
&lt;p&gt;It’s annoying when you delete something and overwrite your yanked text. &lt;/p&gt;
&lt;p&gt;Use numbered registers!
&lt;code&gt;"0&lt;/code&gt; to &lt;code&gt;"9&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;"0&lt;/code&gt; contains the most recent yank.
&lt;code&gt;"1&lt;/code&gt; contains the most recent deleted text&lt;/p&gt;
&lt;p&gt;&lt;code&gt;"0p&lt;/code&gt; - paste the most recent yank, even if you deleted something after yanking it&lt;/p&gt;</content><category term="snippet"/><category term="vim"/><category term="linux"/><category term="text"/></entry><entry><title>ChezMoi shortcuts</title><link href="https://johnmathews.eu/chezmoi-shortcuts.html" rel="alternate"/><published>2021-05-05T17:58:52+02:00</published><updated>2021-05-05T17:58:52+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-05:/chezmoi-shortcuts.html</id><summary type="html"/><content type="html">&lt;h2 id="chezmoi"&gt;Chezmoi&lt;/h2&gt;
&lt;p&gt;Chezmoi is a great tool for managing dotfiles. This is a shortcut to update the source state based on local changes.&lt;/p&gt;
&lt;p&gt;chezmoi status | cut -c 4- | xargs -I % -p sh -c ‘chezmoi add ~/%’&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/twpayne/chezmoi"&gt;project&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="dotfiles"/><category term="alias"/></entry><entry><title>Sleep Is Good</title><link href="https://johnmathews.eu/sleep-is-good.html" rel="alternate"/><published>2021-05-04T17:57:30+02:00</published><updated>2021-05-04T17:57:30+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-04:/sleep-is-good.html</id><summary type="html"/><content type="html">&lt;h2 id="sleep"&gt;Sleep&lt;/h2&gt;
&lt;p&gt;“It enhances your memory and makes you more creative. It makes you look more attractive. It keeps you slim and lowers food cravings. It protects you from cancer and dementia. It wards off colds and the flu. It lowers your risk of heart attacks and stroke, not to mention diabetes. You’ll even feel happier, less depressed, and less anxious.”&lt;/p&gt;
&lt;p&gt;Dr. Walker - why we need to sleep&lt;/p&gt;</content><category term="snippet"/><category term="sleep"/><category term="lifestyle"/></entry><entry><title>Bash Strict Mode</title><link href="https://johnmathews.eu/bash-strict-mode.html" rel="alternate"/><published>2021-05-04T17:56:34+02:00</published><updated>2021-05-04T17:56:34+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-04:/bash-strict-mode.html</id><summary type="html"/><content type="html">&lt;h2 id="bash-strict-mode"&gt;Bash strict mode&lt;/h2&gt;
&lt;p&gt;How to write robust bash scripts:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://redsymbol.net/articles/unofficial-bash-strict-mode/"&gt;Bash Strict Mode&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="bash"/><category term="linux"/></entry><entry><title>How To Write An About Page</title><link href="https://johnmathews.eu/how-to-write-an-about-page.html" rel="alternate"/><published>2021-05-04T17:55:03+02:00</published><updated>2021-05-04T17:55:03+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-04:/how-to-write-an-about-page.html</id><summary type="html"/><content type="html">&lt;h2 id="how-to-write-an-about-page"&gt;How to write an About Page&lt;/h2&gt;
&lt;p&gt;An often recommended &lt;a href="https://www.kaleighmoore.com/blog/2020/5/14/how-to-write-a-stellar-about-page"&gt;blog post&lt;/a&gt; by Kaleigh Moore about writing a good about page.&lt;/p&gt;</content><category term="snippet"/><category term="writing"/></entry><entry><title>Domain Name Registraars</title><link href="https://johnmathews.eu/domain-name-registraars.html" rel="alternate"/><published>2021-05-03T17:49:59+02:00</published><updated>2021-05-03T17:49:59+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-03:/domain-name-registraars.html</id><summary type="html"/><content type="html">&lt;h2 id="domain-name-registrars"&gt;Domain name registrars&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://namecheap.com"&gt;https://namecheap.com&lt;/a&gt; (cheap)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://instantdomainsearch.com"&gt;https://instantdomainsearch.com&lt;/a&gt; (variants)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://iwantmyname.com"&gt;https://iwantmyname.com&lt;/a&gt; (tld comparison)&lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="web"/></entry><entry><title>Honest Troubleshooting Code of Conduct</title><link href="https://johnmathews.eu/honest-troubleshooting-code-of-conduct.html" rel="alternate"/><published>2021-05-03T17:46:28+02:00</published><updated>2021-05-03T17:46:28+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-03:/honest-troubleshooting-code-of-conduct.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;a href="http://rachelbythebay.com/w/2021/05/01/code/"&gt;The Honest Troubleshooting Code of Conduct&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/></entry><entry><title>Linux Directories</title><link href="https://johnmathews.eu/linux-etsy-dir.html" rel="alternate"/><published>2021-05-02T17:43:08+02:00</published><updated>2021-05-02T17:43:08+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-05-02:/linux-etsy-dir.html</id><summary type="html"/><content type="html">&lt;h2 id="linux-filesystem-hierarchy-standard"&gt;Linux Filesystem Hierarchy Standard&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;/etc&lt;/code&gt; (etsy) → “etcetera” or “editable text config” → a place to put config files. &lt;/p&gt;
&lt;p&gt;Originally, the root directory had &lt;code&gt;/boot&lt;/code&gt; for booting, &lt;code&gt;/dev&lt;/code&gt; for devices… One dir for each type of thing. But this put config in many places. so &lt;code&gt;etc/&lt;/code&gt; became convention&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard"&gt;Filesystem Hierarchy Standard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.pathname.com/fhs/pub/fhs-2.3.html"&gt;fhs-2.3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="linux"/><category term="filesystem"/></entry><entry><title>Browser Security</title><link href="https://johnmathews.eu/browser-security.html" rel="alternate"/><published>2021-04-30T22:24:40+02:00</published><updated>2021-04-30T22:24:40+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-30:/browser-security.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;a href="https://blog.vnaik.com/posts/web-attacks.html"&gt;Blog post&lt;/a&gt; about browser/Web-app security, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;CSRF&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;CORS&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;HTTP&lt;/span&gt; Security Headers &lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="xss"/><category term="cors"/><category term="http"/></entry><entry><title>HTML Templates</title><link href="https://johnmathews.eu/html-templates.html" rel="alternate"/><published>2021-04-30T17:34:17+02:00</published><updated>2021-04-30T17:34:17+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-30:/html-templates.html</id><summary type="html"/><content type="html">&lt;h2 id="html-templates"&gt;&lt;span class="caps"&gt;HTML&lt;/span&gt; Templates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="wickedtemplates.com"&gt;wickedtemplates.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="cruip.com"&gt;cruip.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://versoly.com/templates"&gt;https://versoly.com/templates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="html"/><category term="jam"/></entry><entry><title>Interview With Linus Torvalds</title><link href="https://johnmathews.eu/interview-with-linus-torvalds.html" rel="alternate"/><published>2021-04-29T17:38:33+02:00</published><updated>2021-04-29T17:38:33+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-29:/interview-with-linus-torvalds.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;a href="https://tag1consulting.com/blog/interview-linus-torvalds-linux-and-git:"&gt;Interview&lt;/a&gt; with Linus Torvalds:&lt;/p&gt;
&lt;p&gt;I don’t want to claim that programming is an art, because it really is mostly
just about ‘good engineering’. I’m a big believer in Thomas Edison’s ‘one
percent inspiration and ninety-nine percent perspiration’ mantra. It’s almost
all about the little details and the everyday grunt-work.&lt;/p&gt;
&lt;p&gt;But there is that occasional ‘inspiration’ part, that ‘good taste’ thing that
is about more than just solving some problem - solving it cleanly and nicely
and yes, even beautifully.&lt;/p&gt;</content><category term="snippet"/><category term="linux"/><category term="interview"/><category term="linus"/></entry><entry><title>RPC calls</title><link href="https://johnmathews.eu/rpc.html" rel="alternate"/><published>2021-04-29T17:37:38+02:00</published><updated>2021-04-29T17:37:38+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-29:/rpc.html</id><summary type="html"/><content type="html">&lt;p&gt;A &lt;span class="caps"&gt;RPC&lt;/span&gt; is when an executable causes a procedure (subroutine) to execute on
another computer, It’s coded as if it were a normal (local) subroutine. You
don’t explicitly code the details for the remote interaction. You write the
same code whether the subroutine is local or remote.&lt;/p&gt;</content><category term="snippet"/><category term="rpc"/><category term="linux"/></entry><entry><title>A useful blog</title><link href="https://johnmathews.eu/useful-blog.html" rel="alternate"/><published>2021-04-29T17:35:17+02:00</published><updated>2021-04-29T17:35:17+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-29:/useful-blog.html</id><summary type="html"/><content type="html">&lt;p&gt;Just found a really useful &lt;a href="https://seb.jambor.dev"&gt;blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Interesting &lt;a href="https://seb.jambor.dev/posts/cd-is-not-a-program/"&gt;discussion&lt;/a&gt; about the difference between builtins and executables,&lt;/p&gt;
&lt;p&gt;Nice examples of using &lt;code&gt;fzf&lt;/code&gt; to &lt;a href="https://seb.jambor.dev/posts/improving-shell-workflows-with-fzf/"&gt;improve workflows&lt;/a&gt;.&lt;/p&gt;</content><category term="snippet"/><category term="linux"/><category term="shell"/><category term="fzf"/><category term="workflow"/><category term="zsh"/><category term="bash"/><category term="builtin"/></entry><entry><title>lsblk command</title><link href="https://johnmathews.eu/lsblk-command.html" rel="alternate"/><published>2021-04-28T12:18:40+02:00</published><updated>2021-04-28T12:18:40+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-28:/lsblk-command.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;lsblk&lt;/code&gt; is a command to get info about connected devices.&lt;/p&gt;
&lt;p&gt;Used when attaching drives.&lt;/p&gt;</content><category term="snippet"/><category term="unix"/><category term="cli"/></entry><entry><title>Ranger file manager</title><link href="https://johnmathews.eu/ranger-file-manager.html" rel="alternate"/><published>2021-04-28T11:53:44+02:00</published><updated>2021-04-28T11:53:44+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-28:/ranger-file-manager.html</id><summary type="html"/><content type="html">&lt;p&gt;Ranger is a console based file manager with vi key bindings.&lt;/p&gt;
&lt;p&gt;Install it with &lt;code&gt;brew install ranger&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Launch it with &lt;code&gt;ranger&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="ranger"/><category term="unix"/><category term="vim"/><category term="tools"/></entry><entry><title>Vim Regex</title><link href="https://johnmathews.eu/vim-regex.html" rel="alternate"/><published>2021-04-28T11:37:58+02:00</published><updated>2021-04-28T11:37:58+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-28:/vim-regex.html</id><summary type="html"/><content type="html">&lt;p&gt;This is a great article about using regular expressions in Vim:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://marcelfischer.eu/blog/2019/checkbox-regex/"&gt;marcelfischer.eu/blog/2019/checkbox-regex/&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/><category term="regex"/></entry><entry><title>Where and when will the current Bitcoin market peak?</title><link href="https://johnmathews.eu/when-bitcoin-top.html" rel="alternate"/><published>2021-04-27T17:46:58+02:00</published><updated>2021-04-27T17:46:58+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-27:/when-bitcoin-top.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;TLDR&lt;/span&gt;: mid-September, $300,000&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id="checklist"&gt;Checklist&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Top Cap ≈ Market Cap &lt;a href="https://charts.woobull.com/bitcoin-valuations/"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;MVRV&lt;/span&gt; &amp;gt; 4 &lt;a href="http://charts.woobull.com/bitcoin-price-models/"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;S2F&lt;/span&gt; deflection &amp;gt; 3, but noisy &lt;a href="https://twitter.com/s2fmultiple/status/1387991423400689664/photo/3"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;0.875 × Delta Cap ≈ Realised Cap &lt;a href="http://charts.woobull.com/bitcoin-price-models/"&gt;chart&lt;/a&gt;. &lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;HODL&lt;/span&gt; waves - 45% moved in the last 6 months &lt;a href="https://unchained-capital.com/hodlwaves/"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;12 Month &lt;span class="caps"&gt;RSI&lt;/span&gt; &amp;gt; 90 &lt;a href="https://www.tradingview.com/chart/BTCUSD/Wf6Nuiof-BTC-USD-12-month-RSI/"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;3-month coin days destroyed - check glassnodes most recent email and &lt;span class="caps"&gt;STH&lt;/span&gt; and &lt;span class="caps"&gt;LTH&lt;/span&gt; &lt;a href="https://studio.glassnode.com/metrics?a=BTC&amp;amp;category=&amp;amp;m=indicators.Cdd90AgeAdjusted"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="summary"&gt;Summary&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span class="caps"&gt;S2F&lt;/span&gt; model suggests a peak around the beginning of 2021Q4, in the region of &lt;strong&gt;$300,000&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;The rainbow chart seems to broadly agree with &lt;span class="caps"&gt;S2F&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;If the age-adjusted 3-month coin days destroyed goes above 550,000 then get ready to sell.&lt;/li&gt;
&lt;li&gt;Willy Woos “double top” chart suggests a peak around &lt;strong&gt;$400,000&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;RationalRoot’s comparison of bull runs suggests a market top around &lt;strong&gt;14 September&lt;/strong&gt; and a maximum price around &lt;strong&gt;$2,000,000&lt;/strong&gt; [sic].&lt;/li&gt;
&lt;li&gt;RationalRoot’s comparison of 12 months &lt;span class="caps"&gt;RSI&lt;/span&gt; suggests that the market top is reached shortly after a &lt;strong&gt;12 month &lt;span class="caps"&gt;RSI&lt;/span&gt; exceeds 90&lt;/strong&gt;. This seems less reliable than the above points&lt;/li&gt;
&lt;li&gt;Jurrien Timmer suggests a peak price around $100,000 if price shoots up unexpectedly quickly. I expect the market top to be significantly higher.&lt;/li&gt;
&lt;li&gt;$100k will be a massive psychological level. If the price does increase to this level before approximately July then the optimal sell price would therefore not be exactly $100,000.&lt;/li&gt;
&lt;li&gt;Market top is expected around &lt;strong&gt;September 2021 at the earliest&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;The behaviour of the market will change as its participants change. There hasn’t been a bull run with significant institutional investors before.&lt;/li&gt;
&lt;li&gt;Sell using a cost averaging strategy.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="awareness"&gt;Awareness&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Buy when everyone is selling, sell when everyone is buying. Be brave when there is fear, if there is no fear then its about to get very messy.&lt;/li&gt;
&lt;li&gt;If everyone is super confident that prices are definitely going to go up, something bad is about to happen. A lack of uncertainty is a big warning bell.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;14 September, $300,000.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="threshold-values"&gt;Threshold Values&lt;/h1&gt;
&lt;h2 id="mvrv"&gt;&lt;span class="caps"&gt;MVRV&lt;/span&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;MVRV&lt;/span&gt; &amp;gt; 3 → Local top&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;MVRV&lt;/span&gt; &amp;gt; 4 → Macro top&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;MVRV&lt;/span&gt; has historically been one of the best on-chain predictors of market tops and bottoms.&lt;/li&gt;
&lt;li&gt;The ratio of Market Value to Realised Value is calculated by dividing Bitcoin’s market cap by its realised cap.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://charts.woobull.com/bitcoin-price-models/"&gt;chart&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="top-cap"&gt;Top Cap&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Top Cap is 35 x Average Cap&lt;/li&gt;
&lt;li&gt;Market top when Top Cap is equal to Market Cap.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="delta-cap"&gt;Delta Cap&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Delta cap is Average Cap subtracted from Realised Cap.&lt;/li&gt;
&lt;li&gt;When Delta Cap is almost Realised Cap, it’s a market top.&lt;/li&gt;
&lt;li&gt;When Delta cap touches Average Cap, it’s a market bottom.&lt;/li&gt;
&lt;li&gt;Market Top when Delta cap is within 20%­15% of Realised Cap&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="s2f-deflection"&gt;&lt;span class="caps"&gt;S2F&lt;/span&gt; Deflection&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Get key ratio values&lt;/li&gt;
&lt;li&gt;If s2F deflection &amp;gt; 3, but its &lt;a href="https://studio.glassnode.com/metrics?a=BTC&amp;amp;category=&amp;amp;m=indicators.StockToFlowDeflection"&gt;noisy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="hodl-waves"&gt;&lt;span class="caps"&gt;HODL&lt;/span&gt; Waves&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&amp;gt;45% of supply has been moved in the last 180 days (6 months) → Sell&lt;/li&gt;
&lt;li&gt;&amp;gt;70% of supply has been held over 180 days → Buy&lt;/li&gt;
&lt;li&gt;&lt;a href="https://unchained-capital.com/hodlwaves/"&gt;chart&lt;/a&gt; - hover the cursor over todays date and add up all the age brackets from 24hr to 3-6 months&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="12-month-rsi-90"&gt;12 month &lt;span class="caps"&gt;RSI&lt;/span&gt; &amp;gt; 90&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;14 month &lt;span class="caps"&gt;RSI&lt;/span&gt; &amp;gt; 95 → Sell&lt;/li&gt;
&lt;li&gt;12 month &lt;span class="caps"&gt;RSI&lt;/span&gt; &amp;gt; 90 → Sell&lt;/li&gt;
&lt;li&gt;Noisy - defer to other metrics.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="sopr"&gt;&lt;span class="caps"&gt;SOPR&lt;/span&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Use 7 day average.&lt;/li&gt;
&lt;li&gt;1.04 → Sell&lt;/li&gt;
&lt;li&gt;0.97 → Buy&lt;/li&gt;
&lt;li&gt;Noisy - defer to other metrics.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="realised-cap-nvt-cap"&gt;Realised Cap &amp;gt; &lt;span class="caps"&gt;NVT&lt;/span&gt; Cap&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Realised Cap should be lower than &lt;span class="caps"&gt;NVT&lt;/span&gt; Cap.&lt;/li&gt;
&lt;li&gt;Sell when Realised Cap almost exceeds &lt;span class="caps"&gt;NVT&lt;/span&gt; cap&lt;/li&gt;
&lt;li&gt;See chart below, there have been false positives.&lt;/li&gt;
&lt;li&gt;Realised Cap is lower than &lt;span class="caps"&gt;NVT&lt;/span&gt; cap during a bull market only.&lt;/li&gt;
&lt;li&gt;Noisy, could be a miss.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="charts"&gt;Charts&lt;/h1&gt;
&lt;h2 id="stock-to-flow-model"&gt;Stock to Flow Model&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/bitcoin-stock-to-flow-model.png"&gt;&lt;img alt="bitcoin stock to flow model" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bitcoin-stock-to-flow-model.png" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/bitcoin-stock-to-flow-model.png 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/bitcoin-stock-to-flow-model.png 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bitcoin-stock-to-flow-model.png 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/bitcoin-stock-to-flow-model.png 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="rainbow-model"&gt;Rainbow Model&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/bitcoin-when-to-sell.jpg"&gt;&lt;img alt="bitcoin rainbow price bands" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bitcoin-when-to-sell.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/bitcoin-when-to-sell.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/bitcoin-when-to-sell.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bitcoin-when-to-sell.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/bitcoin-when-to-sell.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="top-cap_1"&gt;Top Cap&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/TopCap.png"&gt;&lt;img alt="Top Cap is 35*Average Cap" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/TopCap.png" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/TopCap.png 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/TopCap.png 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/TopCap.png 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/TopCap.png 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="realised-cap-nvt"&gt;Realised Cap, &lt;span class="caps"&gt;NVT&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/RealisedCapVsNVT.png"&gt;&lt;img alt="Realised Cap and NVT" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/RealisedCapVsNVT.png" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/RealisedCapVsNVT.png 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/RealisedCapVsNVT.png 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/RealisedCapVsNVT.png 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/RealisedCapVsNVT.png 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="delta-cap_1"&gt;Delta Cap&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/delta2019.jpg"&gt;&lt;img alt="Delta Cap until 2019" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/delta2019.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/delta2019.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/delta2019.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/delta2019.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/delta2019.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="3-month-coin-days-destroyed"&gt;3 month coin days destroyed&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/3monthCoindaysDestroyed.png"&gt;&lt;img alt="bitcoin 3 month coin days destroyed" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/3monthCoindaysDestroyed.png" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/3monthCoindaysDestroyed.png 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/3monthCoindaysDestroyed.png 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/3monthCoindaysDestroyed.png 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/3monthCoindaysDestroyed.png 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="double-top"&gt;Double top&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/woobull_double_top_first_top_now.jpg"&gt;&lt;img alt="bitcoin historical double tops" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/woobull_double_top_first_top_now.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/woobull_double_top_first_top_now.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/woobull_double_top_first_top_now.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/woobull_double_top_first_top_now.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/woobull_double_top_first_top_now.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="similarities-to-previous-bull-runs"&gt;Similarities to previous bull runs&lt;/h2&gt;
&lt;p&gt;Version 1:
&lt;a href="https://johnmathews.eu/images/btc_price_charts/bull_run_comparison.jpg"&gt;&lt;img alt="bitcoin price comparison of historical bullruns" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bull_run_comparison.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/bull_run_comparison.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/bull_run_comparison.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bull_run_comparison.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/bull_run_comparison.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Version 2:
&lt;a href="https://johnmathews.eu/images/btc_price_charts/bull_run_comparison2.jpeg"&gt;&lt;img alt="bitcoin price comparison of historical bullruns" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bull_run_comparison2.jpeg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/bull_run_comparison2.jpeg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/bull_run_comparison2.jpeg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/bull_run_comparison2.jpeg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/bull_run_comparison2.jpeg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Halving model:
&lt;a href="https://johnmathews.eu/images/btc_price_charts/halving_model.jpg"&gt;&lt;img alt="bitcoin historical price oriented around historical halving" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/halving_model.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/halving_model.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/halving_model.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/halving_model.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/halving_model.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;12 Month &lt;span class="caps"&gt;RSI&lt;/span&gt; comparison
&lt;a href="https://johnmathews.eu/images/btc_price_charts/rsi_comparison.jpg"&gt;&lt;img alt="bitocin historical RSI" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/rsi_comparison.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/rsi_comparison.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/rsi_comparison.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/rsi_comparison.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/rsi_comparison.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="bitcoin-price-history"&gt;Bitcoin price history&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/btcPriceHistoryLog.png"&gt;&lt;img alt="bitcoin price history" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/btcPriceHistoryLog.png" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/btcPriceHistoryLog.png 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/btcPriceHistoryLog.png 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/btcPriceHistoryLog.png 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/btcPriceHistoryLog.png 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="lowest-price-forward-model"&gt;Lowest price forward model&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://johnmathews.eu/images/btc_price_charts/btc_minimum_price_forecast.jpg"&gt;&lt;img alt="bitcoin lowest price forward" class="image-process-article-inline-image" loading="lazy" sizes="(min-width: 1536x) 1020px, (min-width: 1280px) 850px, (min-width: 1024px) 800px, (min-width: 768px) 800px, (min-width: 640px) 800px, 100vw" src="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/btc_minimum_price_forecast.jpg" srcset="https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/300w/btc_minimum_price_forecast.jpg 300w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/600w/btc_minimum_price_forecast.jpg 600w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/800w/btc_minimum_price_forecast.jpg 800w, https://johnmathews.eu/images/btc_price_charts/derivatives/article-inline-image/1600w/btc_minimum_price_forecast.jpg 1600w"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="key-metrics-and-terms"&gt;Key metrics and terms&lt;/h1&gt;
&lt;h2 id="average-cap"&gt;Average Cap&lt;/h2&gt;
&lt;p&gt;The “forever” moving average of market cap. It is the cumulative sum total of
daily market cap values divided by the age of the market in days.&lt;/p&gt;
&lt;h2 id="top-cap_2"&gt;Top Cap&lt;/h2&gt;
&lt;p&gt;Average Cap multipled by 35.&lt;/p&gt;
&lt;h2 id="nvt-cap"&gt;&lt;span class="caps"&gt;NVT&lt;/span&gt; Cap&lt;/h2&gt;
&lt;p&gt;A valuation using monetray velocity. Checkout CoinMetrics for more info.&lt;/p&gt;
&lt;h2 id="mvrv_1"&gt;&lt;span class="caps"&gt;MVRV&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;The ratio of Market Value to Realised Value is calculated by dividing Bitcoin’s
market cap by its realised cap.&lt;/p&gt;
&lt;h2 id="realised-cap"&gt;Realised Cap&lt;/h2&gt;
&lt;p&gt;The sum of the products of each &lt;span class="caps"&gt;UTXO&lt;/span&gt; and the market price of Bitcoin when the &lt;span class="caps"&gt;UTXO&lt;/span&gt; was generated.&lt;/p&gt;
&lt;h2 id="market-cap"&gt;Market Cap&lt;/h2&gt;
&lt;p&gt;The price of the most recent Bitcoin transaction multipled by the number of Bitcoin&lt;/p&gt;
&lt;h2 id="utxo"&gt;&lt;span class="caps"&gt;UTXO&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Unspent Transaction Outputs&lt;/em&gt;. These are kind of like unspent coins. If you have
1.5 &lt;span class="caps"&gt;BTC&lt;/span&gt; then you might have bought 2 and sold 0.5. The total value of UTXOs in
your wallet will be 1.5.&lt;/p&gt;
&lt;h2 id="sopr_1"&gt;&lt;span class="caps"&gt;SOPR&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;Spent Output Profit Ratio&lt;/em&gt; is a measure of the average profit or loss on a
coin. Is a coin is moved when the price is higher than when it was received the
&lt;span class="caps"&gt;SOPR&lt;/span&gt; increases, if a coin is moved when the price is lower than when the coin
was received then &lt;span class="caps"&gt;SOPR&lt;/span&gt; decreases.&lt;/p&gt;
&lt;p&gt;It won’t be accurate for individual coins but in aggregate it gives an idea of
whether coins are being sold at a loss or for profit.&lt;/p&gt;
&lt;p&gt;Market participants who have owned &lt;span class="caps"&gt;BTC&lt;/span&gt; for 3 months behave differently to those
that have held &lt;span class="caps"&gt;BTC&lt;/span&gt; for 3 years. A more experienced investor will likely make
more measured and less rash decisions.&lt;/p&gt;
&lt;p&gt;By segregating the UTXOs according to age you can compare old coins and new
coins, experienced and inexperienced investors (in aggregate).&lt;/p&gt;
&lt;p&gt;Weak hands will sell before stronger hands, and when market price decrease it’s
useful to know aggregate age data for the coins being sold. If coins are moving
from young wallets then the selling is likely much less significant than if
coins are being moved onto exchanges from old wallets.&lt;/p&gt;
&lt;h2 id="asopr"&gt;aSOPR&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;Adjusted Spent Output Profit Ratio&lt;/em&gt; is the same as &lt;span class="caps"&gt;SOPR&lt;/span&gt; but it ignores
coins less than 1 hour old.&lt;/p&gt;
&lt;p&gt;If profits are taken by old coins, aSOPR trends higher. It will trend lower
when older (and therefore profitable) coins remain dormant.&lt;/p&gt;
&lt;p&gt;The higher aSOPR is, the more profit has been taken off the table.&lt;/p&gt;
&lt;p&gt;When aSOPR is less than 1, spent coints are moved at an aggregate loss.&lt;/p&gt;
&lt;h2 id="urpd"&gt;&lt;span class="caps"&gt;URPD&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="caps"&gt;UTXO&lt;/span&gt; Realised Price Distribution&lt;/em&gt; - If a lot of coins have moved within a
particular price band, it is likely that there is strong price support and
resistance at this price.&lt;/p&gt;
&lt;p&gt;This would be truer and more reliable in a mature market. Because the market
for Bitcoin is expanding so rapidly and the price is so volatile, the attitudes
and expectations of market participants is also much more malleable than in
traditional finance. For example, what was considered a very high price 12
months ago would be considered a disaster today.&lt;/p&gt;
&lt;h2 id="rsi"&gt;&lt;span class="caps"&gt;RSI&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;Relative Strength Index&lt;/em&gt; is borrowed directly from traditional finance.
You can calculate it over different time periods.&lt;/p&gt;
&lt;h2 id="miner-net-position"&gt;Miner Net Position&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Miner Net Position&lt;/em&gt; shows the degree to which, on aggregate, Bitcoin miners
are profiting from the coins they’ve generated from mining. Miners are expected
to be among the most bullish of all market participants, and therefore it is
notable when they start moving coins from their mining wallets into exchange wallets.&lt;/p&gt;
&lt;h2 id="stock-to-flow"&gt;Stock-to-Flow&lt;/h2&gt;
&lt;p&gt;A stock to flow model is used to measure the scarcity of a commodity. It’s a
calculation based on the ratio of existing supply and how much
is being produced. The higher the ratio, the longer it will take for supply
to meet existing demand.&lt;/p&gt;
&lt;p&gt;Gold has a stock to flow ratio of 66, which means it would take 66 years at
the current rate of production to produce the amount of gold currently in
circulation. Silver has a &lt;span class="caps"&gt;S2F&lt;/span&gt; ratio of 74. &lt;span class="caps"&gt;BTC&lt;/span&gt; has a &lt;span class="caps"&gt;S2F&lt;/span&gt; of about 50.&lt;/p&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;Over the past 8 years, Bitcoin has gone through phases of rapid price increase
followed by periods of rapid decrease. The price has been driven by increasing
market size and a decreasing rate of issuance, and has been so volatile
(compared to traditional finance) that “1 month in cryptocurrency markets is
like 1 year in traditional markets”. However volatility is decreasing and we
are seeing lower highs and higher lows during each subsequent market cycle.&lt;/p&gt;
&lt;p&gt;The single biggest factor driving multi-year market cycles appears to be the
decreasing rate of supply increase (the issuance rate). The last 3 halvings&lt;sup id="sf-when-bitcoin-top-1-back"&gt;&lt;a class="simple-footnote" href="#sf-when-bitcoin-top-1" title="Every 210,000 blocks, the number of bitcoin awarded to the miner for successfully adding a block is halved. The last halving occurred in May 2020 and the rate of issuance halved from 12.5 BTC/block to 6.25 BTC/block"&gt;1&lt;/a&gt;&lt;/sup&gt; seem to have provoked the last
3 bull cycles. We are in the third bull cycle now (April 2021) and I fully
expect it to be followed by a bear cycle.&lt;/p&gt;
&lt;p&gt;As an amateur investor, I want to buy low and sell high. I’d like to time the
top and bottom of the market with reasonable accuracy, just like everyone else.
But I’m aware that my methods are less nuanced than professional traders and
analysts - I have access to less data than them and I’m not willing to put in
as much effort as they are. I’m happy to do this
&lt;a href="https://en.wikipedia.org/wiki/Pareto_principle"&gt;Pareto&lt;/a&gt; style - I’ll give it
20% of my maximum effort and I’ll be happy with 80% of an ideal result&lt;sup id="sf-when-bitcoin-top-2-back"&gt;&lt;a class="simple-footnote" href="#sf-when-bitcoin-top-2" title="I realise this probably isn’t, strictly, what Mr. Pareto was thinking when he published his research. I hope you get my intention."&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;This is a review of what I consider to be the best sources of metrics and
analysis that I’ve come across. All the resources used in this article are
attributed to the original author and have been made freely available on
Twitter. I hope its &lt;span class="caps"&gt;OK&lt;/span&gt; for me to repost them here, if it’s not then
let me know and I’ll edit the post.&lt;/p&gt;
&lt;h3&gt;Hopefully helpful links&lt;/h3&gt;
&lt;p&gt;This article assumes some familiarity with blockchains and financial markets.
Some more general articles on this site are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://johnmathews.eu/bitcoin-vs-gold.html"&gt;Bitcoin compared to Gold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://johnmathews.eu/buying-btc.html"&gt;How to buy bitcoin&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="analysts"&gt;Analysts&lt;/h1&gt;
&lt;p&gt;These insights, metrics and charts are the work of the following people and organisations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://twitter.com/woonomic"&gt;Willy Woo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/nsquaredcrypto"&gt;Timothy Peterson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/100trillionUSD"&gt;PlanB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/glassnode"&gt;Glass Node&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/rationalroot"&gt;therationalroot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/coinmetrics"&gt;CoinMetrics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/TimmerFidelity/status/1382026394541174787?s=20"&gt;Jurrien Timmer&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-when-bitcoin-top-1"&gt;Every 210,000
blocks, the number of bitcoin awarded to the miner for successfully adding a
block is halved. The last halving occurred in May 2020 and the rate of issuance
halved from 12.5 &lt;span class="caps"&gt;BTC&lt;/span&gt;/block to 6.25 &lt;span class="caps"&gt;BTC&lt;/span&gt;/block &lt;a class="simple-footnote-back" href="#sf-when-bitcoin-top-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-when-bitcoin-top-2"&gt;I
realise this probably isn’t, strictly, what Mr. Pareto was thinking when he
published his research. I hope you get my intention. &lt;a class="simple-footnote-back" href="#sf-when-bitcoin-top-2-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Cryptocurrencies"/><category term="bitcoin"/><category term="finance"/><category term="markets"/></entry><entry><title>where command</title><link href="https://johnmathews.eu/where-command.html" rel="alternate"/><published>2021-04-25T22:39:05+02:00</published><updated>2021-04-25T22:39:05+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-25:/where-command.html</id><summary type="html"/><content type="html">&lt;p&gt;Show all known locations of an executable
&lt;code&gt;where &lt;executable&gt;&lt;/executable&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See a list of all builtin commands
&lt;code&gt;man where&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="unix"/><category term="macOS"/><category term="cli"/><category term="bash"/></entry><entry><title>Reading - April 2021</title><link href="https://johnmathews.eu/reading-april-2021.html" rel="alternate"/><published>2021-04-21T12:55:20+02:00</published><updated>2021-04-21T12:55:20+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/reading-april-2021.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#the-architecture-behind-a-one-person-tech-startup"&gt;The Architecture Behind A One-Person Tech Startup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#boring-tech-behind-a-one-person-saas"&gt;Boring tech behind a one person SaaS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#djangos-place-in-a-web-development-world"&gt;Djangos place in a web development world&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#cache-invalidation"&gt;&lt;s&gt;Cache invalidation&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vim-abbreviations"&gt;Vim abbreviations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#to-fix-the-social-sciences-look-to-the-dark-ages-of-medicine"&gt;&lt;s&gt;To fix the social sciences, look to the “dark ages” of medicine&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#emotional-resilience-in-leadership-report"&gt;Emotional resilience in leadership report&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-virtues-of-a-programmer"&gt;3 virtues of a programmer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#is-webassembly-magic-performance-pixie-dust"&gt;Is WebAssembly magic performance pixie dust?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#yamauchi-no10-family-office"&gt;Yamauchi No.10 Family Office&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#improve-and-extend-your-text-objects-with-targetsvim"&gt;Improve and Extend Your Text Objects With targets.vim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#a-vim-guide-for-adept-users"&gt;A Vim Guide for Adept Users&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#deep-dive-in-cors"&gt;Deep dive in &lt;span class="caps"&gt;CORS&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#the-tty-demystified"&gt;The &lt;span class="caps"&gt;TTY&lt;/span&gt; demystified&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;Articles and blog posts I saved to read later:&lt;/p&gt;
&lt;h1 id="the-architecture-behind-a-one-person-tech-startup"&gt;&lt;a href="https://anthonynsimon.com/blog/one-man-saas-architecture/"&gt;The Architecture Behind A One-Person Tech Startup&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;An article by &lt;a href="https://twitter.com/anthonynsimon"&gt;Anthony Najjar Simon&lt;/a&gt; about how he runs his one-man SaaS using Django.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Low stress, one-person company, run from a flat.&lt;/li&gt;
&lt;li&gt;Self-funded, taking things slow - &lt;em&gt;he likes taking things slow&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Grateful to be standing on the shoulders of the open source giants who went ahead and made the &lt;span class="caps"&gt;OSS&lt;/span&gt; stack we all enjoy and benefit from.&lt;/li&gt;
&lt;li&gt;Your own context matters when choosing a tech stack. There is no “holy grail”. I guess this means that you should use what you’re familiar with and what is &lt;em&gt;boring&lt;/em&gt; for you.&lt;/li&gt;
&lt;li&gt;Uses K8s on &lt;span class="caps"&gt;AWS&lt;/span&gt;. He says “dont fall into the trap of thinking you need to use it too” - expertise with these tools was learnt over several years fighting fires on the day job.&lt;/li&gt;
&lt;li&gt;Productive because he used the tools he is most familiar with and he can focus on shipping.&lt;/li&gt;
&lt;li&gt;Django, Celery, PostgreSQL, Python, &lt;span class="caps"&gt;AWS&lt;/span&gt;, Redis. - same as MoneyBar and PipPip.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="boring-tech-behind-a-one-person-saas"&gt;&lt;a href="https://www.listennotes.com/blog/the-boring-technology-behind-a-one-person-23/"&gt;Boring tech behind a one person SaaS&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;The tech-stack keeps evolving&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;“&lt;/span&gt;Boring” means “what I’m familiar with so that I can focus on the business”&lt;/li&gt;
&lt;li&gt;Most of his time is spent talking to people and thinking. He spends 15% of his time on engineering. Probably it was more when he was setting stuff up.&lt;/li&gt;
&lt;li&gt;The methods described in the post are &lt;strong&gt;definitely not the best way&lt;/strong&gt;. &lt;em&gt;It’s just one way of doing engineering in a very specific type of business. It’s not the only way.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Django, Celery, PostgreSQL, Python, &lt;span class="caps"&gt;AWS&lt;/span&gt;, Redis. - same as MoneyBar and PipPip.&lt;/li&gt;
&lt;li&gt;Uses Ansible for provisioning machines. - &lt;span class="caps"&gt;YAML&lt;/span&gt; files. Should look into this.&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;“&lt;/span&gt;Good enough for now”&lt;/li&gt;
&lt;li&gt;Doesn’t use &lt;span class="caps"&gt;CI&lt;/span&gt; tools, he uses Ansible with a shell script he wrote.&lt;/li&gt;
&lt;li&gt;Uses &lt;a href="https://www.datadoghq.com/"&gt;Datadog&lt;/a&gt; for monitoring and alerting, and PagerDuty.&lt;/li&gt;
&lt;li&gt;Uses &lt;a href="https://rollbar.com/"&gt;Rollbar&lt;/a&gt;, which seems similar to Sentry.&lt;/li&gt;
&lt;li&gt;Uses Slack, not to talk with humans, but integrations with Rollbar and Datadog, and also &lt;a href="https://api.slack.com/messaging/webhooks"&gt;slack incoming webhooks&lt;/a&gt; to be notified when someone signs up or does something interesting like deletes a thing.&lt;/li&gt;
&lt;li&gt;Make a “ding” sound whenever someone signs up.&lt;/li&gt;
&lt;li&gt;He’s &lt;em&gt;always very careful about operational stuff&lt;/em&gt; to prevent downtime and outages. Servers are over-provisioned to protect against spikes caused by sudden media interest.&lt;/li&gt;
&lt;li&gt;Avoids working from home or cafe cos its more productive in an office. Productivity is important - make every minute count. He doesn’t often work more than 8 hours/day.&lt;/li&gt;
&lt;li&gt;He optimizes for spending less time and making money instead of more time and saving money.&lt;/li&gt;
&lt;li&gt;Uses &lt;code&gt;Vagrant&lt;/code&gt; and &lt;code&gt;virtualbox&lt;/code&gt; on an &lt;span class="caps"&gt;MBP&lt;/span&gt; so that dev work is on the same systems as prod infra.&lt;/li&gt;
&lt;li&gt;Uses 1 monolithic repo. Likes this approach.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;He uses contractors&lt;/em&gt;!!&lt;/li&gt;
&lt;li&gt;Usually, the biggest obstacle to building and shipping things is overthinking. What if this, what if that. You are not important at all and no one cares. No one sees. Even if you screw up the initial product launch, no one will care because they’re not looking. Only when you’ve proved that you deserve their attention will you have any attention and visibility.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://hackernoon.com/think-big-start-small-act-fast-6fdab1f771ea"&gt;Think big, start small, act fast&lt;/a&gt;&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Use boring technology, or whatever tech you want. Just make sure you’re solving an actual problem.&lt;/li&gt;
&lt;li&gt;Ignore the &lt;a href="https://stevemcconnell.com/articles/cargo-cult-software-engineering/"&gt;cargo cult people&lt;/a&gt; and ignore the noise. Keep calm and carry on.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="djangos-place-in-a-web-development-world"&gt;&lt;a href="https://thenewstack.io/djangos-place-in-a-web-development-world-ruled-by-react/"&gt;Djangos place in a web development world&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Not everything needs to be an &lt;span class="caps"&gt;SPA&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Django is a back-end framework, it’ll work with an front-end framework, because separation of concerns.&lt;/li&gt;
&lt;li&gt;To use django with an &lt;span class="caps"&gt;SPA&lt;/span&gt;, you could use &lt;span class="caps"&gt;DRF&lt;/span&gt;, or just normal views that return &lt;span class="caps"&gt;JSON&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Reading this makes me want to check out React to see what all the fuss is about.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="cache-invalidation"&gt;&lt;s&gt;&lt;a href="https://yihui.org/en/2018/06/cache-invalidation/"&gt;Cache invalidation&lt;/a&gt;&lt;/s&gt;&lt;/h1&gt;
&lt;h1 id="vim-abbreviations"&gt;&lt;a href="https://jovica.org/posts/vim_abbreviations/"&gt;Vim abbreviations&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Cool and all, but not as powerful as snippets I think.&lt;/li&gt;
&lt;li&gt;Auto correcting typos: teh -&amp;gt; the&lt;/li&gt;
&lt;li&gt;Expanding phrases: kr -&amp;gt; kind regards&lt;/li&gt;
&lt;li&gt;Multi-line text expansion.&lt;/li&gt;
&lt;li&gt;It really seems similar to what I’m using UltiSnips for.&lt;/li&gt;
&lt;li&gt;I found &lt;a href="https://stackoverflow.com/questions/30266587/snippets-vs-abbreviations-in-vim"&gt;this&lt;/a&gt; question on &lt;span class="caps"&gt;SO&lt;/span&gt; comparing abbreviations and snippets. &lt;span class="caps"&gt;TLDR&lt;/span&gt;: It’s easier to add and maintain snippets than abbreviations, and you have less boilerplate with snippets than abbreviations, especially in complex cases.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="to-fix-the-social-sciences-look-to-the-dark-ages-of-medicine"&gt;&lt;s&gt;&lt;a href="https://thereader.mitpress.mit.edu/social-sciences-dark-ages/"&gt;To fix the social sciences, look to the “dark ages” of medicine&lt;/a&gt;&lt;/s&gt;&lt;/h1&gt;
&lt;h1 id="emotional-resilience-in-leadership-report"&gt;&lt;a href="https://docs.google.com/document/d/18FfZ86PGA_uSFf425EzKXAmiFQLFBPqjqPN7iu1TZRw/preview?pru=AAABdEZGCv8*_gdPBrQH8tAPyvMfLk6Unw"&gt;Emotional resilience in leadership report&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="3-virtues-of-a-programmer"&gt;&lt;a href="http://threevirtues.com/"&gt;3 virtues of a programmer&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Laziness - The quality that makes you go to great effort to reduce overall energy expenditure. It makes you write labor-saving programs that other people will find useful and document what you wrote so you don’t have to answer so many questions about it.&lt;/li&gt;
&lt;li&gt;Impatience - The anger you feel when the computer is being lazy. This makes you write programs that don’t just react to your needs, but actually anticipate them. Or at least pretend to.&lt;/li&gt;
&lt;li&gt;Hubris - The quality that makes you write (and maintain) programs that other people won’t want to say bad things about.&lt;/li&gt;
&lt;li&gt;Also, I read a quote somewhere saying the mark of a great program is having people use it in ways you didn’t expect, or something like that.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="is-webassembly-magic-performance-pixie-dust"&gt;&lt;a href="https://surma.dev/things/js-to-asc/"&gt;Is WebAssembly magic performance pixie dust?&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="yamauchi-no10-family-office"&gt;&lt;a href="https://y-n10.com/"&gt;Yamauchi No.10 Family Office&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;A beautifully designed website.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="improve-and-extend-your-text-objects-with-targetsvim"&gt;&lt;a href="https://www.barbarianmeetscoding.com/blog/exploring-vim-plugins-improve-and-extend-your-text-objects-with-targets-vim"&gt;Improve and Extend Your Text Objects With targets.vim&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="a-vim-guide-for-adept-users"&gt;&lt;a href="https://thevaluable.dev/vim-adept"&gt;A Vim Guide for Adept Users&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;How to manipulate multiple quickfix and location lists.&lt;/li&gt;
&lt;li&gt;What are digraphs and how to use them.&lt;/li&gt;
&lt;li&gt;Useful keystrokes in &lt;span class="caps"&gt;INSERT&lt;/span&gt; mode.&lt;/li&gt;
&lt;li&gt;Useful keystrokes in &lt;span class="caps"&gt;VISUAL&lt;/span&gt; mode.&lt;/li&gt;
&lt;li&gt;Vim regular expressions.&lt;/li&gt;
&lt;li&gt;Using shell commands in Vim.&lt;/li&gt;
&lt;li&gt;Folding content.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="deep-dive-in-cors"&gt;&lt;a href="https://ieftimov.com/post/deep-dive-cors-history-how-it-works-best-practices/"&gt;Deep dive in &lt;span class="caps"&gt;CORS&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id="the-tty-demystified"&gt;&lt;a href="http://www.linusakesson.net/programming/tty/index.php"&gt;The &lt;span class="caps"&gt;TTY&lt;/span&gt; demystified&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ps 1&lt;/code&gt; - see which processes are running or sleeping. &lt;code&gt;WCHAN&lt;/code&gt; tells you which
    kernel event a waiting processing is awaiting.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Non-technical/Journal"/><category term="reading"/></entry><entry><title>Learning - April 2021</title><link href="https://johnmathews.eu/learning-april-2021.html" rel="alternate"/><published>2021-04-21T11:09:19+02:00</published><updated>2021-04-21T11:09:19+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/learning-april-2021.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#google-cloud-platform-service-accounts"&gt;Google Cloud Platform Service Accounts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ansible"&gt;Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ssh"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vagrant"&gt;Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="google-cloud-platform-service-accounts"&gt;&lt;a href="https://www.youtube.com/playlist?list=PLIivdWyY5sqIlPnZ7cvkg2Ck-8ZZ8TA5t"&gt;Google Cloud Platform Service Accounts&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;It seems like I’m looking for some general overview of how roles are managed,
viewed, compared, and inherited.&lt;/p&gt;
&lt;p&gt;How can you tell if a users (or a service accounts) roles are adequate, or
too much or too little for a particular task? And what’s the difference
between a user having some roles, and a user using a service account that
has those roles. &lt;/p&gt;
&lt;p&gt;It would also be nice to have some kind of adversarial test, that would
identify how/if users or service accounts can create identities with more
flexible permissions that their own.&lt;/p&gt;
&lt;p&gt;These short videos are good, but they’re not a complete solution. I’m not sure
where to look next.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/xXk1YlkKW_k" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;h1 id="ansible"&gt;&lt;a href="https://www.youtube.com/playlist?list=PL2_OBreMn7FplshFCWYlaN2uS8et9RjNG"&gt;Ansible&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Based on Jeff Geerlings book. There are 15 episodes. Jeff seems like a great
guy. I’m going to try listen to one of these each day.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/goclfp6a2IQ" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;h1 id="ssh"&gt;&lt;a href="https://www.youtube.com/watch?v=hQWRp-FdTpc&amp;amp;list=PLQGMHRkCCyDw5arrPInZT_T8TbDdzmeBp&amp;amp;index=4"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/hQWRp-FdTpc" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys"&gt;This&lt;/a&gt;
is also a very useful article. I made notes from it in another &lt;a href="https://johnmathews.eu/ssh-notes.html"&gt;post&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id="vagrant"&gt;&lt;a href="https://www.youtube.com/watch?v=vBrezgo&amp;amp;list=PLQGMHRkCCyDw5arrPInZT_T8TbDdzmeBp&amp;amp;index=2X"&gt;Vagrant&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;br/&gt;&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube-nocookie.com/embed/vBreXjkizgo" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Good for local development. (Especially when on aeroplanes?)&lt;/li&gt;
&lt;li&gt;Not as good for cloud providers as Terraform.&lt;/li&gt;
&lt;li&gt;No more snowflake servers.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Technical/Developer Tools"/><category term="learning"/><category term="youtube"/><category term="ansible"/><category term="ssh"/><category term="vagrant"/><category term="gcp"/><category term="service-accounts"/><category term="iam"/></entry><entry><title>Tweets - April 2021</title><link href="https://johnmathews.eu/tweets-april-2021.html" rel="alternate"/><published>2021-04-21T10:39:48+02:00</published><updated>2021-04-21T10:39:48+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/tweets-april-2021.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#front-end"&gt;Front-End&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#entrepreneurship"&gt;Entrepreneurship&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#mental-models"&gt;Mental Models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#agency"&gt;Agency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#razors"&gt;Razors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#crypto"&gt;Crypto&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="front-end"&gt;Front-End&lt;/h1&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt; 6 website for top landing page inspiration&lt;br/&gt;&lt;br/&gt;• onepagelove .com by &lt;a href="https://twitter.com/robhope?ref_src=twsrc%5Etfw"&gt;@robhope&lt;/a&gt; &lt;br/&gt;• lapa .ninja by &lt;a href="https://twitter.com/nguyendangtinh?ref_src=twsrc%5Etfw"&gt;@nguyendangtinh&lt;/a&gt; &lt;br/&gt;• landingfolio .com by &lt;a href="https://twitter.com/dannypostmaa?ref_src=twsrc%5Etfw"&gt;@dannypostmaa&lt;/a&gt;&lt;br/&gt;• saasframe .io by &lt;a href="https://twitter.com/AntoineMilkoff?ref_src=twsrc%5Etfw"&gt;@AntoineMilkoff&lt;/a&gt;&lt;br/&gt;• saaslandingpage .com by &lt;a href="https://twitter.com/Cruip_com?ref_src=twsrc%5Etfw"&gt;@Cruip_com&lt;/a&gt; &lt;br/&gt;• saaspages .xyz by &lt;a href="https://twitter.com/Versoly?ref_src=twsrc%5Etfw"&gt;@Versoly&lt;/a&gt;&lt;/p&gt;— Jim Raptis (@d__raptis) &lt;a href="https://twitter.com/d__raptis/status/1382240459288895491?ref_src=twsrc%5Etfw"&gt;April 14, 2021&lt;/a&gt; &lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;&lt;/p&gt;
&lt;h1 id="entrepreneurship"&gt;Entrepreneurship&lt;/h1&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;anyone interested in a fun &lt;a href="https://twitter.com/microacquire?ref_src=twsrc%5Etfw"&gt;@microacquire&lt;/a&gt; challenge?&lt;br/&gt;&lt;br/&gt;maybe 90 or 180 days from start to finish to build and sell a tiny company in public?&lt;br/&gt;&lt;br/&gt;would be really great M&amp;amp;A practice for my fellow founders&lt;/p&gt;— Jim Bisenius (@jim_bisenius) &lt;a href="https://twitter.com/jim_bisenius/status/1382169652403564546?ref_src=twsrc%5Etfw"&gt;April 14, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h2 id="mental-models"&gt;Mental Models&lt;/h2&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;Tobi's favorite example of &lt;span class="caps"&gt;FIRST&lt;/span&gt; &lt;span class="caps"&gt;PRINCIPLES&lt;/span&gt; is a Truck driver.&lt;br/&gt;&lt;br/&gt;His truck was sat still for 8 &lt;span class="caps"&gt;HOURS&lt;/span&gt; on &lt;span class="caps"&gt;THANKSGIVING&lt;/span&gt; waiting for his cargo to be unloaded when he realized…&lt;br/&gt;&lt;br/&gt;“Why not take the &lt;span class="caps"&gt;WHOLE&lt;/span&gt; trailer off the back of my ship rather than unloading + reloading each item?”&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1262509025515786248?ref_src=twsrc%5Etfw"&gt;May 18, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;&lt;span class="caps"&gt;LUTKE&lt;/span&gt; &lt;span class="caps"&gt;LEARNING&lt;/span&gt; 6 - &lt;span class="caps"&gt;TALENT&lt;/span&gt; &lt;span class="caps"&gt;STACK&lt;/span&gt; &lt;span class="caps"&gt;LED&lt;/span&gt; &lt;span class="caps"&gt;BY&lt;/span&gt; &lt;span class="caps"&gt;CURIOSITY&lt;/span&gt; &amp;gt; &lt;span class="caps"&gt;MBA&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;He didn't have an &lt;span class="caps"&gt;MBA&lt;/span&gt;. He didn't grind 100-hour workweeks. &lt;br/&gt;&lt;br/&gt;Instead, he played video games (which led to coding) and he snowboarded (which led to an online snowboarding store). &lt;br/&gt;&lt;br/&gt;This 'Talent Stack' led to Shopify.&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1262509059841953801?ref_src=twsrc%5Etfw"&gt;May 18, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;p&gt;A super long thread, worth reading it all:
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;Josh Waitzkin might be the most &lt;span class="caps"&gt;INTERESTING&lt;/span&gt; person alive.&lt;br/&gt;&lt;br/&gt;He doesn't have Twitter. And he barely uses the internet.&lt;br/&gt;&lt;br/&gt;I've compiled my favorite 5 &lt;span class="caps"&gt;MENTAL&lt;/span&gt; &lt;span class="caps"&gt;MODELS&lt;/span&gt; of his below.&lt;br/&gt;&lt;br/&gt;&lt;span class="caps"&gt;THREAD&lt;/span&gt;…&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1292206014746558471?ref_src=twsrc%5Etfw"&gt;August 8, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h2 id="agency"&gt;Agency&lt;/h2&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;1/ &lt;span class="caps"&gt;HIGH&lt;/span&gt; &lt;span class="caps"&gt;AGENCY&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;Once you &lt;span class="caps"&gt;SEE&lt;/span&gt; it - you can never &lt;span class="caps"&gt;UNSEE&lt;/span&gt; it. &lt;br/&gt;&lt;br/&gt;Arguedbly the most important personality trait you can foster. &lt;br/&gt;&lt;br/&gt;I've thought about this concept every week for the last two years since I heard &lt;a href="https://twitter.com/EricRWeinstein?ref_src=twsrc%5Etfw"&gt;@EricRWeinstein&lt;/a&gt; discuss it on &lt;a href="https://twitter.com/tferriss?ref_src=twsrc%5Etfw"&gt;@tferriss&lt;/a&gt;' podcast. &lt;br/&gt;&lt;br/&gt;&lt;span class="caps"&gt;THREAD&lt;/span&gt;…&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1068238562443841538?ref_src=twsrc%5Etfw"&gt;November 29, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h2 id="razors"&gt;Razors&lt;/h2&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;&lt;span class="caps"&gt;THREAD&lt;/span&gt;: 15 of the most useful razors and rules I've found.&lt;br/&gt;&lt;br/&gt;Rules of thumb that simplify decisions.&lt;/p&gt;— George Mack (@george__mack) &lt;a href="https://twitter.com/george__mack/status/1350513143387189248?ref_src=twsrc%5Etfw"&gt;January 16, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;
&lt;h1 id="crypto"&gt;Crypto&lt;/h1&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt; Now let’s compare this to the stock-to-flow model. Below I added in the &lt;span class="caps"&gt;S2F&lt;/span&gt; model, which is the aforementioned inflation rate regressed against price. /10 &lt;a href="https://t.co/eGRXIux6K2"&gt;pic.twitter.com/eGRXIux6K2&lt;/a&gt;&lt;/p&gt;— Jurrien Timmer (@TimmerFidelity) &lt;a href="https://twitter.com/TimmerFidelity/status/1382026424014548995?ref_src=twsrc%5Etfw"&gt;April 13, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt;
&lt;blockquote class="twitter-tweet"&gt;&lt;p dir="ltr" lang="en"&gt;&lt;a href="https://twitter.com/hashtag/Bitcoin?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#Bitcoin&lt;/a&gt; is looking strong at &lt;span class="caps"&gt;RSI&lt;/span&gt; 92. Still not above &lt;span class="caps"&gt;RSI&lt;/span&gt; 95 like 2017, 2013 and 2011 bull markets. I calculated &lt;span class="caps"&gt;BTC&lt;/span&gt; price needed for &lt;span class="caps"&gt;RSI&lt;/span&gt; 95 at April close: $92K. Let's see what the Coinbase &lt;span class="caps"&gt;IPO&lt;/span&gt; will do today🚀 &lt;a href="https://t.co/UTvdFWFhDK"&gt;pic.twitter.com/UTvdFWFhDK&lt;/a&gt;&lt;/p&gt;— PlanB (@100trillionUSD) &lt;a href="https://twitter.com/100trillionUSD/status/1382282077429719040?ref_src=twsrc%5Etfw"&gt;April 14, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"&gt;&lt;/script&gt; &lt;/p&gt;</content><category term="Non-technical/Journal"/><category term="twitter"/></entry><entry><title>SSH-Notes</title><link href="https://johnmathews.eu/ssh-notes.html" rel="alternate"/><published>2021-04-21T10:21:15+02:00</published><updated>2021-04-21T10:21:15+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-21:/ssh-notes.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#background"&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#authentication"&gt;Authentication&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#passwords-and-keys"&gt;Passwords and Keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#handshake"&gt;Handshake&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Secure Shell lets you securely connect to remote servers. You connect using
   an account that exists on the remote server. Once you’ve connected you’ll be
   dropped into a shell session.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The computer you connect from is the “local” or “client” computer. The
   computer you connect to is the “host” or the “server”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you’re connected to the server using &lt;span class="caps"&gt;SSH&lt;/span&gt;, any commands you input from
   the client are sent securely and privately (through a “tunnel”) to the remote
   computer, where the commands are executed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; is implemented using the client-server model. The server must be running
   a small app to listen for &lt;span class="caps"&gt;SSH&lt;/span&gt; connections. This kind of app is
   called a daemon (pronounced day-mon). For &lt;span class="caps"&gt;SSH&lt;/span&gt; to work, the host must be
   running the &lt;span class="caps"&gt;SSH&lt;/span&gt; daemon. The &lt;span class="caps"&gt;SSH&lt;/span&gt; daemon listens for connections on a specific
   port (22), authenticates connections requests, and (if the connection
   request is approved) it will spawn the correct environment. The correct
   environment is a terminal session.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The client (the computer you connect from) must be running an &lt;span class="caps"&gt;SSH&lt;/span&gt; client,
   which is a small app that can communicate using the &lt;span class="caps"&gt;SSH&lt;/span&gt; protocol. (A
   protocol is a set of rules.) It needs to be able to receive information
   about which host to connect to, which user to connect as and which
   credentials to use when trying to connect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="authentication"&gt;Authentication&lt;/h1&gt;
&lt;h2 id="passwords-and-keys"&gt;Passwords and Keys&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clients authenticate using passwords or keys. Passwords are less secure than
   keys. Keys are very secure. You can also connect using no authentication by
   specifying a particular &lt;span class="caps"&gt;IP&lt;/span&gt; address I think.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Passwords are encrypted, and are conceptually familiar, but can (and will)
   be brute forced. There are tools that will block repeated attempts or
   block/allow authentication attempts from particular &lt;span class="caps"&gt;IP&lt;/span&gt; addresses.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; keys using public and private (or secret) key pairs and are very secure.
   Keys are generated in pairs.  The public key can be shared freely without
   concern. The secret key must be kept as secure and secret as a password.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To authenticate using a key pair, the client must have both keys (a key
   pair) on their computer. The server must have the public key in a file
   called &lt;code&gt;authorized_keys&lt;/code&gt;. If the server has the private key then something
   has gone wrong and you should be alarmed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The server stores the public keys of users who can connect as a particular
   user in the file &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt;. The file contains a list of
   public keys, one public key on each row.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The default location to store the public key on the remote server is in the
   users home folder in a subdirectory called &lt;code&gt;.ssh/authorized_keys&lt;/code&gt;. The full
   path would be &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="handshake"&gt;Handshake&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When a client wants to connect to a server using &lt;span class="caps"&gt;SSH&lt;/span&gt;, it tells the server
   which public key to use. The server then checks in the &lt;code&gt;authorized_keys&lt;/code&gt; file
   for the public key. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A unique session &lt;span class="caps"&gt;ID&lt;/span&gt; is generated and shared between the client and server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the server has the same public key that the client sent when it  began
   the connection attempt, the server generates a random string and encrypts
   it using the public key. This random string can only be decrypted using the
   private (secret) key associated with the public key.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The server sends the encrypted string to the client. The client decrypts it
   using the secret key and combines the original random string with the
   session &lt;span class="caps"&gt;ID&lt;/span&gt;. The client then hashes the combined string and sends the hash
   back to the server. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The server already has the hash of the string combining the original random
   string and the session &lt;span class="caps"&gt;ID&lt;/span&gt;. If the hash from the client matches the hash on
   the server, the server can be sure that the client has the private key.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys"&gt;Source&lt;/a&gt;&lt;/p&gt;</content><category term="Technical/Developer Tools"/><category term="ssh"/><category term="linux"/><category term="security"/></entry><entry><title>alias to real</title><link href="https://johnmathews.eu/alias-real.html" rel="alternate"/><published>2021-04-20T22:40:09+02:00</published><updated>2021-04-20T22:40:09+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-20:/alias-real.html</id><summary type="html"/><content type="html">&lt;p&gt;Make aliased files the real file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; f in &lt;span class="k"&gt;$(&lt;/span&gt;find . -type l -maxdepth &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;do&lt;/span&gt; cp --remove-destination &lt;span class="k"&gt;$(&lt;/span&gt;readlink &lt;span class="nv"&gt;$f&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;$f&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="macos"/><category term="linux"/><category term="cli"/><category term="bash"/></entry><entry><title>ChezMoi</title><link href="https://johnmathews.eu/chezmoi.html" rel="alternate"/><published>2021-04-20T11:46:46+02:00</published><updated>2021-04-20T11:46:46+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-20:/chezmoi.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#background"&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#razor"&gt;Razor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#one-question"&gt;One Question&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#command-reference"&gt;Command Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#links"&gt;Links&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;Chezmoi seems to be dotfiles management for power users. Until a few days ago,
when I realised I’d massively broken a lot of things, I’d been putting my
dotfiles in a version controlled directory and using a shell script to generate
symlinks in my home directory.&lt;/p&gt;
&lt;p&gt;This had worked really well for several years. It’s a great system for
maintaining dotfiles on a single machine. But it’s not robust or flexible enough
for managing multiple machines or multiple operating systems.&lt;/p&gt;
&lt;p&gt;Also, it’s not just files that sit in &lt;em&gt;$home&lt;/em&gt; anymore, I need to track
configuration files that live in other places too&lt;sup id="sf-chezmoi-1-back"&gt;&lt;a class="simple-footnote" href="#sf-chezmoi-1" title="For example, every file in $HOME/.vim/ftplugin/ should be version controlled."&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;I needed something more robust and flexible than generating symlinks from a
bash script.&lt;/p&gt;
&lt;h1 id="razor"&gt;Razor&lt;/h1&gt;
&lt;p&gt;I think I read somewhere that when purchasing a new appliance you should buy
the cheapest you think you can get away with, and if that doesn’t work then get
the best you can afford. Moving from a custom bash script to Chezmoi is an
example of this. My custom bash script was the most basic approach, and it
broke badly. Chezmoi seems like the most heavy duty tool for dotfiles management
I could find.&lt;/p&gt;
&lt;p&gt;For example, I think I’m able to encrypt my files using 1Password or similar.
I can use Jinja templates to create scripts for different scenarios. I
don’t even know what that means at the moment. I’ve only scratched the surface
but I’m happily managing dotfiles across different machines and
updating/modifying them safely. Chezmoi (aliased to cm) is free and &lt;span class="caps"&gt;OSS&lt;/span&gt; so I’m
confident it’ll be “my” tool for the next few decades. I’m happy to invest a
couple of hours to learn a few new habits and iron out a few
wrinkles&lt;sup id="sf-chezmoi-2-back"&gt;&lt;a class="simple-footnote" href="#sf-chezmoi-2" title="Happily, it seems like the amount of time required to learn or become familiar with a new tool is decreasing. I guess this is to be expected as experience increases but nonetheless it’s gratifying to realise.Dotfiles management was a fairly new and interesting concept when I first began symlinking into my home directory. It still feels amazing to bootstrap a fresh machine and have it feel like home in just a few minutes, but the technicalities of it are now familiar."&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h1 id="one-question"&gt;One Question&lt;/h1&gt;
&lt;p&gt;I don’t understand why &lt;code&gt;chezmoi cd&lt;/code&gt; creates a new shell in order to jump into the
Chezmoi directory. Why not simply &lt;code&gt;cd&lt;/code&gt; into the Chezmoi directory? What’s the
advantage/necessity of a new shell?&lt;/p&gt;
&lt;p&gt;You have to remember to &lt;code&gt;exit&lt;/code&gt; after you’ve done whatever you went there to do,
but my habit is to &lt;code&gt;cd&lt;/code&gt; or &lt;code&gt;z ..&lt;/code&gt;. I guess it’s nice to exit and then
immediately go back to where ever you were before, but there are other ways of
doing that - you could write the current directory to an environment variable.
It seems unnecessarily complex.&lt;/p&gt;
&lt;h1 id="command-reference"&gt;Command Reference&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Show which files have changed → &lt;strong&gt;cm status&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;List of managed files → &lt;strong&gt;cm managed&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;List of unmanaged files → &lt;strong&gt;cm unmanaged&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Start tracking a file → &lt;strong&gt;cm add &lt;/strong&gt;&lt;/p&gt;&lt;dir file=""&gt;&lt;p&gt;&lt;/p&gt;
&lt;/dir&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Update a file, add the file again → &lt;strong&gt;cm add ..&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit tracked version of file → &lt;strong&gt;cm edit &lt;file&gt;&lt;/file&gt;&lt;/strong&gt; - don’t think I’m going to
    use this, I’d rather edit the source file, test it, and then update using
    &lt;strong&gt;cm add ..&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Differences between local version tracked versions → &lt;strong&gt;cm diff &lt;file&gt;&lt;/file&gt;&lt;/strong&gt; -
    this tells me which files I need to &lt;strong&gt;cm add&lt;/strong&gt; again. This feels clunky and I
    suspect there is a better workflow. Parsing git style diff files is horrible.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clobber local version with the tracked version → &lt;strong&gt;cm apply&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dry run and see diff between local version and tracked version → &lt;strong&gt;cm -nv apply&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pull the latest changes from your repo and apply them → &lt;strong&gt;cm update&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove a file →&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create &lt;strong&gt;.chezmoiremove&lt;/strong&gt; in the source directory&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;chezmoi apply –remove –dry-run –verbose&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Type &lt;strong&gt;cm&lt;/strong&gt; instead of &lt;strong&gt;chezmoi&lt;/strong&gt; → &lt;strong&gt;alias cm=”chezmoi”&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="links"&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/twpayne/chezmoi"&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.chezmoi.io/"&gt;Project Site&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-chezmoi-1"&gt;For example, every file
in &lt;code&gt;$HOME/.vim/ftplugin/&lt;/code&gt; should be version controlled. &lt;a class="simple-footnote-back" href="#sf-chezmoi-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-chezmoi-2"&gt;Happily, it seems like the amount of time required to learn or
become familiar with a new tool is decreasing. I guess this is to be expected
as experience increases but nonetheless it’s gratifying to realise.&lt;br class="mb-3"/&gt;Dotfiles
management was a fairly new and interesting concept when I first began
symlinking into my home directory. It still feels amazing to bootstrap a fresh
machine and have it feel like home in just a few minutes, but the
technicalities of it are now familiar. &lt;a class="simple-footnote-back" href="#sf-chezmoi-2-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Developer Tools"/><category term="linux"/></entry><entry><title>tmux-window-reorg</title><link href="https://johnmathews.eu/tmux-window-reorg.html" rel="alternate"/><published>2021-04-19T22:42:42+02:00</published><updated>2021-04-19T22:42:42+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-19:/tmux-window-reorg.html</id><summary type="html"/><content type="html">&lt;p&gt;Reorganize tmux windows&lt;/p&gt;
&lt;p&gt;&lt;code&gt;swap-window -s 3 -t 1&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="tmux"/><category term="macos"/><category term="linux"/><category term="cli"/></entry><entry><title>vim save sudo</title><link href="https://johnmathews.eu/vim-save-sudo.html" rel="alternate"/><published>2021-04-17T22:44:10+02:00</published><updated>2021-04-17T22:44:10+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-17:/vim-save-sudo.html</id><summary type="html"/><content type="html">&lt;p&gt;Save a Vim file with sudo when you opened it without sudo-ing:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;:w !sudo tee %&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="vim"/><category term="macos"/><category term="linux"/></entry><entry><title>climbing higher</title><link href="https://johnmathews.eu/climbing-higher.html" rel="alternate"/><published>2021-04-16T22:45:44+02:00</published><updated>2021-04-16T22:45:44+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-16:/climbing-higher.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;The trouble with climbing higher is that eventually you lose sight of the ground.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="advice"/><category term="thoughts"/><category term="meta"/></entry><entry><title>I Leaked Credentials Onto A Public GitHub Repo</title><link href="https://johnmathews.eu/i-leaked-credentials-onto-a-public-github-repo.html" rel="alternate"/><published>2021-04-15T19:19:35+02:00</published><updated>2021-04-15T19:19:35+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-15:/i-leaked-credentials-onto-a-public-github-repo.html</id><summary type="html"/><content type="html">&lt;div class="toc"&gt;&lt;span class="toctitle"&gt;Table of Contents&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#dont-post-secrets-to-public-github-repositories"&gt;Don’t post secrets to public GitHub repositories.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#background"&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#the-hack"&gt;The hack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#remediation"&gt;Remediation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#questions"&gt;Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#study"&gt;Study&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#comments"&gt;Comments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="dont-post-secrets-to-public-github-repositories"&gt;Don’t post secrets to public GitHub repositories.&lt;/h1&gt;
&lt;p&gt;I made this mistake a while ago, and in the interests of openness and learning
from others, I’d like to describe what happened. Maybe it’ll help others avoid
the mistake, and maybe I’ll learn something from any conversation this article generates.&lt;/p&gt;
&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;Using Google Cloud Platform (&lt;span class="caps"&gt;GCP&lt;/span&gt;), I’ve been doing some work across multiple
compute instances. Thankfully, the work wasn’t business critical or on
production systems.  My account was isolated  away from the rest of the business.&lt;/p&gt;
&lt;p&gt;As the number of servers I was working with increased, I realised I needed to
begin using some tools to automate server setup. This lead me to begin using
Ansible, and once I’d cobbled together a working playbook I pushed my Ansible
project to my GitHub account… And accidentally leaked the key for an
account I’d been using.&lt;/p&gt;
&lt;h1 id="the-hack"&gt;The hack&lt;/h1&gt;
&lt;p&gt;Within a couple of minutes of pushing the repository to GitHub I:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Made the repository private.&lt;/li&gt;
&lt;li&gt;Stopped tracking the keys in git and removed them from the cache &lt;code&gt;git rm -r --cached &lt;dir&gt;&lt;/dir&gt;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Received an email from Google saying they’d found leaked credentials.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class="caps"&gt;OK&lt;/span&gt;, close call. The secret was leaked for less than 5 minutes. On my obscure
personal GitHub.&lt;/p&gt;
&lt;p&gt;I thought there was nothing to worry about.. But then I noticed some activity
in the console.&lt;/p&gt;
&lt;p&gt;Compute instances were being created, I could see the list growing rapidly.
Over the next few minutes 195 compute instances and disks were being created,
each with a unique name in zones across the world. The format of the name was
&lt;code&gt;node-&lt;type&gt;-&lt;number&gt;&lt;/number&gt;&lt;/type&gt;&lt;/code&gt;. Where type was either application, backup, jenkins,
gke, prod, staging, worker, www, build, redis, or runner. Maybe some others
too. The number seemed to be 5 random digits.&lt;/p&gt;
&lt;p&gt;Some of the instances were ephemeral. They all had delete protection enabled. I
checked the details of a few of them and noticed some scripts that included
references to Monero.&lt;/p&gt;
&lt;p&gt;So I guess a Monero mining bot was being set up.&lt;/p&gt;
&lt;p&gt;The logs showed that &lt;span class="caps"&gt;GKE&lt;/span&gt; and networking resources had also been requested, but
the account which the stolen credentials belonged to didn’t have the necessary
permissions. Our project also maxed out its quota of compute instances in
multiple regions and zones.&lt;/p&gt;
&lt;h1 id="remediation"&gt;Remediation&lt;/h1&gt;
&lt;p&gt;I deleted the account that had been leaked, and began quantifying the
damage. I wanted to know exactly what permissions the key had, which
resources could be created, and could the leaked account be used to create
other accounts? No, it can’t.&lt;/p&gt;
&lt;p&gt;After looking around and becoming confident that it was &lt;em&gt;only&lt;/em&gt; 195 compute
instances with disks and delete protection that had been created, in regions
and zones across the globe, I began to remove them. No other resources had been provisioned.&lt;/p&gt;
&lt;p&gt;It took me 10 minutes and some googling to create the following workflow:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Get all the compute instances and dump them into a file. I expected to run a
   script that iterated through the file line by line, setting variables based
   on the content of the current line: &lt;code&gt;gcloud compute instances list --format 'csv[no-heading](name, zone)' &amp;gt; names.txt&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Vim, find the rows that contain the instances that I don’t want to
   delete, and remove these from the file. There are a handful of compute
   instances I want to keep, and 195 that I want to remove. &lt;code&gt;:v/node-&lt;/code&gt; shows
   any rows that &lt;em&gt;don’t&lt;/em&gt; include “node-”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Loop through the file and for each row, which contains the instance name and its zone,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Remove delete protection&lt;/li&gt;
&lt;li&gt;Delete the instance&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="nv"&gt;IFS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;, &lt;span class="nb"&gt;read&lt;/span&gt; -r name zone
  &lt;span class="k"&gt;do&lt;/span&gt; gcloud compute instances update &lt;span class="nv"&gt;$name&lt;/span&gt; --zone &lt;span class="nv"&gt;$zone&lt;/span&gt; --no-deletion-protection &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; gcloud compute instances delete &lt;span class="nv"&gt;$name&lt;/span&gt; --zone &lt;span class="nv"&gt;$zone&lt;/span&gt; --quiet
&lt;span class="k"&gt;done&lt;/span&gt; &amp;lt; names.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;--quiet&lt;/code&gt; flag is necessary because otherwise gcloud will ask me to confirm
that I want to delete the instance otherwise.&lt;/p&gt;
&lt;h1 id="questions"&gt;Questions&lt;/h1&gt;
&lt;p&gt;I’m surprised by the speed with which the attacker found the leaked
credentials. The repo did not belong to the clients account but my own, and I
assume that my account is obscure enough to not be on any interesting lists. If
my account is being scanned every few minutes, presumably all accounts are
being scanned regularly.&lt;/p&gt;
&lt;p&gt;How many resources are required to do that? I guess if one of these attacks
works you can use the stolen compute to scan more repositories for more leaked
credentials. It’s easy to imagine scenarios where large corporations that are
already running complicated cloud infrastructure deployments wouldn’t notice a
few (200?) unauthorized compute instances running.&lt;/p&gt;
&lt;h1 id="study"&gt;Study&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/playlist?list=PLIivdWyY5sqIlPnZ7cvkg2Ck-8ZZ8TA5t"&gt;Service accounts&lt;/a&gt; on Google Cloud Platform.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=goclfp6a2IQ&amp;amp;t=1962s"&gt;Ansible&lt;/a&gt; videos.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=hQWRp-FdTpc"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt; crash course.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://youtu.be/vBrezgoX"&gt;Vagrant&lt;/a&gt; crash course.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/26479562/what-does-ifs-do-in-this-bash-loop-cat-file-while-ifs-read-r-line-do/26480210"&gt;&lt;span class="caps"&gt;IFS&lt;/span&gt;=&lt;/a&gt; syntax explanation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="comments"&gt;Comments&lt;/h1&gt;
&lt;p&gt;There was some useful &lt;a href="https://lobste.rs/s/5vwctk/i_leaked_credentials_onto_public_github"&gt;discussion&lt;/a&gt; about this article on Lobste.rs.&lt;/p&gt;</content><category term="Technical/Developer Tools"/><category term="hack"/><category term="github"/><category term="service-account"/><category term="keys"/><category term="security"/></entry><entry><title>broot</title><link href="https://johnmathews.eu/broot.html" rel="alternate"/><published>2021-04-13T22:49:26+02:00</published><updated>2021-04-13T22:49:26+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-13:/broot.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;a href="https://dystroy.org/broot/"&gt;Broot&lt;/a&gt; is a tool that shows the contents of a directory on one screen, even its got lots of files or sub-directories.&lt;/p&gt;</content><category term="snippet"/><category term="broot"/><category term="macos"/><category term="cli"/></entry><entry><title>Adding Keyboard Navigation</title><link href="https://johnmathews.eu/adding-keyboard-navigation.html" rel="alternate"/><published>2021-04-12T22:50:48+02:00</published><updated>2021-04-12T22:50:48+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-12:/adding-keyboard-navigation.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;I added keyboard navigation to my blog and it works really well. Now I find
myself trying to use the same shortcuts on other sites.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="blog"/><category term="jam"/><category term="jquery"/></entry><entry><title>Ansible</title><link href="https://johnmathews.eu/ansible.html" rel="alternate"/><published>2021-04-12T11:40:41+02:00</published><updated>2021-04-12T11:40:41+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-12:/ansible.html</id><summary type="html"/><content type="html">&lt;h1 id="background"&gt;Background&lt;/h1&gt;
&lt;p&gt;I’ve been spending a lot of time lately working on nodes for various blockchain
projects (Polkadot, Cardano, Tron, Binance Chain, Ethereum, …). The rosetta
api spec is super interesting, but like most things in crypto the documentation
is sometimes wrong or incomplete and there are bugs and undocumented features. &lt;/p&gt;
&lt;p&gt;Each of the nodes runs on a separate server, and we typically have one node for
mainnet and another for testnet.  I’m working across mutiple servers, doing
difficult stuff, and I want it to be as easy as possible.&lt;/p&gt;
&lt;p&gt;I need to reduce friction and cognitive load.&lt;/p&gt;
&lt;p&gt;Accessing the servers is easy - I use Tmux with the
&lt;a href="https://github.com/tmux-plugins/tmux-continuum"&gt;continuum&lt;/a&gt; and
&lt;a href="https://github.com/tmux-plugins/tmux-resurrect"&gt;resurrect&lt;/a&gt; plugins and
maintain different sessions for each type of server. This makes accessing
multiple servers during the same work day really simple and effortless. But
working on the servers is still awkward.&lt;/p&gt;
&lt;p&gt;On my dev machine I have &lt;code&gt;zsh&lt;/code&gt; with syntax highlighting, command completion,
and various tools, like &lt;a href="https://github.com/agkozak/zsh-z"&gt;z&lt;/a&gt; to make
navigation supper easy. I also have a lot of aliases defined. E.g. &lt;code&gt;..&lt;/code&gt; → &lt;code&gt;cd
..&lt;/code&gt;. Working on a remote server should be as convenient and familiar as working
on my local machine, so I want to find a way to configure a server the same way
as my laptop, and I want to do it automatically so that it can be done many
times, with no additional effort.&lt;/p&gt;
&lt;h1 id="ansible"&gt;Ansible&lt;/h1&gt;
&lt;p&gt;Ansible seems to be popular because:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It’s free&lt;/li&gt;
&lt;li&gt;It’s got all the features and capabilities you’re going to need&lt;/li&gt;
&lt;li&gt;It’s agentless - you don’t need to install anything on the machine you want
   to control - you can use Ansible with anything that you can ssh into.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I used the following resources to get started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;This &lt;a href="https://www.youtube.com/watch?v=w9eCU4bGgjQ"&gt;useful video&lt;/a&gt; gave me some
    orientation and helped me figure out what I was aiming for and how to get
    started. Before watching it, I didn’t know “which way was up”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This &lt;a href="http://matthieure.me/2018/12/31/ansible_inventory_plugin.html"&gt;blog
    post&lt;/a&gt; showed
    me how to create an inventory using the &lt;code&gt;gcp_compute&lt;/code&gt; plugin.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I spent a lot of time being unnecessarily confused about service accounts.
    I guess until you have 1 success at understanding something you don’t know
    if you’ve misunderstood by a little or a lot.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once you have an inventory of servers that you want to connect to, you
    still need to specify (and prepare for) how you will connect to them. I’d
    hoped that the &lt;code&gt;gcp_compute&lt;/code&gt; plugin would do some heavy lifting for me in
    this step, but it seems not. It &lt;em&gt;can&lt;/em&gt; do lots of useful stuff like
    creating instances and specifying disk space and networks, but it won’t
    really help you ssh into an instance. No matter though…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This &lt;a href="https://alex.dzyoba.com/blog/gcp-ansible-service-account/"&gt;blog post&lt;/a&gt;
    turned out to be just what I needed. I found it at the beginning of my
    search when I was trying to create an inventory, and discarded it as almost
    useful. Turns out that &lt;code&gt;OS Login&lt;/code&gt; is the best way to ssh into a &lt;span class="caps"&gt;GCE&lt;/span&gt;
    instance and once you’ve got your inventory taken care of, this blog post
    really helps.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When I was installing python modules, I had some errors about pyenv shims
being incorrect. The scripts were looking for versions that weren’t present.
Running &lt;code&gt;pyenv reshash&lt;/code&gt; fixed it. Kind of magically, but annoying.&lt;/p&gt;
&lt;p&gt;Setting up a service account and giving it the correct permissions took more
time and was more confusing than anything to do with Ansible.&lt;/p&gt;
&lt;p&gt;I found this &lt;a href="https://www.arthurkoziel.com/setting-up-vim-for-yaml/"&gt;blog post&lt;/a&gt;
about setting up vim for &lt;code&gt;yml&lt;/code&gt; files.&lt;/p&gt;
&lt;p&gt;The preferred way to install ansible on Mac is using &lt;code&gt;pip&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;When you use &lt;code&gt;OS Login&lt;/code&gt; the username you have when you ssh into the compute
instance will change. This &lt;a href="https://superuser.com/questions/1379434/google-compute-engine-ssh-different-username-after-switching-to-os-login"&gt;&lt;span class="caps"&gt;SO&lt;/span&gt;
question&lt;/a&gt;
explains why.&lt;/p&gt;
&lt;h1 id="commands"&gt;Commands&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;gcloud auth list&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible-config view|list|dump&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible-inventory -i inventory.compute.gcp.yml --graph&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible -i inventory.compute.gcp.yml all -m ping&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Technical/Developer Tools"/><category term="ansible"/><category term="servers"/><category term="ssh"/><category term="automation"/></entry><entry><title>github actions blog</title><link href="https://johnmathews.eu/github-actions-blog.html" rel="alternate"/><published>2021-04-10T22:53:39+02:00</published><updated>2021-04-10T22:53:39+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-10:/github-actions-blog.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;I should see if I can use GitHub actions to generate html from markdown and run
some shell and python scripts.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="github"/><category term="blog"/></entry><entry><title>socially acceptable mistakes</title><link href="https://johnmathews.eu/socially-acceptable-mistakes.html" rel="alternate"/><published>2021-04-10T22:52:26+02:00</published><updated>2021-04-10T22:52:26+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-10:/socially-acceptable-mistakes.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;Its more socially acceptable to make mistakes and errors of omission than commission.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="meta"/><category term="thinking"/><category term="advice"/></entry><entry><title>du command</title><link href="https://johnmathews.eu/du-command.html" rel="alternate"/><published>2021-04-07T22:55:19+02:00</published><updated>2021-04-07T22:55:19+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-07:/du-command.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;du&lt;/code&gt; is a tool for showing disk usage.&lt;/p&gt;
&lt;p&gt;There is a similar tool, with a list of other similar tools
&lt;a href="https://dev.yorhel.nl/ncdu`"&gt;here&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="cli"/><category term="unix"/><category term="macos"/></entry><entry><title>safe bash scripting</title><link href="https://johnmathews.eu/safe-bash-scripting.html" rel="alternate"/><published>2021-04-06T22:56:14+02:00</published><updated>2021-04-06T22:56:14+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-06:/safe-bash-scripting.html</id><summary type="html"/><content type="html">&lt;p&gt;An &lt;a href="https://t.co/MRxnbHgryD?amp=1"&gt;example&lt;/a&gt; of a safe, good, robust bash file skeleton.&lt;/p&gt;</content><category term="snippet"/><category term="bash"/></entry><entry><title>running a binary in debian</title><link href="https://johnmathews.eu/running-a-binary-in-debian.html" rel="alternate"/><published>2021-04-05T22:58:02+02:00</published><updated>2021-04-05T22:58:02+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-05:/running-a-binary-in-debian.html</id><summary type="html"/><content type="html">&lt;p&gt;I was running a binary in Debian that was complaining about an environment
variable not existing. I moved the binary into a $&lt;span class="caps"&gt;PATH&lt;/span&gt; directory and logged in as a
sudo user. Why did this solve the problem?&lt;/p&gt;</content><category term="snippet"/><category term="debian"/><category term="binary"/><category term="path"/></entry><entry><title>Over-Engineering this blog</title><link href="https://johnmathews.eu/over-engineering-this-blog.html" rel="alternate"/><published>2021-04-05T11:54:00+02:00</published><updated>2021-04-05T11:54:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-05:/over-engineering-this-blog.html</id><summary type="html"/><content type="html">&lt;p&gt;Over the last few weeks I’ve spent an unreasonable amount of time and energy
making unnecessary improvements to this blog.&lt;/p&gt;
&lt;p&gt;Some of these improvements are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Adding keyboard shortcuts (type &lt;code&gt;?&lt;/code&gt; to find out which).&lt;/li&gt;
&lt;li&gt;&lt;a href="https://johnmathews.eu/Adding-search.html"&gt;Implementing&lt;/a&gt;, then
   &lt;a href="https://johnmathews.eu/fuse-search.html"&gt;reimplementing&lt;/a&gt;, and then optimizing client
   side fuzzy search.&lt;/li&gt;
&lt;li&gt;Using &lt;code&gt;src-set&lt;/code&gt; to serve responsive images
   (&lt;a href="https://github.com/pelican-plugins/image-process"&gt;Image-Process&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Lazy loading images to make this site load faster.&lt;/li&gt;
&lt;li&gt;Compressing page files using &lt;code&gt;brotli&lt;/code&gt; and also &lt;code&gt;gzip&lt;/code&gt;
   (&lt;a href="https://github.com/kurtmckee/pelican_precompress"&gt;Precompress&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Trying (and ultimately failing) to avoid a “white flash” when dark mode is
   chosen and a new page loads (&lt;a href="https://github.com/tailwindlabs/tailwindcss/discussions/3904"&gt;Github
   discussion&lt;/a&gt;).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I’m not really sure why I did it. It makes almost no difference to anyone but
me. It felt a bit compulsive.&lt;/p&gt;
&lt;p&gt;I like tinkering, and it’s nice to build something that will continue to work
with no maintenance. I tell myself that over the next few years I will gain the
benefits of these features even when I’ve forgotten I implemented them.&lt;/p&gt;
&lt;p&gt;It’s taught me a lot of JavaScript, which is a great language to be familiar
with - it’s everywhere. I would warmly encourage someone younger than myself to
pursue interests for the sake of curiosity and fun. And there is a very high
chance that even if no-one uses the shortcuts except me, my new javascript
skills will come in useful somewhere else.&lt;/p&gt;
&lt;p&gt;But even if they do I’m not sure its a good enough reason - things should be
built when they solve a present problem, not over-engineered for what-ifs and
maybes. &lt;a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it"&gt;&lt;span class="caps"&gt;YAGNI&lt;/span&gt;&lt;/a&gt;. I
wouldn’t let myself do this in a professional capacity. There is a tension
between being curious and being focussed.&lt;/p&gt;
&lt;p&gt;I’m not really sure that I need to justify myself. Its a hobby, I wanted to do
it, I enjoy tinkering with web technologies and learning new things.&lt;/p&gt;
&lt;p&gt;But also, I lost sleep over this - I stayed up too late, and let it put
pressure on other things.&lt;/p&gt;
&lt;p&gt;I know that being curious, and making room to play with interesting things, has
been one of the most useful approaches to personal development and up-skilling
myself. But there must be a limit..&lt;/p&gt;
&lt;p&gt;There is a tension between wasting my time and taking a risk, and it will take
a few years before I know for sure if these efforts were worthwhile, or not.&lt;/p&gt;
&lt;p&gt;If it’s not fun, don’t do it.&lt;/p&gt;
&lt;p&gt;Successful business owners seem to be very good at leaving things alone once
they’re “good enough”, and not being perfectionists. In fact, I think that
being a perfectionist is antithetical to being an entrepreneur. I am not a
perfectionist, I’m just really curious and have a big appetite for learning.&lt;/p&gt;
&lt;p&gt;But this “appetite for learning” stops me from focussing. I let myself become
distracted by adding new features to this blog, when instead I should zoom out
a bit and think about working towards a more substantial and meaningful goal,
to the exclusion of more minor goals.&lt;/p&gt;
&lt;p&gt;I think that good entrepreneurs are very focussed, to a fault. I am not that
focussed. I am too distracted by life.&lt;/p&gt;
&lt;p&gt;It’s a balancing act, there is a tension between being emotionally and
physically present with my family and friends, and ignoring as many things as
possible so that I can focus on doing something meaningful that is necessarily hard.&lt;/p&gt;</content><category term="Technical/Web"/><category term="blog"/><category term="javascript"/><category term="self-reflection"/></entry><entry><title>Fuse Search</title><link href="https://johnmathews.eu/fuse-search.html" rel="alternate"/><published>2021-04-05T10:45:00+02:00</published><updated>2021-04-05T10:45:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-05:/fuse-search.html</id><summary type="html"/><content type="html">&lt;h2 id="adding-search-made-the-site-feel-faster-and-more-accessible"&gt;Adding search made the site feel faster and more accessible&lt;/h2&gt;
&lt;p&gt;I’ve reimplemented search on this site using &lt;a href="https://fusejs.io/"&gt;fuse.js&lt;/a&gt;
instead of &lt;a href="https://github.com/tinysearch/tinysearch"&gt;tinySearch&lt;/a&gt;. You can read
about how I implemented tinysearch &lt;a href="https://johnmathews.eu/Adding-search.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When I first implemented search I was surprised how much faster and more accessible
the site began to feel. I could quickly access any content by typing a few
words, I didn’t need to scroll or follow a link.&lt;sup id="sf-fuse-search-1-back"&gt;&lt;a class="simple-footnote" href="#sf-fuse-search-1" title="It also immediately gave me the idea to add keyboard shortcuts. Type ? to see what happened"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;This means I can find content without having to think about how to get there -
I don’t need to break my flow or concentration. It might sound like a
trivially small consideration, but lowering friction or cognitive load in small
ways can make the difference between using or not using something when you’re
already working hard or concentrating on something else. &lt;/p&gt;
&lt;p&gt;For example, if I want to look up my notes about using the &lt;code&gt;nohup&lt;/code&gt; command, I
can quickly go to the site, type &lt;code&gt;/&lt;/code&gt; (the keyboard shortcut for search), type
“nohup” and hit enter. This is all muscle-memory level impulses. I don’t need
to think about the content, think about its category or when I posted it,
then scroll down and scan a list, or use a mouse to click on intermediate links.
Win. Working at the speed of thought rather than the speed of input is a big deal.&lt;/p&gt;
&lt;h2 id="why-i-switched-from-tinysearch-to-fusejs"&gt;Why I switched from tinySearch to Fuse.js&lt;/h2&gt;
&lt;p&gt;Before implementing &lt;code&gt;fuse.js&lt;/code&gt;, this site had a search feature powered by
TinySearch. I wouldn’t have had enough knowledge to implement fuse.js
if I hadn’t already learnt some JavaScript whilst setting-up tinySearch.&lt;/p&gt;
&lt;p&gt;TinySearch had an example for Pelican Blogs, and a simple and clear readme. By using
tinySearch first I saw an example of how to build the &lt;span class="caps"&gt;JSON&lt;/span&gt; array that becomes
the search index, and how to implement the javascript that’s required for
client side search.&lt;/p&gt;
&lt;p&gt;Also, in the course of developing and over-engineering this blog I’ve become
much more proficient and comfortable with JavaScript (and jQuery) in general. &lt;/p&gt;
&lt;p&gt;Fuse.js is really quite simple to set up once you’re familiar with JavaScript.
It’s much more flexible than tinySearch; you  can choose search
weights for different fields, accuracy thresholds, and some parameters for the
fuzzy search algorithm.&lt;/p&gt;
&lt;p&gt;The general approach is to instantiate an instance of &lt;code&gt;Fuse&lt;/code&gt; by calling Fuse
with a &lt;span class="caps"&gt;JSON&lt;/span&gt; array for it to parse, along with some options. You then give the
instance a string and get back an array of results which you can do whatever you
want with.&lt;/p&gt;
&lt;p&gt;The accuracy of the search results is higher with &lt;code&gt;fuse.js&lt;/code&gt; and the speed is
still acceptable. I did have to do some optimization of the search index that
Fuse generates, though.&lt;/p&gt;
&lt;h2 id="optimizing-the-search-index"&gt;Optimizing the search index&lt;/h2&gt;
&lt;p&gt;The “normal” search index that Fuse uses to return results is a &lt;span class="caps"&gt;JSON&lt;/span&gt; array of
all the content of all the articles that you want to be able to search. You can
generate it using a jinja template or any other way you want. (There simply
needs to be a &lt;span class="caps"&gt;JSON&lt;/span&gt; array that the browser downloads and does a fuzzy search
on). This gave me a file that was about &lt;span class="caps"&gt;4MB&lt;/span&gt;. Once I asked Fuse to search the
complete text of each article (not just the default first 600 chars, iirc) then
speed really suffered.&lt;/p&gt;
&lt;p&gt;I optimized the index file in the following three ways:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Removed any non-words. Some of my articles are jupyter notebooks that have
been converted to articles (the plugin to do this is one of the reasons why I
began using Pelican). When the index is built, lots of code and html gets
included, which isn’t helpful. Any “words” that are more than 20 chars I just delete.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Removed the 150 most common words. Any word that is in many articles is
not useful for distinguishing between different articles, so they can be
deleted from the index. They don’t add any meaning. I wrote a short pipeline of
shell commands using &lt;code&gt;tr&lt;/code&gt;, &lt;code&gt;sort&lt;/code&gt;, &lt;code&gt;uiq&lt;/code&gt; to generate a file with a list of the
most common words. I then wrote a python script to update the original search
index by removing all the common words.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shortened any long words by only keeping the first 12 characters. If a
word was 15 characters long, I simply removed that last 3 chars. I figured this
would work fine because matching the first 12 characters would already be quite
unique and give a good result.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Doing these 3 optimizations reduced the file size by about 90%. Compressing the
&lt;span class="caps"&gt;JSON&lt;/span&gt; using &lt;code&gt;gzip&lt;/code&gt; or &lt;code&gt;brotli&lt;/code&gt; makes the files even smaller, and now the amount
of data transferred to the client seems reasonably small. (This is a static
site, and therefore search has to happen client side.)&lt;/p&gt;
&lt;p&gt;The browser would still begin to lag as the search string length increased. It
takes more time to search for a 10 character string than for a 5 character
string, and initially fuse was doing a search every time a character was typed.&lt;/p&gt;
&lt;p&gt;I wanted the site to feel as fast as possible and thought that if search was
paused whilst typing and occurred a short time after the last key was pressed
this would be an improvement. I added a short delay of 200ms to the function
call, and typing during the delay time resets the time. This reduced the lag
and made the search tool feel responsive. I learnt that this is called “debouncing”.&lt;/p&gt;
&lt;p&gt;There was some further complexity when I wanted to debounce characters used for
searching, but not the navigation or keyboard shortcuts. Getting the
debounce function to only run on some key presses was surprisingly complex. It
taught me a lot of JavaScript though, and it’s satisfying to have made a useful
user interface.&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-fuse-search-1"&gt;It also immediately gave
me the idea to add keyboard shortcuts. Type &lt;code&gt;?&lt;/code&gt; to see what happened &lt;a class="simple-footnote-back" href="#sf-fuse-search-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Web"/><category term="Fuse"/><category term="Search"/><category term="Web"/></entry><entry><title>creating slowly</title><link href="https://johnmathews.eu/creating-slowly.html" rel="alternate"/><published>2021-04-01T23:02:09+02:00</published><updated>2021-04-01T23:02:09+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-01:/creating-slowly.html</id><summary type="html"/><content type="html">&lt;p&gt;As a hacker, or creator, or whatever the best label is, I always want to create
something (usually code) and have it finished.&lt;/p&gt;
&lt;p&gt;But a strange creativity and productivity boost comes from dabbling, dipping in
and out.&lt;/p&gt;
&lt;p&gt;I think that if the technical challenges aren’t too hard, then the main
criteria for success is creativity.&lt;/p&gt;
&lt;p&gt;Creativity needs time away from the project, and sleep, to bubble up and let
ideas grow.&lt;/p&gt;
&lt;p&gt;Ultimately, the most successful path is usually the most interesting, because
success has more consequences than failure. “Interesting” requires elements of
novelty and surprise, and without creativity these elements can’t flourish. 3/n&lt;/p&gt;
&lt;p&gt;Dabbling results in more creativity than 6+ hours of strenuous work, and is
more likely to give you satisfying results.&lt;/p&gt;</content><category term="snippet"/><category term="meta"/><category term="thinking"/><category term="advice"/></entry><entry><title>arrow syntax in bash</title><link href="https://johnmathews.eu/arrow-syntax-in-bash.html" rel="alternate"/><published>2021-04-01T22:59:00+02:00</published><updated>2021-04-01T22:59:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-04-01:/arrow-syntax-in-bash.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;code&gt;bar &amp;lt;&amp;lt; foo&lt;/code&gt; bar will stop reading input when it reached “foo”.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bar &amp;lt;&amp;lt;&amp;lt; "foo"&lt;/code&gt; foo is all the input. bar wont run interactively.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bar &amp;lt; &amp;lt;(foo:list)&lt;/code&gt; process subscription. Kind of like piping in the output of multiple commands.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://askubuntu.com/questions/678915/whats-the-difference-between-and-in-bash"&gt;Stack Overflow&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="bash"/><category term="syntax"/></entry><entry><title>pretty print json in typescript</title><link href="https://johnmathews.eu/pretty-print-json-in-typescript.html" rel="alternate"/><published>2021-03-31T23:04:25+02:00</published><updated>2021-03-31T23:04:25+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-31:/pretty-print-json-in-typescript.html</id><summary type="html"/><content type="html">&lt;p&gt;Pretty print &lt;span class="caps"&gt;JSON&lt;/span&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;console.info(`&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;JSON&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stringify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;`);
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="typescript"/><category term="json"/><category term="syntax"/></entry><entry><title>Vim: GoTo Tag Definition</title><link href="https://johnmathews.eu/vim-notes-goto-tag-definition.html" rel="alternate"/><published>2021-03-31T15:57:00+02:00</published><updated>2021-03-31T15:57:00+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-31:/vim-notes-goto-tag-definition.html</id><summary type="html"/><content type="html">&lt;h2 id="update-2021-03-31"&gt;Update (2021-03-31):&lt;/h2&gt;
&lt;p&gt;Just use neovim.coc instead of YouCompleteMe or Syntastic.&lt;/p&gt;
&lt;p&gt;It’s faster, easier to setup, and works intuitively. &lt;span class="caps"&gt;ALE&lt;/span&gt; is still wonderful and
useful, though there’s a lot of overlap - coc can lint as well.&lt;/p&gt;
&lt;h2 id="jump-lists-and-change-lists"&gt;Jump Lists and Change Lists&lt;/h2&gt;
&lt;p&gt;If you’re going to be jumping around to where things are defined, you will need
to know how to jump back again. It seems there are two lists you need to be
aware of, the &lt;em&gt;jump list&lt;/em&gt;&lt;sup id="sf-vim-notes-goto-tag-definition-1-back"&gt;&lt;a class="simple-footnote" href="#sf-vim-notes-goto-tag-definition-1" title=":help jumplist"&gt;1&lt;/a&gt;&lt;/sup&gt; and the &lt;em&gt;change
list&lt;/em&gt;&lt;sup id="sf-vim-notes-goto-tag-definition-2-back"&gt;&lt;a class="simple-footnote" href="#sf-vim-notes-goto-tag-definition-2" title=":help changelist"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h3&gt;Jump List&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A list of locations that the cursor has jumped to.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-o&gt;&lt;/c-o&gt;&lt;/code&gt; move up the jump list&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;c-i&gt;&lt;/c-i&gt;&lt;/code&gt; mode down the jump list&lt;/li&gt;
&lt;li&gt;Jumping to a definition, or a search result&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Change List&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;g;&lt;/code&gt; and &lt;code&gt;g,&lt;/code&gt; → move up and down the change list&lt;/li&gt;
&lt;li&gt;A list of locations where a change was made.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'.&lt;/code&gt; → go to the location of your last edit (&lt;code&gt;.&lt;/code&gt; is a mark).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;''&lt;/code&gt; → go back to where you were before your last jump&lt;/li&gt;
&lt;/ul&gt;
&lt;hr/&gt;
&lt;h2 id="original-post"&gt;Original Post:&lt;/h2&gt;
&lt;p&gt;There are multiple ways of doing anything with vim, including going to where a
function or object is defined, and I usually need to do something at least 3 times
before I can do it without breaking my focus or train of thought.&lt;/p&gt;
&lt;p&gt;My memory is hazy but I remember spending a 1/2 day looking into this and
considering which solution I wanted to commit to.&lt;sup id="sf-vim-notes-goto-tag-definition-3-back"&gt;&lt;a class="simple-footnote" href="#sf-vim-notes-goto-tag-definition-3" title="The more powerful the tool, the more worthwhile it is to take a closer look at what it can and can’t do."&gt;3&lt;/a&gt;&lt;/sup&gt; My options seemed to be between
&lt;a href="https://github.com/ycm-core/YouCompleteMe"&gt;YouCompleteMe&lt;/a&gt; and
&lt;a href="https://github.com/dense-analysis/ale"&gt;&lt;span class="caps"&gt;ALE&lt;/span&gt;&lt;/a&gt;. [Update!&lt;sup id="sf-vim-notes-goto-tag-definition-4-back"&gt;&lt;a class="simple-footnote" href="#sf-vim-notes-goto-tag-definition-4" title="YCM and ALE work fine for goto definition and linting, but they don’t give me satisfactory autocompletion. neoclide/coc.nvim looks like it might offer some improvements. neoclide/coc.nvim"&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;
&lt;p&gt;I can’t remember everything I read and tried, but I trust my conclusions.
Looking in my &lt;code&gt;.vimrc&lt;/code&gt; I see that I have &lt;code&gt;&lt;leader&gt;x&lt;/leader&gt;&lt;/code&gt; mapped to &lt;code&gt;:YcmCompleter
GoTo&lt;/code&gt; and it works just fine, even when a module is imported from somewhere
outside the current project. The tool was working and ready to use, I just
hadn’t internalized it yet.&lt;/p&gt;
&lt;h2 id="commands-to-remember"&gt;Commands to remember:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&lt;leader&gt;x&lt;/leader&gt;&lt;/code&gt; - GoTo definition - YCMs best guess at an ‘intelligent’ goto
command, whether its a declaration or a definition.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&lt;f2&gt;&lt;/f2&gt;&lt;/code&gt; - Toggle tagbar&lt;/li&gt;
&lt;/ul&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-vim-notes-goto-tag-definition-1"&gt;&lt;code&gt;:help jumplist&lt;/code&gt; &lt;a class="simple-footnote-back" href="#sf-vim-notes-goto-tag-definition-1-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-vim-notes-goto-tag-definition-2"&gt;&lt;code&gt;:help changelist&lt;/code&gt; &lt;a class="simple-footnote-back" href="#sf-vim-notes-goto-tag-definition-2-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-vim-notes-goto-tag-definition-3"&gt;The more powerful the
tool, the more worthwhile it is to take a closer look at what it can and can’t
do. &lt;a class="simple-footnote-back" href="#sf-vim-notes-goto-tag-definition-3-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-vim-notes-goto-tag-definition-4"&gt;&lt;span class="caps"&gt;YCM&lt;/span&gt; and
&lt;span class="caps"&gt;ALE&lt;/span&gt; work fine for goto definition and linting, but they don’t give me
satisfactory autocompletion. &lt;code&gt;neoclide/coc.nvim&lt;/code&gt; looks like it might offer some
improvements.
&lt;a href="https://www.vimfromscratch.com/articles/vim-for-python/"&gt;neoclide/coc.nvim&lt;/a&gt; &lt;a class="simple-footnote-back" href="#sf-vim-notes-goto-tag-definition-4-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="Technical/Developer Tools"/></entry><entry><title>useful business</title><link href="https://johnmathews.eu/useful-business.html" rel="alternate"/><published>2021-03-30T23:07:07+02:00</published><updated>2021-03-30T23:07:07+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-30:/useful-business.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;&lt;a href="http://analystsnow.com"&gt;analystsnow.com&lt;/a&gt; looks like a really useful business.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="entrepreneur"/><category term="saas"/></entry><entry><title>frantic distraction</title><link href="https://johnmathews.eu/frantic-distraction.html" rel="alternate"/><published>2021-03-30T23:05:59+02:00</published><updated>2021-03-30T23:05:59+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-30:/frantic-distraction.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;Frantic distraction via productive procrastination is exhausting, and useful.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="meta"/><category term="thinking"/></entry><entry><title>vim split rearranging</title><link href="https://johnmathews.eu/vim-split-rearranging.html" rel="alternate"/><published>2021-03-29T23:09:27+02:00</published><updated>2021-03-29T23:09:27+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-29:/vim-split-rearranging.html</id><summary type="html"/><content type="html">&lt;h2 id="rearrange-splits-in-vim"&gt;Rearrange splits in Vim&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;&lt;c-w&gt;x&lt;/c-w&gt;&lt;/code&gt; - swap buffers, but keep arrangement the same&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&lt;c-w&gt;H&lt;/c-w&gt;&lt;/code&gt; - make the current split cover the left of the screen.&lt;/p&gt;
&lt;p&gt;J, K, L covers the bottom, top, right of the screen&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://thoughtbot.com/blog/vim-splits-move-faster-and-more-naturally"&gt;blog post&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/6053301/easier-way-to-navigate-between-vim-split-panes"&gt;stack overflow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="snippet"/><category term="vim"/></entry><entry><title>pelican plugin guide</title><link href="https://johnmathews.eu/pelican-plugin-guide.html" rel="alternate"/><published>2021-03-29T23:07:52+02:00</published><updated>2021-03-29T23:07:52+02:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-29:/pelican-plugin-guide.html</id><summary type="html"/><content type="html">&lt;p&gt;A &lt;a href="https://blog.geographer.fr/pelican-plugins"&gt;guide&lt;/a&gt;
 about writing plugins for Pelican.&lt;/p&gt;
&lt;p&gt;Thanks @geographeur&lt;/p&gt;</content><category term="snippet"/><category term="pelican"/><category term="plugin"/><category term="guide"/></entry><entry><title>read and write same file</title><link href="https://johnmathews.eu/read-and-write-same-file.html" rel="alternate"/><published>2021-03-24T23:11:55+01:00</published><updated>2021-03-24T23:11:55+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-24:/read-and-write-same-file.html</id><summary type="html"/><content type="html">&lt;p&gt;Tried to read and write the same file in a pipeline, and got caught out by a race condition (why is the file empty?!). Do this instead:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;some_script &amp;lt; file &amp;gt; smscrpt.&lt;span class="nv"&gt;$$&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mv smscrpt.&lt;span class="nv"&gt;$$&lt;/span&gt; file &lt;span class="o"&gt;||&lt;/span&gt; rm smscrpt.&lt;span class="nv"&gt;$$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;||&lt;/code&gt; removes the temporary file if it errors.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$$&lt;/code&gt; is the process &lt;span class="caps"&gt;ID&lt;/span&gt; and ensures that you always have a unique temporary
file name.&lt;/p&gt;</content><category term="snippet"/><category term="shell"/><category term="pipe"/><category term="syntax"/><category term="bash"/></entry><entry><title>json tools</title><link href="https://johnmathews.eu/json-tools.html" rel="alternate"/><published>2021-03-24T23:10:45+01:00</published><updated>2021-03-24T23:10:45+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-24:/json-tools.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;span class="caps"&gt;JSON&lt;/span&gt; tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;jj&lt;/code&gt; - A &lt;a href="https://github.com/tidwall/jj"&gt;stream editor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jq&lt;/code&gt; - A json processor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;python -m json.tool&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I like &lt;code&gt;jq&lt;/code&gt; for pretty printing &lt;span class="caps"&gt;JSON&lt;/span&gt; output, &lt;code&gt;jj&lt;/code&gt; for making &lt;span class="caps"&gt;JSON&lt;/span&gt; pretty or condensed.&lt;/p&gt;
&lt;p&gt;This was really useful when optimizing the search index for this blog.&lt;/p&gt;</content><category term="snippet"/><category term="json"/></entry><entry><title>docker commands</title><link href="https://johnmathews.eu/docker-commands.html" rel="alternate"/><published>2021-03-17T23:14:43+01:00</published><updated>2021-03-17T23:14:43+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-17:/docker-commands.html</id><summary type="html"/><content type="html">&lt;p&gt;Commands for working with Docker containers.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run -d ...
docker logs -f &lt;id&gt;
docker run -it ...
docker run -itd
docker container attach &lt;id&gt;
&lt;c-p&gt;&lt;c-q&gt; -&amp;gt; detach from container interactively
&lt;/c-q&gt;&lt;/c-p&gt;&lt;/id&gt;&lt;/id&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/34029680/docker-detached-mode"&gt;stack overflow&lt;/a&gt;&lt;/p&gt;</content><category term="snippet"/><category term="docker"/></entry><entry><title>Python Notes</title><link href="https://johnmathews.eu/python-notes-2.html" rel="alternate"/><published>2021-03-17T09:12:00+01:00</published><updated>2021-03-17T09:12:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-17:/python-notes-2.html</id><summary type="html"/><content type="html">&lt;h1 id="95_call__"&gt;__call__()&lt;/h1&gt;
&lt;p&gt;In Python, every time you call a function or method such as &lt;code&gt;my_function()&lt;/code&gt; or
&lt;code&gt;my_class.my_method()&lt;/code&gt; the interpreter will replace the &lt;code&gt;(&lt;/code&gt; with
&lt;code&gt;.__call__(&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;my_function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;my_function&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Prefixer&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prefix&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;prefix&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
       &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prefix&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then use &lt;em&gt;prefixer&lt;/em&gt; like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span class="nv"&gt;simonsays&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; Prefixer&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Simon says: "&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt;&amp;gt;&amp;gt; simonsays&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"jump up high!"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="s1"&gt;'Simon says: jump up high!'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Every time you call a function or method, you’re really just calling a built in
&lt;code&gt;__call__&lt;/code&gt; method.&lt;/p&gt;
&lt;h1 id="there-should-be-one-and-preferably-only-one-obvious-way-to-do-something"&gt;There should be one, and preferably only one, obvious way to do something&lt;/h1&gt;
&lt;p&gt;It’s in the ‘zen of Python’, which is a set of guidelines that help make
design decisions. It’s a choice that Python made, and other languages do it differently.&lt;/p&gt;
&lt;p&gt;There are different
&lt;a href="https://johnmathews.eu/python-notes.html#levels-of-python-code"&gt;levels&lt;/a&gt; to
languages and this applies more to the idiom level than the design pattern
level. It applies even less at the architectural level where there can be
several equally good ways of organizing business logic and data representations.&lt;/p&gt;
&lt;p&gt;Perl has the “&lt;span class="caps"&gt;TMTOWTDI&lt;/span&gt;” (tim towtdi) principle - “There’s More Than One Way To Do
It”. Perl’s philosophy is to give users more than one way to do something.&lt;/p&gt;</content><category term="Technical/Developer Tools"/><category term="python"/><category term="learning notes"/></entry><entry><title>Adding Search</title><link href="https://johnmathews.eu/Adding-search.html" rel="alternate"/><published>2021-03-12T17:27:00+01:00</published><updated>2021-03-12T17:27:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-12:/Adding-search.html</id><summary type="html"/><content type="html">&lt;p&gt;I’ve added search to this blog. Results are generated as you type. Try it by
typing &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;cmd-k&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you look on the Pelican &lt;a href="https://github.com/pelican-plugins"&gt;plugins&lt;/a&gt; index
you’ll see that &lt;a href="https://github.com/pelican-plugins/tipue-search"&gt;Tipue search&lt;/a&gt;
is the only search tool with a ready-made Pelican plugin, but unfortunately the
project seems to have died and the projects &lt;a href="https://tipue.com/"&gt;website&lt;/a&gt; is
now something else.&lt;/p&gt;
&lt;p&gt;But searching a static site must be quite a common need and googling for
alternatives gave me a few choices. &lt;a href="https://lunrjs.com/"&gt;Lunr.js&lt;/a&gt; seems to be
the most popular, but it also seemed fairly complicated and like it was
probably more than I needed. I went with &lt;a href="https://github.com/tinysearch/tinysearch"&gt;Tiny
Search&lt;/a&gt; because it seemed to do what
I needed and was easy to setup. There’s even an example for
Pelican blogs.&lt;/p&gt;
&lt;p&gt;One hurdle to success was minimising the false positives. The default settings
seem to prioritise keeping the size of the index small (tiny) over giving a
good user experience. Maybe its because the amount of text on my site is
significanly less, or more, than the typical use case. Either way, after
checking the project’s issues on Github I found an issue that matched my
problem perfectly. The solution is to increase the tiny_magic variable at build time.&lt;/p&gt;
&lt;p&gt;According to the Readme, this requires using a container and building the index
using &lt;code&gt;docker run...&lt;/code&gt;. Unfortunately the Dockerfile wouldn’t complete without
errors. Checking the issues again and adding to the discussion resulted in an
alternative Dockerfile being suggested, which works. Woohoo! I could then build
the search index with a massive tiny_magic value (2048).&lt;/p&gt;
&lt;p&gt;Then something weird happened. I write in Vim and I use &lt;code&gt;fzf&lt;/code&gt; to find and open
files. I realised that &lt;code&gt;fzf&lt;/code&gt; had stopped working. After some investigating, I
realised it was only not working in the blog project, and that &lt;code&gt;fzf.vim&lt;/code&gt; calls
the &lt;code&gt;fzf&lt;/code&gt; &lt;span class="caps"&gt;CLI&lt;/span&gt; tool, which in turn calls the &lt;code&gt;ripgrep&lt;/code&gt; tool. The underlying
issue was that &lt;code&gt;ripgrep&lt;/code&gt;  wasn’t working, and after a few hours (sob) of
debugging, I found out that one of the things that makes &lt;code&gt;rg&lt;/code&gt; special is that
it ignores stuff in your .gitignore file. Sneakily, and without me  noticing,
the Docker image for constructing the tinysearch files had created a
.gitignore file with a single entry. The entry was *, which selects
everything. So &lt;code&gt;rg&lt;/code&gt; was ignoring everything, and giving no results. Which
meant I couldn’t find and open files.&lt;/p&gt;
&lt;p&gt;I still don’t know how (or which part of) the Dockerfile does this, so I’ve
created a .gitignore-master file which contains the correct content, and
after I generate a new search index I replace the new traitorous .gitignore
with the contents of .gitignore-master. I’ll come back to it later
when/if I have a better understanding of Dockerfile syntax, or Rust.&lt;/p&gt;
&lt;p&gt;Adding search to the site made the content feel a lot closer and more
accessible. Once it was working I immediately wanted to use some keyboard
shortcuts to open the search box and select results. Kind of like
&lt;a href="https://tailwindcss.com/"&gt;tailwindcss.com&lt;/a&gt; does it. It feels really fast and precise.&lt;/p&gt;
&lt;p&gt;Googling for some jquery packages, and also some vanilla javaScript showed me
enough to get things working. You can hit &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;ctrl-k&lt;/code&gt; or &lt;code&gt;cmd-k&lt;/code&gt; and bring up a search box
that populates results as you type!&lt;/p&gt;
&lt;p&gt;Only whole words are matched unfortunately, but its still a super useful
feature. The search index includes article content as well as article titles
and categories. I’d like to tweak a few of the keyboard shortcut behaviours,
and add the contents of various pages (which aren’t articles) to the search index.&lt;/p&gt;
&lt;h2 id="update"&gt;Update&lt;/h2&gt;
&lt;p&gt;I’ve reimplemented search using &lt;code&gt;fuse.js&lt;/code&gt;. You can read about it &lt;a href="https://johnmathews.eu/fuse-search.html"&gt;here&lt;/a&gt;&lt;/p&gt;</content><category term="Technical/Web"/><category term="blog"/><category term="search"/><category term="tinysearch"/><category term="web"/></entry><entry><title>pipe a script files into bash</title><link href="https://johnmathews.eu/pipe-a-script-files-into-bash.html" rel="alternate"/><published>2021-03-11T23:16:13+01:00</published><updated>2021-03-11T23:16:13+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-11:/pipe-a-script-files-into-bash.html</id><summary type="html"/><content type="html">&lt;p&gt;Pipe a script file into bash, probably one you just &lt;code&gt;curl&lt;/code&gt;-ed&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl -sSfL https://example.com/install.sh &lt;span class="p"&gt;|&lt;/span&gt; sh -s
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="bash"/><category term="syntax"/><category term="shell"/></entry><entry><title>split long output onto multiple lines</title><link href="https://johnmathews.eu/split-long-output-onto-multiple-lines.html" rel="alternate"/><published>2021-03-10T23:19:12+01:00</published><updated>2021-03-10T23:19:12+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-10:/split-long-output-onto-multiple-lines.html</id><summary type="html"/><content type="html">&lt;h2 id="split-long-strings"&gt;Split long strings&lt;/h2&gt;
&lt;p&gt;Split long strings (or command outputs) onto multiple lines
Find and replace a particular char (maybe &lt;code&gt;:&lt;/code&gt;) with a &lt;code&gt;\n&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;tr&lt;/span&gt; &lt;span class="s1"&gt;':'&lt;/span&gt; &lt;span class="s1"&gt;'\n'&lt;/span&gt;

&lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;sed&lt;/span&gt; &lt;span class="s1"&gt;'s/:/\n/g'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="bash"/><category term="linux"/></entry><entry><title>ripgrep regret</title><link href="https://johnmathews.eu/ripgrep-regret.html" rel="alternate"/><published>2021-03-10T23:18:09+01:00</published><updated>2021-03-10T23:18:09+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-10:/ripgrep-regret.html</id><summary type="html"/><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Without noticing, create a .gitignore file with a single * in it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Spend a day trying to understand why ripgrep has stopped working for only 1 project.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sad face.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="snippet"/><category term="ripgrep"/><category term="fail"/></entry><entry><title>teaching kids about money</title><link href="https://johnmathews.eu/teaching-kids-about-money.html" rel="alternate"/><published>2021-03-05T23:23:46+01:00</published><updated>2021-03-05T23:23:46+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/teaching-kids-about-money.html</id><summary type="html"/><content type="html">&lt;p&gt;&lt;em&gt;Teaching my kids about money and work is having an effect.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Yesterday, my daughter made a painting for me and asked my to buy it using
pretend money.&lt;/em&gt;&lt;/p&gt;</content><category term="snippet"/><category term="parenting"/><category term="kids"/><category term="money"/><category term="teaching"/></entry><entry><title>stop prepending sudo to docker commands</title><link href="https://johnmathews.eu/stop-prepending-sudo-to-docker-commands.html" rel="alternate"/><published>2021-03-05T23:22:58+01:00</published><updated>2021-03-05T23:22:58+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/stop-prepending-sudo-to-docker-commands.html</id><summary type="html"/><content type="html">&lt;p&gt;Stop prepending docker commands with sudo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo groupadd docker -&amp;gt; make the group 
sudo gpasswd -a &lt;span class="nv"&gt;$USER&lt;/span&gt; docker -&amp;gt; add &lt;span class="nv"&gt;$USER&lt;/span&gt; to the docker group
newgrp docker -&amp;gt; activate the changes
&lt;/pre&gt;&lt;/div&gt;</content><category term="snippet"/><category term="sudo"/><category term="docker"/><category term="linux"/></entry><entry><title>cat and a new line</title><link href="https://johnmathews.eu/cat-and-a-new-line.html" rel="alternate"/><published>2021-03-05T23:21:43+01:00</published><updated>2021-03-05T23:21:43+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/cat-and-a-new-line.html</id><summary type="html"/><content type="html">&lt;p&gt;If you’re &lt;code&gt;cat&lt;/code&gt;-ing a file and the bash prompt doesn’t start on a new line (cos
the file you displayed using cat doesn’t end with a new line char) the
following will fix it:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat &lt;filename&gt; ; echo&lt;/filename&gt;&lt;/code&gt;&lt;/p&gt;</content><category term="snippet"/><category term="cat"/><category term="linux"/><category term="bash"/><category term="shell"/></entry><entry><title>Cardano: Generating Addresses</title><link href="https://johnmathews.eu/cardano-generating-addresses.html" rel="alternate"/><published>2021-03-05T16:14:00+01:00</published><updated>2021-03-05T16:14:00+01:00</updated><author><name>John Mathews</name></author><id>tag:johnmathews.eu,2021-03-05:/cardano-generating-addresses.html</id><summary type="html"/><content type="html">&lt;p&gt;If many different customers are to deposit or send &lt;span class="caps"&gt;ADA&lt;/span&gt; (The unit of currency on the
Cardano blockchain) to a Cardano node, it will be necessary to determine which
customer is responsible for each transaction so that the correct customer
account can be updated.&lt;/p&gt;
&lt;p&gt;As with many things involving blockchains, this initially seemed like a simple
requirement but involved several hours of work. &lt;/p&gt;
&lt;p&gt;Cardano wallets are generated using a parameter called ADDRESS_POOL_GAP. The
default value is 20, and is the number of unused addresses that the node will
generate and return to a client using the &lt;span class="caps"&gt;REST&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt;. If one of the addresses is
used, the node will automatically generate another so that there are always 20
unused addresses.&lt;/p&gt;
&lt;p&gt;This is probably very convenient for personal use. If I want someone to send me
some funds, I can make a simple api call using cURL and get a fresh address.
But if you are running a service, weather its e-commerce or a financial
service, its not really good enough. Some advice on the forums says to generate
a wallet with a very large ADDRESS_POOL_GAP value such as 10,000 and just
generate a new wallet when you run out of fresh addresses, but it still
feels like a compromise.&lt;/p&gt;
&lt;p&gt;But lets explain our situation in more detail first. If a customer wants to
send us some &lt;span class="caps"&gt;ADA&lt;/span&gt;, we want to give them a fresh address that’s never been used
before and that only they have. Then we know that any funds that arrive to that
address are from a particular customer. However we don’t know if the customer
will actually use the address and transfer any funds. The address might remain
unused or it might not. Nevertheless, that address is now reserved for them,
and no one else can use it. &lt;/p&gt;
&lt;p&gt;In this way, we might need to generate and maintain a list of thousands of
addresses that are never used. Using ADDRESS_POOL_GAP for this seems like a bad solution. &lt;/p&gt;
&lt;p&gt;Fortunately,
&lt;a href="https://github.com/input-output-hk/cardano-addresses"&gt;Cardano-Addresses&lt;/a&gt; has
the answer, albeit in a fairly convoluted and obscured form. If you have the
mnemonic that was used to generate a wallet originally, you can generate 2^31
unique addresses like so:&lt;/p&gt;
&lt;p&gt;Clone the repo and build the docker image:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/input-output-hk/cardano-wallet 
docker build -t cardano-address .
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get the mnemonic and generate a file containing a list of space separated words on one row.&lt;/p&gt;
&lt;p&gt;Run the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;increment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;increment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;increment+1&lt;span class="o"&gt;))&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cat mnumonic.txt &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address key from-recovery-phrase Shelley &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address key child 1852H/1815H/0H/0/&lt;span class="nv"&gt;$increment&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address key public --with-chain-code  &lt;span class="p"&gt;|&lt;/span&gt; docker run --rm -i cardano-address address payment --network-tag testnet &amp;gt; payment.addr &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cat payment.addr &lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;</content><category term="Technical/Cryptocurrencies"/></entry></feed>